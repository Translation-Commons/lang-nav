import{u as v,r as b,O as l,S as z,j as e,a as V,V as C,b as ee,g as S,L as f,C as te,c as w,T as H,H as se,R as ne,P as ae,i as re}from"./index-BLfqyNAq.js";import{T as Y,O as q,L as J}from"./LimitInput-Btk_eFUO.js";import{u as g,a as ie}from"./DataContext-C7Bp2iYy.js";import{c as oe,g as L,a as le,b as ce,H as de,d as W,e as F,f as M}from"./filter-BMhZDEK7.js";import{g as T,V as ue,C as he,T as E,O as N,a as I,N as k,I as D,H as y,b as ge,c as pe,d as me,L as je,E as $,e as xe,f as fe,h as Q,i as ye,P as X,D as B,j as be,k as G,l as _,n as ve,W as Se,m as we,o as Ce}from"./ObjectDetails-CKLRQ47p.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Te=oe("search",Le),Ne=10;function De(){const{searchBy:s,objectType:t}=v(),{languages:n,locales:a,territories:r,writingSystems:o}=g(),p=L(),c=b.useMemo(()=>{switch(t){case l.Language:return Object.values(n);case l.Locale:return Object.values(a);case l.Territory:return Object.values(r);case l.WritingSystem:return Object.values(o)}},[t,n,a,r,o,s]);return b.useMemo(()=>async h=>{const u=le(h,s);return ie((c||[]).filter(p).filter(u).slice(0,Ne).map(i=>{let m=e.jsx(de,{object:i,field:s,query:h});const x=ce(i,s);return s===z.Code&&(m=e.jsxs(e.Fragment,{children:[i.nameDisplay," [",m,"]"]})),{objectID:i.ID,searchString:x,label:m}}),i=>i.objectID)},[c,p,s])}const Ie=()=>{const{searchBy:s,searchString:t,updatePageParams:n,view:a}=v(),r=De();return e.jsxs(V,{selectorLabel:e.jsx(Te,{size:"1em",display:"block"}),children:[e.jsx(Y,{inputStyle:{minWidth:"20em"},getSuggestions:r,onChange:o=>n({searchString:o}),optionsDisplay:q.ButtonGroup,placeholder:"search",showGoToDetailsButton:!0,showTextInputButton:a!==C.Details,value:t}),e.jsx("label",{className:"NoLeftBorder",children:"on"}),e.jsx(ee,{onChange:o=>n({searchBy:o}),options:Object.values(z),selected:s})]})},ke=()=>e.jsxs("div",{className:"AboutPage",children:[e.jsx(Oe,{}),e.jsxs("div",{style:{display:"flex",gap:10,marginBottom:20},children:[e.jsx("a",{href:"#motivation",children:e.jsx("button",{children:"Motivation"})}),e.jsx("a",{href:"#contributors",children:e.jsx("button",{children:"Contributors"})}),e.jsx("a",{href:"#acknowledgments",children:e.jsx("button",{children:"Acknowledgments"})}),e.jsx("a",{href:"#contact",children:e.jsx("button",{children:"Contact"})}),e.jsx("a",{href:"#license",children:e.jsx("button",{children:"License"})}),e.jsx("a",{href:"#data-sources",children:e.jsx("button",{children:"Data Sources"})})]}),e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Lang"}),"uage ",e.jsx("strong",{children:"Nav"}),"igator is a tool designed to help people explore and understand the relationships between different languages. It provides a user-friendly interface for visualizing language families, dialects, and other linguistic features and how they are situated across the globe."]}),e.jsxs("div",{className:"section",id:"motivation",children:[e.jsx("h2",{children:"Motivation"}),e.jsxs("dl",{children:[e.jsx("dt",{children:"Free and Open"}),e.jsx("dd",{children:"The Language Navigator is built on the belief that language data should be accessible to everyone. We aim to provide a free and open-source tool that allows users to explore and understand the world's languages without barriers. We want to empower people to learn about languages, their relationships, and their relevance in today's digital world."}),e.jsx("dt",{children:"Actionable Insights"}),e.jsx("dd",{children:"The Language Navigator is designed to provide actionable insights into the world of languages. We aim to help people make informed decisions about language use--whether in spoken context or digital communication. We also acknowledge that many of the languages represented here are endangered, or while thriving in spoken form, remain unsupported on digital platforms. Depending on your goals, this insight might inspire support effortsâ€”or influence strategic prioritization."}),e.jsx("dt",{children:"Inclusive"}),e.jsxs("dd",{children:["The Language Navigator highlights not only widely spoken languages but also those recognized by specific communities, even if they lack global consensus. Where data is disputed or incomplete, we aim for transparency. Users can see"," ",e.jsx("a",{href:S({languageSchema:f.Inclusive}),children:"all attested languages"})," ","or choose to follow specific standards like"," ",e.jsx("a",{href:S({languageSchema:f.ISO}),children:"ISO 639-3/5"}),","," ",e.jsx("a",{href:S({languageSchema:f.Glottolog}),children:"Glottolog"}),","," ",e.jsx("a",{href:S({languageSchema:f.UNESCO}),children:"UNESCO"}),", or"," ",e.jsx("a",{href:S({languageSchema:f.CLDR}),children:"CLDR"}),"."]})]})]}),e.jsxs("div",{className:"section",id:"contributors",children:[e.jsx("h2",{children:"Contributors"}),e.jsxs("p",{children:["The Language Navigator is a project by the"," ",e.jsx("a",{href:"https://translationcommons.org",children:"Translation Commons"})," team, with this website spearheaded by ",e.jsx("a",{href:"https://www.linkedin.com/in/conrad-nied-60993917",children:"Conrad Nied"}),". It is developed and maintained by a group of dedicated volunteers who are passionate about language and technology."]})]}),e.jsxs("div",{className:"section",id:"acknowledgments",children:[e.jsx("h2",{children:"Acknowledgments"}),e.jsx("p",{children:"We would like to thank the following organizations for their contributions to this project:"}),e.jsxs("dl",{children:[e.jsx("dt",{children:e.jsx("a",{href:"https://home.unicode.org/",children:"The Unicode Consortium"})}),e.jsx("dd",{children:"For providing the Unicode standard and the Common Locale Data Repository (CLDR), which serves as a foundation for the language data used in this application."}),e.jsx("dt",{children:e.jsx("a",{href:"https://hlt.bme.hu/en/projects/lingvit",children:"Digital Language Vitality Project"})}),e.jsx("dd",{children:"For their work cataloging language vitality and providing great insights on which data to use for this website."}),e.jsx("dt",{children:"You, the viewer"}),e.jsx("dd",{children:"For exploring and using this tool. Your curiosity and interest in languages is what drives this project forward."})]})]}),e.jsxs("div",{className:"section",id:"contact",children:[e.jsx("h2",{children:"Contact"}),e.jsxs("p",{children:["If you have any questions, suggestions, or feedback about the Language Navigator, please"," ",e.jsx("a",{href:"https://github.com/Translation-Commons/lang-nav/issues",children:"file an issue on Github"}),". We are always looking for ways to improve the tool and enhance the quality of the language data we provide."]})]}),e.jsxs("div",{className:"section",id:"license",children:[e.jsx("h2",{children:"License"}),e.jsxs("p",{children:["The code for the Language Navigator is licensed under the"," ",e.jsx("a",{href:"https://opensource.org/license/mit/",children:"MIT License"}),". This means you are free to use, modify, and distribute the code, provided that you include the original copyright notice and license in any copies or substantial portions of the software."]}),e.jsxs("p",{children:["The proprietary language data, visualizations, and other content are licensed under"," ",e.jsx("a",{href:"https://creativecommons.org/licenses/by-sa/4.0/",children:"Creative Commons Attribution-ShareAlike 4.0"}),". This means you are free to share and adapt the content, even for commercial purposes, as long as you give appropriate credit, provide a link to the license, and indicate if changes were made."]}),e.jsx(te,{}),e.jsxs("p",{children:["Icons used in this website are provided by"," ",e.jsx("a",{href:"https://lucide.dev",target:"_blank",rel:"noopener noreferrer",children:"Lucide"}),", and are distributed under the ISC License. You can view the license"," ",e.jsx("a",{href:"https://lucide.dev/license",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]}),e.jsxs("p",{children:["The source code is available in a"," ",e.jsx("a",{href:"https://github.com/Translation-Commons/lang-nav",children:"Github repository"}),". The data files are available in the"," ",e.jsx("a",{href:"https://github.com/Translation-Commons/lang-nav/tree/master/public/data",children:"public/data directory of the repository"}),". Some data files are imported from other places which may have different licenses, so please check the specific sources below for specific licensing information. Best practice is to cite both this website as well as the major sources for the data."]})]}),e.jsxs("div",{className:"section",id:"data-sources",children:[e.jsx("h2",{children:"Data Sources"}),e.jsx("p",{children:"The data used in this application is sourced from various linguistic databases, including Glottolog, Ethnologue, and CLDR. This data is meant to be as public and freely available as possible so that all people can understand languages in context and make informed decisions about languages across the world."}),e.jsx("h3",{children:"Input databases"}),e.jsxs("dl",{children:[e.jsx("dt",{children:"Manually collected from Censuses and Academic Papers"}),e.jsxs("dd",{children:["The Language Navigator team has manually collected population and recognition data from various government censuses and academic papers. Sometimes, source websites were no longer accessible but data was retrieved using the internet archive's"," ",e.jsx("a",{href:"https://web.archive.org/",children:"Wayback Machine"}),"."]}),e.jsx("dt",{children:"Unicode & CLDR"}),e.jsxs("dd",{children:[e.jsx("a",{href:"https://home.unicode.org/",children:"The Unicode Consortium"})," provides the Unicode standard for how writing systems are encoded for use on electronic devices and"," ",e.jsx("a",{href:"https://cldr.unicode.org/",children:"the Common Locale Data Repository (CLDR)"}),".We initially bootstrapped much of the data from CLDR - which itself catalogs much of the world's languages in order to provide keyboard and user-interface support. It also provides much of the data for the ISO standards"," ",e.jsx("a",{href:"https://iso639-3.sil.org/",children:"ISO 639-3"}),"."]}),e.jsx("dt",{children:"Glottolog"}),e.jsxs("dd",{children:[e.jsx("a",{href:"https://glottolog.org/",children:"Glottolog"})," is a comprehensive catalog of the world's languages, dialects, and language families. It provides an extensive taxonomy of languages and dialects in language families, information about the endangerment and location of languages, and a large bibliography for the languages."," ",e.jsx("strong",{children:"Citation:"})," HammarstrÃ¶m, Harald & Forkel, Robert & Haspelmath, Martin & Bank, Sebastian. 2024. Glottolog 5.1. Leipzig: Max Planck Institute for Evolutionary Anthropology. https://doi.org/10.5281/zenodo.10804357 (Available online at http://glottolog.org, Accessed on 2024-10-29.)"]}),e.jsx("dt",{children:"Ethnologue"}),e.jsxs("dd",{children:[e.jsx("a",{href:"https://www.ethnologue.com/",children:"Ethnologue"})," is a reference work cataloging all of the world's known living languages. It provides information about the number of speakers, language families, and geographical distribution of languages. Ethnologue contains much more complete academic citations for similar information provided by this website. ",e.jsx("strong",{children:"Citation:"})," Eberhard, David M., Gary F. Simons, and Charles D. Fennig (eds.). 2025. Ethnologue: Languages of the World. Twenty-eighth edition. Dallas, Texas: SIL International. Online version: https://www.ethnologue.com/"]}),e.jsx("dt",{children:"United Nations: UNESCO, UNStats, and UNData"}),e.jsxs("dd",{children:[e.jsx("a",{href:"https://www.unesco.org/",children:"United Nations Educational, Scientific and Cultural Organization (UNESCO)"})," ","is a specialized agency of the United Nations that promotes international collaboration in education, science, and culture. They have built"," ",e.jsx("a",{href:"https://en.wal.unesco.org/",children:"World Atlas of Languages (WAL)"})," -- a similar database that is focused specifically on contributions from UN member state delegates. Additionally,"," ",e.jsx("a",{href:"https://unstats.un.org/unsd/demographic-social/census/",children:"UNStats"})," and"," ",e.jsx("a",{href:"https://data.un.org/Default.aspx",children:"UNData"})," provide census data like population and literacy."]})]}),e.jsx("h3",{children:"Data Fields"}),e.jsxs("dl",{children:[e.jsx("dt",{children:"IDs"}),e.jsxs("dd",{children:["The various language IDs (eg. ISO 3166 territory codes or language glottcodes) come from their respective original database (ISO, Glottolog, CLDR). When an object has multiple identities, it has been manually matched by the Language Navigator team to a single entity. For instance, English is represented in CLDR by the ISO 639-1 code"," ",e.jsx("a",{href:S({languageSchema:f.CLDR,objectID:"eng"}),children:"en"}),", the ISO 639-3 code"," ",e.jsx("a",{href:S({languageSchema:f.ISO,objectID:"eng"}),children:"eng"}),", and the Glottocode"," ",e.jsx("a",{href:S({languageSchema:f.Glottolog,objectID:"eng"}),children:"stan1293"}),"."]}),e.jsx("dt",{children:"Names"}),e.jsx("dd",{children:'The names are sourced from the original databases, with some manual adjustments to ensure consistency and clarity. When swapping between different language definitions the language names will update to match the one provided by the source for that definition. For example, Chinese as a macrolanguage is called "Classical-Middle-Modern Sinitic" in Glottolog.'}),e.jsx("dt",{children:"Population"}),e.jsx("dd",{children:'The population data comes from many sources. Some estimates are directly imported from government censuses or academic papers -- sometimes we had to interpret the intended language (eg. is "Malay" referring to standard Malay, vernacular Malay, or Malay as a macrolanguage). Some come from secondary sources like Ethnologue or CLDR. A few estimates, especially for regional locales, are approximations based on the related data.'})]})]})]}),Oe=()=>e.jsxs("div",{className:"logo",style:{alignItems:"center",display:"flex",fontSize:"2em",padding:"0.25em",marginBottom:"0.25em",gap:"0.5em"},children:[e.jsx("img",{src:"LangNavLogo.svg",width:"120px",height:"60px",alt:"LangNav Logo"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Lang"}),"uage ",e.jsx("strong",{children:"Nav"}),"igator"]})]}),U=({children:s})=>e.jsx("div",{className:"ViewCard",children:s}),Pe=300;function O({objects:s,renderCard:t}){const n=T(),a=W(),r=F(),o=L(),p=M(),c=b.useMemo(()=>p(s.filter(o).filter(r).filter(a).sort(n)),[s,o,r,a,n,p]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:"1em"},children:e.jsx(ue,{objects:s})}),e.jsx(Be,{children:c.map(d=>e.jsx(U,{children:t(d)},d.ID))})]})}const Be=({children:s})=>{const t=b.useRef(null),[n,a]=b.useState(0);b.useEffect(()=>{const o=new ResizeObserver(([p])=>{p.contentRect&&a(p.contentRect.width)});return t.current&&o.observe(t.current),()=>o.disconnect()},[]);const r=n>0?Math.floor(n/Pe):1;return e.jsx("div",{ref:t,style:{display:"grid",gridGap:"1.5em",gridTemplateColumns:`repeat(${r}, 1fr)`},children:s})},Re=()=>{const{censuses:s}=g();return e.jsx(O,{objects:Object.values(s),renderCard:t=>e.jsx(he,{census:t})})},We=()=>{const{territories:s}=g(),t=T(),n=L(),a=Fe(Object.values(s),t,n);return e.jsx(E,{rootNodes:a,description:e.jsx(e.Fragment,{children:"Censuses"})})};function Fe(s,t,n=()=>!0){return s.filter(n??(()=>!0)).filter(a=>a.censuses.length>0).sort(t).map(a=>Me(a,t,n))}function Me(s,t,n){return{type:l.Census,object:s,children:Ee(s,t,n)}}function Ee(s,t,n){return s.censuses.filter(n).sort(t).map(a=>Ue(a))}function Ue(s){return{type:l.Census,object:s,labelStyle:{fontWeight:"bold"},children:[]}}const Ae=()=>{const{censuses:s}=g();return e.jsx(N,{objects:Object.values(s),columns:[I,k,{key:"Languages",render:t=>t.languageCount,isNumeric:!0,sortParam:w.Population},D]})},He=()=>{const{censuses:s}=g();return e.jsx("div",{className:"separatedButtonList",children:["ca2021.1","ca2021.4","in2011c16.1","in2011c17.4"].map(t=>s[t]!=null&&e.jsx(y,{object:s[t],format:"button"},t))})},Ge=()=>{const{languagesBySchema:s}=g();return e.jsx("div",{className:"separatedButtonList",children:["eng","spa","fra","deu","zho","ara"].map(t=>s.ISO[t]!=null&&e.jsx(y,{object:s.ISO[t],format:"button"},t))})},_e=()=>{const{locales:s}=g();return e.jsx("div",{className:"separatedButtonList",children:["eng_US","spa_419","fra_FR","deu_DE","zho_Hans_CN","cmn_CN","arb_001"].map(t=>s[t]!=null&&e.jsx(y,{object:s[t],format:"button"},t))})},ze=()=>{const{territories:s}=g();return e.jsx("div",{className:"separatedButtonList",children:["US","MX","FR","DE","CN","EG"].map(t=>s[t]!=null&&e.jsx(y,{object:s[t],format:"button"},t))})},Ve=()=>{const{writingSystems:s}=g();return e.jsx("div",{className:"separatedButtonList",children:["Latn","Hans","Hant","Arab"].map(t=>s[t]!=null&&e.jsx(y,{object:s[t],format:"button"},t))})},Ye=()=>{const{objectType:s,updatePageParams:t}=v(),n=ge();if(b.useEffect(()=>{(n==null?void 0:n.type)!=null&&t({objectType:n==null?void 0:n.type})},[n==null?void 0:n.type]),n==null){const a={[l.Census]:e.jsx(He,{}),[l.Language]:e.jsx(Ge,{}),[l.Locale]:e.jsx(_e,{}),[l.Territory]:e.jsx(ze,{}),[l.WritingSystem]:e.jsx(Ve,{})};return e.jsxs("div",{className:"DetailsPage",children:["This view shows details about a particular object -- but no object has been specified. Use another view (Card List, Hierarchy, Table) to find one or click on one of the suggestions below:",e.jsxs("div",{style:{marginBottom:"2em"},children:[e.jsx("label",{children:s}),a[s]]}),"Or try another object type:",Object.entries(a).filter(([r])=>r!==s).map(([r,o])=>e.jsxs("div",{style:{marginBottom:"1em"},children:[e.jsx("label",{children:r}),o]},r))]})}return e.jsxs("div",{className:"DetailsPage",children:[e.jsx("h2",{children:e.jsx(pe,{object:n})}),e.jsx(me,{object:n})]})},qe=()=>{const{languages:s}=g();return e.jsx(O,{objects:Object.values(s),renderCard:t=>e.jsx(je,{lang:t,includeRelations:!0})})},Je=()=>{const{languages:s}=g();return e.jsx(N,{objects:Object.values(s),columns:[I,k,$,{key:"Scope",render:t=>t.scope??t.scope,isInitiallyVisible:!1},{key:"Population",render:t=>t.populationCited,isNumeric:!0,sortParam:w.Population},{key:"Internet Technologies",render:t=>e.jsx(xe,{object:t}),isInitiallyVisible:!1},D]})},$e=()=>{const{locales:s}=g();return e.jsx(O,{objects:Object.values(s),renderCard:t=>e.jsx(fe,{locale:t})})},Qe=()=>{const{locales:s}=g(),{languageSchema:t}=v();return e.jsx(N,{objects:Object.values(s).filter(n=>{var a;return((a=n.language)==null?void 0:a.schemaSpecific[t].code)!=null}),columns:[I,k,{key:"Population",render:n=>n.populationSpeaking,isNumeric:!0,sortParam:w.Population},{key:"Population Source",render:n=>e.jsx(Q,{locale:n,size:"short"})},D]})},Xe=()=>{const{territories:s}=g();return e.jsx(O,{objects:Object.values(s),renderCard:t=>e.jsx(ye,{territory:t})})},Ke=()=>{const{territories:s}=g(),t=T(),n=L(),a=K(Object.values(s).filter(r=>r.parentUNRegion==null||!n(r.parentUNRegion)),t,n);return e.jsx(E,{rootNodes:a,description:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Bold territories"})," are countries. ",e.jsx("em",{children:"Italicized countries"})," are dependencies."]})})};function K(s,t,n){return s.sort(t).filter(n).map(a=>Ze(a,t,n))}function Ze(s,t,n){return{type:l.Language,object:s,children:K(s.containsTerritories,t,n),labelStyle:{fontWeight:s.scope===H.Country?"bold":"normal",fontStyle:s.scope===H.Dependency?"italic":"normal"}}}const et=()=>{const{territories:s}=g();return e.jsx(N,{objects:Object.values(s),columns:[I,k,{key:"Population",render:t=>t.population,isNumeric:!0,sortParam:w.Population},{key:"Literacy",render:t=>t.literacyPercent!=null?t.literacyPercent.toFixed(1)+"%":null,isNumeric:!0},{key:"Languages",render:t=>t.locales.length>0&&e.jsx(se,{style:{textDecoration:"none"},hoverContent:t.locales.slice(0,20).map(n=>{var a;return((a=n.language)==null?void 0:a.nameDisplay)??n.nameDisplay}).join(", ")+(t.locales.length>20?"...":""),children:t.locales.length}),isNumeric:!0},{key:"Biggest Language",render:t=>t.locales.length>0&&e.jsx(y,{labelSource:"language",object:t.locales[0],style:{textDecoration:"none"}}),isInitiallyVisible:!1},{key:"Type",render:t=>t.scope},D]})},tt=()=>{const{languagesBySchema:{Inclusive:s,CLDR:t},writingSystems:n,territories:a}=g(),{page:r,limit:o}=v(),p=W(),c=F(),d=T(),h=M(),u=Object.values(s).filter(p).filter(c).filter(i=>i.codeDisplay.match("xx.-|^[0-9]"));return e.jsxs("details",{className:"collapsible-report",children:[e.jsxs("summary",{children:["Dubious languages (",u.length,")"]}),"These languages have strange language codes and maybe should be removed from the list of languages. Some possibilities are:",e.jsxs("ol",{children:[e.jsx("li",{children:"It may be a dialect that doesn't have a standard ISO code. There may be a glottocode instead -- in that case it's probably redundant."}),e.jsx("li",{children:"If it is a combination of a language + territory, it is probably a locale incorrectly saved to the language list. Add the locale if it does not yet exist then remove the entry from the language list."}),e.jsx("li",{children:"If it is a combination of a language + writing system, it is probably there to represent an non-standard writing system used to write that language. We have not yet imported writing system alternatives so we cannot add that data yet."})]}),e.jsxs("div",{children:[e.jsx(J,{}),e.jsx(X,{currentPage:r,totalPages:o<1?1:Math.ceil(u.length/o)})]}),e.jsx("div",{className:"CardList",style:{marginBottom:"1em"},children:h(u.sort(d)).map(i=>{const x=i.codeDisplay.split(/-|_/).map(j=>s[j]??t[j]??a[j]??n[j]).filter(Boolean);return e.jsxs(U,{children:[e.jsxs("div",{children:[e.jsx("label",{children:"Names:"}),i.nameDisplay]}),e.jsxs("div",{children:[e.jsx("label",{children:"Language Code:"}),i.codeDisplay]}),e.jsxs("div",{children:[e.jsx("label",{children:"Population:"}),i.populationCited??e.jsx(B,{children:"no population"})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Potentially related objects:"}),e.jsx("ul",{style:{margin:0},children:x.length>0?x.map(j=>e.jsx("li",{children:e.jsx(y,{object:j,labelSource:"code"})},j.ID)):e.jsx(B,{children:"none"})})]})]},i.ID)})})]})},st=()=>{const{languagesBySchema:{Inclusive:s}}=g(),{page:t,limit:n}=v(),a=W(),r=F(),o=T(),p=M(),c=Object.values(s).filter(a).filter(r).reduce((h,u)=>{const i=u.nameDisplay;return h[i]==null?h[i]=[u]:h[i].push(u),h},{}),d=Object.entries(c).reduce((h,[u,i])=>(i.length>1&&(h[u]=i),h),{});return e.jsxs("details",{className:"collapsible-report",children:[e.jsxs("summary",{children:["Languages with identical names (",Object.keys(d).length,")"]}),"The following languages have identical names. This can happen when merging data from multiple sources. It gets confusing to find the right language when names overlap. To fix this we should change names with these possible options:",e.jsxs("ol",{children:[e.jsx("li",{children:"Use language family names e.g. Japanese â†’ Japonic, Bantu â†’ Bantuoid. Only if that name is understood -- don't invent names, let the academics do that."}),e.jsx("li",{children:"Append term in parentheses to distiniguish the scope for the rarer term eg. Malay (macrolanguage), Malay (individual language)"}),e.jsx("li",{children:"Append territory name in parentheses eg. Tonga (Malawi), Tonga (Tonga Islands)"}),e.jsx("li",{children:"Some entries may correspond to language fragments that maybe should not be in the list and be removed."})]}),e.jsxs("div",{children:[e.jsx(J,{}),e.jsx(X,{currentPage:t,totalPages:n<1?1:Math.ceil(Object.keys(d).length/n)})]}),p(Object.entries(d).sort((h,u)=>{const i=h[1][0],m=u[1][0];return i!=null&&m!=null?o(i,m):0})).map(([h,u])=>e.jsxs("div",{style:{marginBottom:"1em"},children:[e.jsx("h3",{style:{marginBottom:0},children:h}),e.jsx("div",{className:"CardList",children:u.map(i=>{const{ISO:m,Glottolog:x}=i.schemaSpecific,j=i.names.filter(A=>A!==i.nameDisplay&&A!==i.nameEndonym);return e.jsxs(U,{children:[e.jsxs("div",{children:[e.jsx("label",{children:"Other Names:"}),e.jsx(be,{children:j.length>0?j:e.jsx(B,{children:"none"})})]}),e.jsxs("div",{children:[e.jsx("label",{children:"ISO code:"}),m.code]}),e.jsxs("div",{children:[e.jsx("label",{children:"Glottocode:"}),x.code]}),e.jsxs("div",{children:[e.jsx("label",{children:"Scope:"}),i.scope??e.jsx(B,{children:"Unknown"})]}),m.code!=null&&e.jsxs("div",{children:["ISO Hierarchy:"," ",e.jsx(G,{rootNodes:_([i],f.ISO,o)})]}),x.code!=null&&e.jsxs("div",{children:["Glottolog Hierarchy:"," ",e.jsx(G,{rootNodes:_([i],f.Glottolog,o)})]})]},i.ID)})})]},h))]})},nt=()=>{const{locales:s,censuses:t,languagesBySchema:{Inclusive:n}}=g(),{localeSeparator:a}=v(),[r,o]=ne.useState(.05),p=rt(Object.values(t),s,n,a,r);return e.jsxs("div",{children:[e.jsx("h1",{children:"Potential Locales"}),e.jsx("p",{children:"This page lists locales from Census data that are not in the list of defined locales. There are too many possible combinations of language + territory + variation information, so the number of actualized locales is smaller than the possible ones. However ones that appear here may be worth considering."}),e.jsx(V,{selectorLabel:"Percent Threshold:",selectorDescription:"Limit results by the minimum percent population in a territory that uses the language.",children:e.jsx(Y,{inputStyle:{width:"3em"},getSuggestions:async()=>[{searchString:"0.001",label:"0.001%"},{searchString:"0.005",label:"0.005%"},{searchString:"0.01",label:"0.01%"},{searchString:"0.05",label:"0.05%"},{searchString:"0.1",label:"0.1%"},{searchString:"0.5",label:"0.5%"},{searchString:"1",label:"1%"},{searchString:"5",label:"5%"},{searchString:"10",label:"10%"}],optionsDisplay:q.ButtonGroup,onChange:c=>o(Number(c)),placeholder:"",value:Number.isNaN(r)?"":r.toString()})}),e.jsx(P,{title:"Largest Populations",locales:p.largest,children:"Of all of the census records collected so far, these locales have more people speaking it than the other instantiated locales. This likely means the world population is indigenous to this country. However, since we do not have full census coverage it is very possible that the language is native to a different country without an inputted census record. Additionally, some of these locales are macrolanguages or constituents thereof, so we may actually have the language but represented by a different aspect."}),e.jsxs(P,{title:"Largest ** with caveats",locales:p.largestButDescendentExists,children:["The locales represent the largest population of a language in a territory, but a language or dialect of that locale is already present for that locale, so it may not be necessary or it may be a language family not consistently listed in other censuses.",e.jsx("div",{style:{height:"0.5em"}}),"For example, the Canadian [CA] census includes Indo-European [ine] as an entry. Since few censuses include Indo-European, it looks as if ine_CA is native to Canada. That is a data coverage issue -- not a real origin for the language group. Indo-European contains other languages that are listed in other parts of the same census like Italian eng_CA."]}),e.jsx(P,{title:"Significant Population",locales:p.significant,children:"This is the list of locales native to other countries, but with a significant population in other countries."}),e.jsx(P,{title:"Significant ** with caveats",locales:p.significantButMaybeRedundant,children:"Locales in this table reflect languages that already have other locales in territories but a consistent of the same language not necessarily the same locale. For example, they may have an entry with a writing system specified."})]})},P=({title:s,children:t,locales:n})=>{const a=L();return e.jsxs("details",{className:"collapsible-report",children:[e.jsxs("summary",{children:[s," (",n.filter(a).length,")"]}),t,e.jsx(at,{locales:n})]})},at=({locales:s})=>e.jsx(N,{objects:s,columns:[{key:"Potential Locale",render:t=>e.jsx(y,{object:t,labelSource:"code"}),sortParam:w.Code},{key:"Language",render:t=>t.language?e.jsx(y,{object:t.language}):t.languageCode,sortParam:w.Name},{key:"Population",render:t=>t.populationSpeaking,isNumeric:!0,sortParam:w.Population},{key:"% in Territory",render:t=>t.populationSpeakingPercent&&ve(t.populationSpeakingPercent),isNumeric:!0},{key:"Population Source",render:t=>e.jsx(Q,{locale:t,size:"short"})},D,{key:"Related Locale",render:t=>{const n=t.containedLocales?t.containedLocales[0]:null;return n&&e.jsx(y,{object:n,labelSource:"code"})}}]});function rt(s,t,n,a,r){const o=b.useMemo(()=>s.reduce((c,d)=>{var h;return(h=Object.entries(d.languageEstimates??{}))==null||h.forEach(([u,i])=>{const m=u+"_"+d.isoRegionCode,x=n[u];if(t[m]||x==null)return;const j=i*100/d.eligiblePopulation;j<r||(c[m]==null?c[m]={localeSource:"census",type:l.Locale,ID:u+"_"+d.isoRegionCode,codeDisplay:x.codeDisplay+a+d.isoRegionCode,languageCode:u,language:x,nameDisplay:x.nameDisplay,names:x.names,territory:d.territory,territoryCode:d.isoRegionCode,populationSource:ae.Census,populationSpeaking:i,populationSpeakingPercent:j,populationCensus:d,censusRecords:[{census:d,populationEstimate:i,populationPercent:j}]}:(c[m].populationSpeaking<i&&(c[m].populationSpeaking=i,c[m].populationSpeakingPercent=j,c[m].populationCensus=d),c[m].censusRecords.push({census:d,populationEstimate:i,populationPercent:j})))}),c},{}),[s,n,t,a,r]),p=b.useMemo(()=>[...Object.values(t),...Object.values(o)].reduce((c,d)=>{var i;const h=(i=d.territory)==null?void 0:i.scope;if(re(h))return c;const u=d.languageCode;return c[u]||(c[u]=[]),c[u].push(d),c},{}),[o]);return Object.values(p).reduce(it,{largest:[],largestButDescendentExists:[],significant:[],significantButMaybeRedundant:[]})}function it(s,t){const n=t.sort((r,o)=>(o.populationSpeaking??0)-(r.populationSpeaking??0)),a=n.reduce((r,o)=>o.populationSpeaking>r.populationSpeaking?o:r,n[0]);if(a.localeSource==="census"){const r=a.language?R([a.language],a.territoryCode):null;r?(a.containedLocales=[r],s.largestButDescendentExists.push(a)):(a.containedLocales=[n[1]],s.largest.push(a))}return t.filter(r=>r!==a&&r.localeSource==="census").forEach(r=>{const o=r.language?R([r.language],r.territoryCode):null;o?(r.containedLocales=[o],s.significantButMaybeRedundant.push(r)):(r.containedLocales=[n[0]],s.significant.push(r))}),s}function R(s,t){const n=ot(s,t),a=(s==null?void 0:s.map(r=>R(r.childLanguages,t)))??[];return[n,...a].filter(Boolean).sort((r,o)=>((o==null?void 0:o.populationSpeaking)??0)-((r==null?void 0:r.populationSpeaking)??0))[0]??null}function ot(s,t){return(s==null?void 0:s.map(n=>n.locales.filter(a=>a.territoryCode===t)[0]??null).filter(Boolean)[0])??null}const lt=()=>{const{objectType:s}=v();return e.jsx("div",{className:"ViewReports",children:e.jsx(ct,{objectType:s})})},ct=({objectType:s})=>{switch(s){case l.Locale:return e.jsx(nt,{});case l.Language:return e.jsxs(e.Fragment,{children:[e.jsx(tt,{}),e.jsx(st,{},"1")]});case l.Census:case l.Territory:case l.WritingSystem:return e.jsx("div",{children:"There are no reports for this object type."})}},dt=()=>{const{writingSystems:s}=g();return e.jsx(O,{objects:Object.values(s),renderCard:t=>e.jsx(Se,{writingSystem:t})})},ut=()=>{const{writingSystems:s}=g(),t=T(),n=L(),a=Z(Object.values(s).filter(r=>r.parentWritingSystem==null||!n(r.parentWritingSystem)),t,n);return e.jsx(E,{rootNodes:a,description:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Bold writing systems"})," historically led to other writing systems that are still used today. ",e.jsx("em",{children:"Italicized writing systems"})," have few recorded users (either missing data or it is functionally extinct)."]})})};function Z(s,t,n=()=>!0){return s.filter(n).sort(t).map(a=>ht(a,t,n)).filter(a=>a!=null)}function ht(s,t,n){return{type:l.WritingSystem,object:s,children:Z(s.childWritingSystems,t,n),labelStyle:{fontWeight:s.populationOfDescendents>100?"bold":"normal",fontStyle:s.populationUpperBound<=100?"italic":"normal"}}}const gt=()=>{const{writingSystems:s}=g();return e.jsx(N,{objects:Object.values(s),columns:[I,k,$,{key:"Population",render:t=>t.populationUpperBound,isNumeric:!0,sortParam:w.Population},D]})};function pt(){const{view:s,objectType:t}=v();switch(s){case C.CardList:switch(t){case l.Census:return e.jsx(Re,{});case l.Language:return e.jsx(qe,{});case l.Locale:return e.jsx($e,{});case l.Territory:return e.jsx(Xe,{});case l.WritingSystem:return e.jsx(dt,{})}case C.Details:return e.jsx(Ye,{});case C.Hierarchy:switch(t){case l.Census:return e.jsx(We,{});case l.Language:return e.jsx(Ce,{});case l.Locale:return e.jsx(we,{});case l.Territory:return e.jsx(Ke,{});case l.WritingSystem:return e.jsx(ut,{})}case C.Table:switch(t){case l.Census:return e.jsx(Ae,{});case l.Language:return e.jsx(Je,{});case l.Locale:return e.jsx(Qe,{});case l.Territory:return e.jsx(et,{});case l.WritingSystem:return e.jsx(gt,{})}case C.Reports:return e.jsx(lt,{});case C.About:return e.jsx(ke,{})}}const bt=()=>e.jsxs("main",{style:{padding:"1em",flex:1,overflow:"auto",width:"100%"},children:[e.jsx(Ie,{}),e.jsx("div",{style:{maxWidth:"1280px",margin:"0 auto",padding:"1rem 2rem",textAlign:"center"},children:e.jsx(pt,{})})]});export{bt as default};
