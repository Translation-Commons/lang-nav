import{r as y,e as D,j as l,H as B,O as s,b as v,S as d,u as f,a as o,T as F}from"./index-DLxFh1M1.js";import{d as S,a as M}from"./DataContext-7sgU4d7X.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),O=e=>{const t=W(e);return t.charAt(0).toUpperCase()+t.slice(1)},R=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),H=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:u,...c},g)=>y.createElement("svg",{ref:g,...V,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:R("lucide",a),...!i&&!H(c)&&{"aria-hidden":"true"},...c},[...u.map(([m,C])=>y.createElement(m,C)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=(e,t)=>{const n=y.forwardRef(({className:r,...a},i)=>y.createElement($,{ref:i,iconNode:t,className:R(`lucide-${A(O(e))}`,`lucide-${e}`,r),...a}));return n.displayName=O(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ie=x("external-link",U);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],I=x("info",b);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ue=x("x",_),q=({children:e,className:t,hoverContent:n,onClick:r,style:a})=>{const{showHoverCard:i,hideHoverCard:u}=D();if(n==null)return l.jsx("button",{className:t,onClick:r,style:{cursor:r?"pointer":"auto",...a},type:"button",children:e});const c=m=>{i(n,m.clientX,m.clientY)},g=m=>{i(n,m.clientX,m.clientY)};return l.jsx("button",{className:t,onMouseEnter:c,onMouseMove:g,onMouseLeave:u,onClick:()=>{u(),r!=null&&r()},style:{cursor:r?"pointer":"auto",...a},children:e})};var p=(e=>(e.Standalone="standalone",e.First="first",e.Middle="middle",e.Last="last",e.Only="only",e))(p||{});function j(e,t){return t===1?"only":e===0?"first":e===t-1?"last":"middle"}function G(e){const t=y.useRef(null);return y.useEffect(()=>{function n(r){t.current&&!t.current.contains(r.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e]),t}const X=({label:e,description:t,optionsDisplay:n,style:r})=>e==null?null:l.jsxs("span",{style:{...Y(n),...r},children:[e,t&&l.jsx(B,{hoverContent:t,style:{marginLeft:"0.25em"},children:l.jsx(I,{size:"1em",style:{verticalAlign:"middle"}})})]});function Y(e){const t={lineHeight:"1em",fontWeight:"bold",padding:"0.5em",whiteSpace:"nowrap",borderRadius:"1em"};switch(e){case L.ButtonGroup:t.borderRadius="1em 0 0 1em",t.marginLeft="-0.125em",t.marginRight="-0.125em";break;case L.ButtonList:t.borderRadius="1em 0 0 1em";break;case L.InlineDropdown:t.padding="0 0.5em";break;case L.Dropdown:break}return t}var L=(e=>(e.Dropdown="dropdown",e.InlineDropdown="inlineDropdown",e.ButtonGroup="buttonGroup",e.ButtonList="buttonList",e))(L||{});function le({getOptionDescription:e=()=>{},getOptionLabel:t=g=>g,onChange:n,options:r,optionsDisplay:a="buttonList",selected:i,selectorDescription:u,selectorLabel:c}){const[g,m]=y.useState(!1),C=G(()=>m(!1));return l.jsxs(z,{optionsDisplay:a,children:[c&&l.jsx(X,{label:c,description:u,optionsDisplay:a}),l.jsx(Z,{isExpanded:g,containerRef:C,optionsDisplay:a,children:l.jsx(K,{getOptionDescription:e,getOptionLabel:t,onClick:h=>{m(!1),n(h)},options:r,optionsDisplay:a,selected:i})}),(a==="dropdown"||a==="inlineDropdown")&&l.jsx(N,{getOptionDescription:e,getOptionLabel:h=>`${t(h)} ${g?"▼":"▶"}`,onClick:()=>m(h=>!h),option:Array.isArray(i)?i[0]:i,optionsDisplay:a,isSelected:!0})]})}const z=({children:e,optionsDisplay:t})=>{const n={display:"flex",flexDirection:"row",alignItems:"end",marginLeft:"0.125em",marginRight:"0.5em",marginBottom:"0.5em"};return t==="buttonList"?(n.flexDirection="column",n.alignItems="start"):t==="inlineDropdown"?(n.marginLeft="0",n.marginRight="0",n.marginBottom="0"):t==="buttonGroup"&&(n.gap="-0.125em"),l.jsx("div",{className:"selector "+t,style:n,children:e})},Z=({children:e,containerRef:t,isExpanded:n,optionsDisplay:r})=>{switch(r){case"buttonList":return l.jsx("div",{ref:t,style:{display:"flex",flexWrap:"wrap",gap:"0.25em 0.25em",marginLeft:"1em"},children:e});case"buttonGroup":return l.jsx(l.Fragment,{children:e});case"dropdown":case"inlineDropdown":return n?l.jsx("div",{style:{position:"relative"},ref:t,children:l.jsx("div",{className:"dropdown",style:{alignItems:"start",position:"absolute",display:"flex",left:"0px",flexDirection:"column",width:"fit-content",zIndex:100,marginTop:r==="inlineDropdown"?"0.25em":"0",backgroundColor:"var(--color-background)",borderRadius:"1em",maxHeight:"20em",overflowY:"auto"},children:e})}):null}};function K({getOptionDescription:e=()=>{},getOptionLabel:t=u=>u,onClick:n,options:r,optionsDisplay:a,selected:i}){return r.map((u,c)=>l.jsx(N,{getOptionDescription:e,getOptionLabel:t,onClick:n,option:u,optionsDisplay:a,isSelected:Array.isArray(i)?i.includes(u):i===u,position:j(c,r.length)},u))}function N({getOptionDescription:e=()=>{},getOptionLabel:t=c=>c,isSelected:n,onClick:r,option:a,optionsDisplay:i,position:u=p.Standalone}){let c="selectorOption";return n&&(c+=" selected"),n||(c+=" unselected"),i==="inlineDropdown"&&u===p.Standalone&&(c+=" hoverableText"),l.jsx(q,{className:c,hoverContent:e(a),onClick:()=>r(a),style:P(i,n,u),children:t(a)})}function P(e,t,n){const r={border:"0.125em solid var(--color-button-primary)",borderRadius:"0px",cursor:"pointer",lineHeight:"1em",padding:"0.5em",whiteSpace:"nowrap"};switch(e){case"buttonGroup":n===p.Last?(r.marginLeft="-0.125em",r.borderRadius="0 1em 1em 0"):n===p.First?r.borderRadius="1em 0 0 1em":n===p.Middle&&(r.marginLeft="-0.125em");break;case"buttonList":r.borderRadius="1em",t||(r.border="0.125em solid var(--color-button-secondary)");break;case"inlineDropdown":return n===p.Standalone?(r.margin="-0.25em",r.border="none",r.borderRadius=".5em",r.padding="0.25em",r):P("dropdown",t,n);case"dropdown":r.textAlign="left",r.width="100%",r.borderRadius=void 0,n===p.First?(r.borderRadius="1em 1em 0 0",r.margin="0 0 -0.125em 0",r.borderBottom="none"):n===p.Last?(r.borderRadius="0 0 1em 1em",r.margin="0",r.borderTop="none"):n===p.Middle?(r.margin="0 0 -0.125em 0",r.borderTop="none",r.borderBottom="none"):n===p.Only?r.borderRadius="1em":n===p.Standalone&&(r.borderRadius="1em",r.width="fit-content");break}return r}function ce(e){switch(e.type){case s.Census:return[e.modality,e.proficiency,e.acquisitionOrder,e.domain&&e.domain!="Any"?"@"+e.domain:null].filter(t=>t!=null&&t!="Any").join(", ");case s.Language:return Q(e);case s.Locale:return;case s.Territory:return e.scope;case s.WritingSystem:return e.nameDisplay!=e.nameFull?e.nameFull:void 0}}function Q(e){let t=e.nameSubtitle,n=e.scope;t==="macrolanguage"&&(t=void 0),n==v.Language&&(n=void 0);const r=[n,t].filter(Boolean).join(", ");return r!==""?r:void 0}function ge(e){switch(e){case s.Census:return"censuses";case s.Language:return"languages";case s.Locale:return"locales";case s.Territory:return"territories";case s.WritingSystem:return"writing systems";case s.VariantTag:return"variant tags"}}function J(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ee=({text:e,searchPattern:t})=>{if(t==="")return e;const n=J(t),r=e.match(new RegExp(`(^|.*\\P{L})(${n})(?:(.*\\P{L})(${n}))*?(.*)`,"iu"));return r?l.jsx(l.Fragment,{children:r.slice(1).map((a,i)=>i%2===0?a:l.jsx("span",{className:"highlighted",children:a},i))}):e},de=({object:e,field:t})=>{const{searchBy:n,searchString:r}=f(),a=r.toLowerCase();return n===t?l.jsx(w,{object:e,query:r,field:t}):n===d.AllNames&&[d.EngName,d.Endonym].includes(t)?l.jsx(w,{object:e,query:r,field:t}):n===d.NameOrCode&&[d.EngName,d.Code].includes(t)?l.jsx(w,{object:e,query:r,field:t}):T(e,t,a)},w=({object:e,field:t,query:n})=>l.jsx(ee,{text:T(e,t,n),searchPattern:n.toLowerCase()});function T(e,t,n){switch(t){case d.AllNames:return e.names.filter(r=>S(r,(n==null?void 0:n.toLowerCase())??""))[0]??"";case d.Code:return e.codeDisplay;case d.Endonym:return e.nameEndonym??"";case d.EngName:return e.nameDisplay;case d.NameOrCode:return e.nameDisplay+" ["+e.codeDisplay+"]"}}function pe(e,t,n){switch(e.type){case s.Language:return(e.populationCited??0)+0;case s.Locale:return e.populationSpeaking;case s.Census:return e.languageCount;case s.WritingSystem:return e.populationUpperBound+0;case s.Territory:return e.population;case s.VariantTag:return 0}}function me(e,t){const{sortBy:n,languageSource:r,sortDirection:a}=f(),u=re(n,r,e??!1);return a==="reverse"?(c,g)=>-u(c,g):u}function re(e,t,n){switch(e){case o.Code:return(r,a)=>r.codeDisplay>a.codeDisplay?1:a.codeDisplay>r.codeDisplay?-1:0;case o.Name:return(r,a)=>r.nameDisplay>a.nameDisplay?1:a.nameDisplay>r.nameDisplay?-1:0;case o.Endonym:return(r,a)=>r.nameEndonym==null?a.nameEndonym==null?0:1:a.nameEndonym==null?-1:r.nameEndonym>a.nameEndonym?1:a.nameEndonym>r.nameEndonym?-1:0;case o.CountOfTerritories:return(r,a)=>{switch(r.type){case s.Language:return a.type===s.Language?E(a).length-E(r).length:-1;case s.Locale:return 0;case s.Census:return 0;case s.WritingSystem:return 0;case s.Territory:return a.type===s.Territory?a.containsTerritories.length-r.containsTerritories.length:-1;case s.VariantTag:return 0}};case o.CountOfLanguages:return(r,a)=>{var i,u,c,g;switch(r.type){case s.Language:return a.type===s.Language?a.childLanguages.length-r.childLanguages.length:-1;case s.Locale:return a.type===s.Locale?(((i=a.containedLocales)==null?void 0:i.length)||0)-(((u=r.containedLocales)==null?void 0:u.length)||0):-1;case s.Census:return a.type===s.Census?a.languageCount-r.languageCount:-1;case s.WritingSystem:return a.type===s.WritingSystem?Object.values(a.languages).length-Object.values(r.languages).length:-1;case s.Territory:return a.type===s.Territory?a.locales.length-r.locales.length:-1;case s.VariantTag:return a.type===s.VariantTag?(((c=a.languageCodes)==null?void 0:c.length)||0)-(((g=r.languageCodes)==null?void 0:g.length)||0):-1}};case o.Population:return(r,a)=>{switch(r.type){case s.Language:return a.type===s.Language?(a.populationCited??0)-(r.populationCited??0)+(n?(a.sourceSpecific[t].populationOfDescendents??0)-(r.sourceSpecific[t].populationOfDescendents??0):0):-1;case s.Locale:return a.type===s.Locale?a.populationSpeaking-r.populationSpeaking:-1;case s.Census:return a.type===s.Census?a.eligiblePopulation-r.eligiblePopulation:-1;case s.WritingSystem:return a.type===s.WritingSystem?a.populationUpperBound-r.populationUpperBound+(n?a.populationOfDescendents-r.populationOfDescendents:0):-1;case s.Territory:return a.type===s.Territory?a.population-r.population:-1;case s.VariantTag:return 0}};case o.RelativePopulation:return(r,a)=>{var i,u;switch(r.type){case s.Census:case s.Language:case s.WritingSystem:case s.VariantTag:return 0;case s.Locale:return a.type===s.Locale?(a.populationSpeakingPercent??0)-(r.populationSpeakingPercent??0):-1;case s.Territory:return a.type===s.Territory?a.population/(((i=a.parentUNRegion)==null?void 0:i.population)??1)-r.population/(((u=r.parentUNRegion)==null?void 0:u.population)??1):-1}};case o.Literacy:return(r,a)=>{switch(r.type){case s.Census:case s.Language:case s.WritingSystem:case s.VariantTag:return 0;case s.Locale:return a.type===s.Locale?(a.literacyPercent??0)-(r.literacyPercent??0):-1;case s.Territory:return a.type===s.Territory?(a.literacyPercent??0)-(r.literacyPercent??0):-1}};case o.Date:return(r,a)=>k(a)-k(r)}}function ye(e){switch(e){case s.Locale:return[o.Code,o.Name,o.Endonym,o.Population,o.Literacy,o.RelativePopulation,o.CountOfLanguages];case s.Territory:return[o.Code,o.Name,o.Population,o.Literacy,o.CountOfLanguages,o.CountOfTerritories];case s.Language:return[o.Code,o.Name,o.Endonym,o.Population,o.CountOfTerritories,o.CountOfLanguages];case s.Census:return[o.Date,o.Code,o.Name,o.Population,o.CountOfLanguages];case s.WritingSystem:return[o.Code,o.Name,o.Endonym,o.Population,o.CountOfLanguages];case s.VariantTag:return[o.Date,o.Code,o.Name,o.CountOfLanguages]}}function E(e){return M(e.locales.sort((t,n)=>(n.populationSpeaking??0)-(t.populationSpeaking??0)).map(t=>{var n;return((n=t.territory)==null?void 0:n.nameDisplay)??t.territoryCode}).filter(t=>t!=null&&t!==""),t=>t)}function k(e){switch(e.type){case s.Census:return e.yearCollected||0;case s.VariantTag:{const t=e.dateAdded;return t?new Date(t).getTime():0}default:return 0}}function fe(){const{searchBy:e,searchString:t}=f();return t==""?()=>!0:te(t.toLowerCase(),e)}function te(e,t){const n=e.toLowerCase();switch(t){case d.Code:case d.Endonym:case d.EngName:case d.NameOrCode:return r=>S(T(r,t),n);case d.AllNames:return r=>r.names.map(a=>S(a,n)).reduce((a,i)=>a||i,!1)}}function he(){var a,i;const{territoryFilter:e}=f(),t=e.split("["),n=(a=t[0])==null?void 0:a.toLowerCase().trim();let r="";return e.length===2?r=e.toUpperCase():e.length===3&&e.match(/^[0-9]{3}$/)?r=e:t.length>1&&(r=(i=t[1].split("]")[0])==null?void 0:i.toUpperCase()),y.useCallback(u=>{if(e=="")return!0;const c=ne(u);return r!==""?c.some(g=>g.ID===r):c.some(g=>g.nameDisplay.toLowerCase().startsWith(n))},[e,r,n])}function ne(e){switch(e.type){case s.Territory:return[e,e.parentUNRegion,e.sovereign].filter(t=>t!=null);case s.Locale:return[e.territory].filter(t=>t!=null);case s.Census:return[e.territory].filter(t=>t!=null);case s.Language:return e.locales.map(t=>t.territory).filter(t=>t!=null);case s.WritingSystem:return[e.territoryOfOrigin].filter(t=>t!=null);case s.VariantTag:return[]}}function Le(){const{languageScopes:e,territoryScopes:t}=f();function n(r){switch(r.type){case s.Language:return e.length===0||e.includes(r.scope??v.SpecialCode);case s.Territory:return t.length===0||t.includes(r.scope);case s.Locale:return ae(r,e,t);case s.Census:case s.WritingSystem:case s.VariantTag:return!0}}return n}function ae(e,t,n){var i,u;const r=t.includes(((i=e.language)==null?void 0:i.scope)??v.SpecialCode),a=n.includes(((u=e.territory)==null?void 0:u.scope)??F.Country);return(t.length==0||r)&&(n.length==0||a)}function Ce(){const{page:e,limit:t}=f();return n=>t<1||n.length<t?n:n.slice(t*(e-1),t*e)}export{ie as E,q as H,I,L as O,p as P,le as S,ue as X,te as a,T as b,x as c,w as d,me as e,fe as f,Le as g,he as h,Ce as i,E as j,ge as k,ye as l,X as m,j as n,P as o,ce as p,de as q,pe as r,G as u};
