import{e as b,P as r,S as p,p as m,a as f,b as k,V as u,c as S,L as d,d as h,u as P,r as y,g as B,f as E,j as F,h as j}from"./index-DhqR0ZD0.js";function i(c,e){if(c==="[]")return[];const a=Object.values(e).filter(t=>typeof t=="number");return c.split(",").filter(Boolean).map(t=>parseInt(t,10)).filter(t=>a.includes(t))}function w(c){const e={};return c.forEach((a,t)=>{const o=t;switch(o){case r.page:e.page=parseInt(a)||1;break;case r.limit:e.limit=parseInt(a)||10;break;case r.languageScopes:a==="[]"?e.languageScopes=[]:e.languageScopes=a.split(",").map(s=>k(s)).filter(s=>s!=null);break;case r.modalityFilter:e.modalityFilter=i(a,h);break;case r.territoryScopes:a==="[]"?e[o]=[]:e[o]=a.split(",").map(s=>f(s)).filter(s=>s!=null);break;case r.isoStatus:e.isoStatus=i(a,d);break;case r.vitalityEthFine:e.vitalityEthFine=i(a,S);break;case r.vitalityEthCoarse:e.vitalityEthCoarse=i(a,u);break;case r.columns:e.columns=m(a);break;case r.objectType:e.objectType=a;break;case r.view:e.view=a;break;case r.profile:e.profile=a;break;case r.localeSeparator:e.localeSeparator=a;break;case r.languageSource:e.languageSource=a;break;case r.sortBehavior:e.sortBehavior=a==="-1"?p.Reverse:p.Normal;break;case r.colorGradient:e.colorGradient=parseInt(a);break;case r.searchBy:e.searchBy=a;break;case r.sortBy:e.sortBy=a;break;case r.secondarySortBy:e.secondarySortBy=a;break;case r.colorBy:e.colorBy=a;break;case r.scaleBy:e.scaleBy=a;break;case r.fieldFocus:e.fieldFocus=a;break;case r.objectID:case r.searchString:case r.languageFilter:case r.territoryFilter:case r.writingSystemFilter:e[o]=a;break;default:b(o)}}),e}const L=({children:c})=>{const[e,a]=P({}),t=y.useCallback(s=>{a(n=>B(s,n))},[a]),o=y.useMemo(()=>{const s=w(e),n=E(s.objectType,s.view,s.profile,s.colorBy);return Object.keys(s).forEach(g=>{const l=g;s[l]==null&&delete s[l]}),{...n,...s,updatePageParams:t}},[e,t]);return F.jsx(j.Provider,{value:o,children:c})};export{L as default};
