import{u as d,j as e,b as p,L as h,c as D,r as w,V as i,O as g,d as O,a as C,S as x,T,R as S}from"./index-DgE6ZbzN.js";import{c as P,S as l,O as c,k as I,l as F,g as B,b as v,d as z,m as R,u as k,H as A}from"./filter-E5DX_VPh.js";import{t as E,b as N,u as W}from"./DataContext-BCPF3zra.js";import{T as U,L as V}from"./LimitInput-BCGUPl0B.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],H=P("chevron-right",G),M=()=>{const{languageScopes:t,updatePageParams:a}=d();function s(n){return E(X(n))}return e.jsx(l,{selectorLabel:"Language Scope",selectorDescription:"Filter what level of language-type objects are shown, such as families, macrolanguages, languages, dialects, and special codes.",options:Object.values(p),onChange:n=>t.includes(n)?a({languageScopes:t.filter(r=>r!=n)}):a({languageScopes:[...t,n]}),selected:t,getOptionLabel:s})};function X(t){switch(t){case p.Family:return"language families";case p.Macrolanguage:return"macrolanguages";case p.Language:return"languages";case p.Dialect:return"dialects";case p.SpecialCode:return"special codes"}}const _=()=>{const{languageSource:t,updatePageParams:a}=d(),s=e.jsx(e.Fragment,{children:"Languages have fuzzy boundaries and different sources categorize potential languages differently. For example, what's a dialect versus a language, or if a language is even attested. Use this option to change what languages appear and what they are considered (family / individual / dialect). This may also change the language codes, names, and parent/child relationships."});return e.jsx(l,{selectorLabel:"Source of the List of Languages",selectorDescription:s,options:Object.values(h),optionsDisplay:c.ButtonList,onChange:o=>a({languageSource:o}),selected:t,getOptionDescription:o=>e.jsx(Y,{languageSource:o})})},Y=({languageSource:t})=>{switch(t){case h.All:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"All:"}),"Show all languages and dialects, regardless of where it was defined."]});case h.ISO:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"International Standards Organization (ISO):"}),"The languages and macrolanguages defined by the International Standards Organization, standard # 639. Unicode and most technology companies use this list to define the possible languages. This option specifically shows only 3-letter codes from either the ISO 639-3 standard for regular languages and macrolanguages or the ISO 639-5 standard for language families."]});case h.UNESCO:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"UNESCO's World Atlas of Languages (WAL):"}),"The languages that have been agreed by the UNESCO authorities and representatives of UN member states to show in the World Atlas of Languages."]});case h.Glottolog:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"Glottolog:"}),"The languoids shown in the Glottolog database. This schema will include many more language families than ISO."]});case h.CLDR:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"CLDR:"}),"The languages supported by Unicode's tooling that is used by most technology platforms. The main components are the CLDR --the ",e.jsx("strong",{children:"C"}),"ommon"," ",e.jsx("strong",{children:"L"}),"ocale ",e.jsx("strong",{children:"D"}),"ata ",e.jsx("strong",{children:"R"}),"epository-- and ICU --the"," ",e.jsx("strong",{children:"I"}),"nternational ",e.jsx("strong",{children:"C"}),"omponents for ",e.jsx("strong",{children:"U"}),"nicode. These languages are usually the same as the ISO languages but the language-keys prefer the ISO 639-1 language code if it exists (eg. ",e.jsx("code",{children:"en"}),", ",e.jsx("code",{children:"es"}),") over the ISO 639-3 language code (eg. ",e.jsx("code",{children:"eng"}),", ",e.jsx("code",{children:"spa"}),")."]})}},K=()=>{const{localeSeparator:t,updatePageParams:a}=d();return e.jsx(l,{selectorLabel:"Locale Separator",selectorDescription:"Choose the separator in locale codes, eg. 'ar-EG' or 'ar_EG'",options:Object.values(D),optionsDisplay:c.ButtonGroup,onChange:s=>a({localeSeparator:s}),selected:t})},Q=()=>{const{objectType:t,updatePageParams:a,view:s}=d(),o=w.useCallback(n=>{a({objectID:void 0,objectType:n,view:s===i.Details?i.CardList:s,searchString:void 0,page:1})},[a,s]);return e.jsx(l,{selectorLabel:"Entity",options:Object.values(g),onChange:o,selected:t,getOptionLabel:n=>N(I(n)),getOptionDescription:n=>e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:8},children:"Click here to change the kind of entity viewed."}),e.jsx(q,{objectType:n})]})})},q=({objectType:t})=>{switch(t){case g.Census:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"Census:"})," A count of people in a given area -- for this site this is typically the count of people that speak or understand a language."]});case g.Language:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"Language (Languoid):"}),'A verbal communication system used by multiple people. Languages should be mutually intelligible, whereas a dialect is a subset of a language defined by differences in lexicon and pronunciation. Since languages families, contested languages, and dialects are included it is more precise to consider these "Languoids".']});case g.Locale:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"Locale:"}),"The combination of a language and territory -- used to express how many people speak a language in a given area or if a language is officially supported. Some locales specify a particular writing system and/or variation information (dialect, orthography...)."]});case g.Territory:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"Territory:"}),"A geographical unit. Some may not have universal recognition. Currently showing both countries as well as dependencies (eg. Hong Kong) that have separate ISO codes."]});case g.WritingSystem:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"Writing System:"}),"A system for writing a language to a persistent visual media. For instance Latin alphabet, Han characters, cursive Arabic script. Some systems may contain other systems."]})}},J=()=>{const{profile:t,updatePageParams:a}=d();return e.jsx(l,{selectorLabel:"Profile",selectorDescription:"Indicate the profile best describing what you are looking for. This will change the presets.",options:Object.values(O),onChange:s=>a({profile:s}),selected:t,optionsDisplay:c.Dropdown})},Z=()=>{const{sortBy:t,updatePageParams:a,objectType:s}=d(),o=F(s);return e.jsx(l,{selectorLabel:"Sort by",selectorDescription:"Choose the order of items in the view.",options:Object.values(C).filter(n=>o.includes(n)),onChange:n=>a({sortBy:n}),selected:t,optionsDisplay:c.ButtonList})},$=()=>{const{territoryFilter:t,updatePageParams:a}=d(),{territories:s}=W(),o=B(),n=w.useMemo(()=>async r=>{const j=r.toLowerCase();return Object.values(s).filter(o).filter(u=>v(u,x.NameOrCode).toLowerCase().split(/\W/g).some(m=>m.startsWith(j))).map(u=>{const m=e.jsx(z,{object:u,field:x.NameOrCode,query:r}),L=v(u,x.NameOrCode);return{objectID:u.ID,searchString:L,label:m}})},[s,o]);return e.jsxs("div",{className:"selector",style:{display:"flex",alignItems:"end"},children:[e.jsx(R,{optionsDisplay:c.ButtonList,label:"Territory Filter",description:"Filter results by ones relevant in a territory.",style:{lineHeight:"1.25em"}}),e.jsx(U,{inputStyle:{minWidth:"10em"},optionsDisplay:c.ButtonList,getSuggestions:n,onChange:r=>a({territoryFilter:r}),placeholder:"Filter name or code",value:t})]})},ee=()=>{const{territoryScopes:t,updatePageParams:a,objectType:s}=d();return[g.Territory,g.Locale].includes(s)?e.jsx(l,{selectorLabel:"Territory Scope",selectorDescription:"Filter what level of territories are shown, such as countries, regions, and dependencies.",options:Object.values(T),onChange:n=>t.includes(n)?a({territoryScopes:t.filter(r=>r!=n)}):a({territoryScopes:[...t,n]}),selected:t}):null},te=()=>{const{view:t,updatePageParams:a}=d();return e.jsxs(e.Fragment,{children:[e.jsx(l,{selectorLabel:"View",getOptionDescription:s=>e.jsx("img",{src:y(s),width:180}),options:Object.values(i),onChange:s=>a({view:s,objectID:void 0}),selected:t}),e.jsx(l,{selectorLabel:"View",getOptionDescription:s=>e.jsx("img",{src:y(s),width:180}),options:Object.values(i),optionsDisplay:c.ButtonGroup,onChange:s=>a({view:s,objectID:void 0}),selected:t}),e.jsx(l,{selectorLabel:"View",getOptionDescription:s=>e.jsx("img",{src:y(s),width:180}),options:Object.values(i),optionsDisplay:c.Dropdown,onChange:s=>a({view:s,objectID:void 0}),selected:t}),e.jsx(l,{selectorLabel:"View",getOptionDescription:s=>e.jsx("img",{src:y(s),width:180}),options:Object.values(i),optionsDisplay:c.InlineDropdown,onChange:s=>a({view:s,objectID:void 0}),selected:t})]})};function y(t){switch(t){case i.CardList:return"/lang-nav/cardlist.png";case i.Details:return"/lang-nav/details.png";case i.Hierarchy:return"/lang-nav/hierarchy.png";case i.Table:return"/lang-nav/table.png";case i.Reports:return"/lang-nav/reports.png"}}const ce=()=>{const[t,a]=S.useState(!1),[s,o]=S.useState(300),n=k(()=>{});return e.jsxs(se,{isOpen:t,panelWidth:s,setPanelWidth:o,panelRef:n,children:[e.jsxs(b,{panelWidth:s,children:[e.jsx(f,{children:"Data"}),e.jsx(J,{}),e.jsx(Q,{}),e.jsx(_,{})]}),e.jsxs(b,{panelWidth:s,children:[e.jsx(f,{children:"Filters"}),e.jsx(M,{}),e.jsx(ee,{}),e.jsx($,{})]}),e.jsxs(b,{panelWidth:s,children:[e.jsx(f,{children:"View Options"}),e.jsx(te,{}),e.jsx(V,{}),e.jsx(Z,{}),e.jsx(K,{})]}),e.jsx(ae,{isOpen:t,onClick:()=>a(r=>!r),panelWidth:s})]})},se=({children:t,isOpen:a,panelWidth:s,setPanelWidth:o,panelRef:n})=>e.jsxs("aside",{ref:n,style:{width:s,maxWidth:a?s:"0",overflowY:"scroll",overflowX:"hidden",borderRight:"2px solid var(--color-button-primary)",transition:"max-width 0.3s ease-in-out",paddingTop:"0.5em",position:"relative"},children:[a&&e.jsx(ne,{panelWidth:s,onResize:o}),t]}),ae=({isOpen:t,onClick:a,panelWidth:s})=>e.jsx("div",{className:"selector rounded",children:e.jsx(A,{hoverContent:t?"Close side panel":"Open side panel to customize view",className:t?"selected":"",onClick:a,style:{position:"fixed",top:"50%",left:t?s:"1.5em",transform:"translateX(-50%) translateY(-50%)",zIndex:1e3,transition:"left 0.3s ease-in-out"},"aria-label":t?"Close side panel":"Open side panel to customize view",children:e.jsx(H,{size:"1em",display:"block",style:{transform:t?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease-in-out"}})})}),b=({children:t,panelWidth:a})=>e.jsx("div",{style:{borderBottom:"0.125em solid var(--color-button-primary)",width:a,padding:"0.25em 0.5em",marginBottom:"0.5em"},children:t}),f=({children:t})=>e.jsx("div",{style:{fontSize:"1.2em",fontWeight:"lighter"},children:t}),ne=({panelWidth:t,onResize:a})=>e.jsx("div",{style:{position:"absolute",top:0,right:0,width:"0.5em",height:"100%",cursor:"ew-resize",zIndex:10},onMouseDown:s=>{s.preventDefault();const o=s.clientX,n=t,r=u=>{const m=u.clientX-o;a(n+m)},j=()=>{window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",j)};window.addEventListener("mousemove",r),window.addEventListener("mouseup",j)}});export{ce as default};
