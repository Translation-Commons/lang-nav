import{o as r,f as u,h}from"./index-O_KCNXJK.js";var S=(e=>(e.NonExistent="N",e.Duplicate="D",e.Split="S",e.Merged="M",e.NeverISO="Never ISO",e))(S||{});async function I(){return await fetch("data/iso/iso-639-3_Retirements.tab").then(e=>e.text()).then(e=>e.split(`
`).slice(1).map(n=>{var g;if(n.split("	").length<6)return null;const[t,i,s,o,d,p]=n.split("	"),c=s.trim();let l=[];return c==="S"&&(l=((g=d.match(/\[([a-z]{3})\]/g))==null?void 0:g.map(f=>f.slice(1,-1)))||[]),{id:t.trim(),languageName:i.trim(),reason:c,changeTo:o.trim(),remedy:d.trim(),effectiveDate:new Date(p.trim()),splitLanguages:l}}).filter(n=>n!==null)).catch(e=>console.error("Error loading TSV:",e))}function O(e,n){n.forEach(a=>{let t=e.ISO[a.id];const i=v(a);if(t)t.warnings[r.isoCode]=i,delete e.ISO[a.id],delete e.BCP[a.id],delete e.CLDR[a.id],delete e.UNESCO[a.id],a.changeTo&&(t.ISO.parentLanguageCode=a.changeTo,t.BCP.parentLanguageCode=a.changeTo);else{const s=a.splitLanguages.map(o=>e.Combined[o]).filter(o=>o!=null);t={...h(a.id,a.languageName),scope:u.SpecialCode,Combined:{code:a.id,name:a.languageName,scope:u.SpecialCode,parentLanguageCode:a.changeTo||void 0,childLanguages:s},ISO:{code:a.id}},e.Combined[a.id]=t}t.ISO.retirementReason=a.reason,t.warnings[r.isoCode]=i,t.viabilityConfidence??(t.viabilityConfidence="No"),t.viabilityExplanation??(t.viabilityExplanation=i)})}function v(e){const n=`The language code [${e.id}] was retired on ISO: `,a=`Effective ${e.effectiveDate.toLocaleDateString()}.`;switch(e.reason){case"N":return n+"Non-existent -- this language may have never existed. It was added to ISO but later removed. "+a;case"D":return n+`Duplicate -- this language was determined to be a duplicate of \`${e.changeTo}\`. `+a;case"S":return n+`${e.remedy}. `+a;case"M":return n+`Merged -- this language was merged into \`${e.changeTo}\`. `+a;case"Never ISO":return"Never ISO -- this language was never officially part of any ISO 639 standard."}}function C(e){switch(e){case"N":return"Non-Existent";case"D":return"Duplicate";case"S":return"Split";case"M":return"Merged";case"Never ISO":return"Never ISO";default:return}}export{S as R,O as a,C as g,I as l};
