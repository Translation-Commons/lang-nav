import{r as y,O as a,j as i,H as W,m as M,e as x,S as p,u as L,a as s,T as I}from"./index-wNXRbv5d.js";import{e as S,a as H}from"./DataContext-BRodsiea.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,t)=>t?t.toUpperCase():r.toLowerCase()),T=e=>{const n=$(e);return n.charAt(0).toUpperCase()+n.slice(1)},R=(...e)=>e.filter((n,r,t)=>!!n&&n.trim()!==""&&t.indexOf(n)===r).join(" ").trim(),U=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=y.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:t,className:u="",children:o,iconNode:l,...c},d)=>y.createElement("svg",{ref:d,...j,width:n,height:n,stroke:e,strokeWidth:t?Number(r)*24/Number(n):r,className:R("lucide",u),...!o&&!U(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,f])=>y.createElement(h,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(e,n)=>{const r=y.forwardRef(({className:t,...u},o)=>y.createElement(_,{ref:o,iconNode:n,className:R(`lucide-${V(T(e))}`,`lucide-${e}`,t),...u}));return r.displayName=T(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],q=B("info",G);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pe=B("x",z),me=({objectType:e})=>{switch(e){case a.Census:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Census:"})," A count of people in a given area -- for this site this is typically the count of people that speak or understand a language."]});case a.Language:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Language (Languoid):"}),'A verbal communication system used by multiple people. Languages should be mutually intelligible, whereas a dialect is a subset of a language defined by differences in lexicon and pronunciation. Since languages families, contested languages, and dialects are included it is more precise to consider these "Languoids".']});case a.Locale:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Locale:"}),"The combination of a language and territory -- used to express how many people speak a language in a given area or if a language is officially supported. Some locales specify a particular writing system and/or variation information (dialect, orthography...)."]});case a.Territory:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Territory:"}),"A geographical unit. Some may not have universal recognition. Currently showing both countries as well as dependencies (eg. Hong Kong) that have separate ISO codes."]});case a.WritingSystem:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Writing System:"}),"A system for writing a language to a persistent visual media. For instance Latin alphabet, Han characters, cursive Arabic script. Some systems may contain other systems."]});case a.VariantTag:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Variant Tag:"}),'The Internet Assigned Numbers Authority (IANA) maintains an enumeration of language tags in common usage. The "variant" tags are used in composite locales in the form ',i.jsx("code",{children:"ca_valencia"})," or ",i.jsx("code",{children:"ca-u-va-valencia"}),". These are typically used to specify a particular orthography or dialect."]})}};var m=(e=>(e.Standalone="standalone",e.First="first",e.Middle="middle",e.Last="last",e.Only="only",e))(m||{});function X(e,n){return n===1?"only":e===0?"first":e===n-1?"last":"middle"}function Y(e){const n=y.useRef(null);return y.useEffect(()=>{function r(t){n.current&&!n.current.contains(t.target)&&e()}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[e]),n}var g=(e=>(e.Dropdown="dropdown",e.InlineDropdown="inlineDropdown",e.ButtonGroup="buttonGroup",e.ButtonList="buttonList",e))(g||{});const K=({children:e,containerRef:n})=>i.jsx("div",{style:{position:"relative"},ref:n,children:i.jsx("div",{className:"dropdown",style:{alignItems:"start",position:"absolute",display:"flex",left:"0px",flexDirection:"column",width:"fit-content",zIndex:100,marginTop:"1em",backgroundColor:"var(--color-background)",borderRadius:"1em",maxHeight:"20em",overflowY:"auto"},children:e})}),Z=({label:e,description:n,display:r})=>e==null?null:i.jsxs("span",{style:Q(r),children:[i.jsx("div",{children:e}),n&&i.jsx(W,{hoverContent:n,children:i.jsx(q,{size:"1em",display:"block"})})]});function Q(e){const n={display:"flex",gap:"0.25em",lineHeight:"1em",alignItems:"center",fontWeight:"bold",padding:"0.5em",margin:"auto 0",whiteSpace:"nowrap",borderRadius:"1em"};switch(e){case g.ButtonGroup:n.borderRadius="1em 0 0 1em",n.marginLeft="-0.125em",n.marginRight="-0.125em";break;case g.ButtonList:n.borderRadius="1em 0 0 1em";break;case g.InlineDropdown:n.padding="0 0.5em";break;case g.Dropdown:break}return n}const J=({buttonType:e="button",children:n,className:r,hoverContent:t,onClick:u,style:o})=>{const{showHoverCard:l,hideHoverCard:c}=M();if(t==null)return i.jsx("button",{className:r,onClick:u,style:{cursor:u?"pointer":"auto",...o},type:e,children:n});const d=f=>{l(t,f.clientX,f.clientY)},h=f=>{l(t,f.clientX,f.clientY)};return i.jsx("button",{className:r,onMouseEnter:d,onMouseMove:h,onMouseLeave:c,onClick:()=>{c(),u!=null&&u()},style:{cursor:u?"pointer":"auto",...o},type:e,children:n})};function F({display:e,getOptionDescription:n,getOptionLabel:r=d=>d,isSelected:t,labelSuffix:u,onClick:o,option:l,position:c=m.Standalone}){let d="selectorOption";return t&&(d+=" selected"),t||(d+=" unselected"),e===g.InlineDropdown&&c===m.Standalone&&(d+=" hoverableText"),i.jsxs(J,{className:d,hoverContent:n?Array.isArray(l)?l.map(n).join(`
`):n(l):null,onClick:()=>o(Array.isArray(l)?l[0]:l),style:N(e,t,c),children:[Array.isArray(l)?l.map(r).join(" or "):r(l),u]})}function N(e,n,r){const t={border:"0.125em solid var(--color-button-primary)",borderRadius:"0px",cursor:"pointer",lineHeight:"1em",padding:"0.5em",whiteSpace:"nowrap"};switch(e){case g.ButtonGroup:r===m.Last?(t.marginLeft="-0.125em",t.borderRadius="0 1em 1em 0"):r===m.First?t.borderRadius="1em 0 0 1em":r===m.Middle&&(t.marginLeft="-0.125em");break;case g.ButtonList:t.borderRadius="1em",n||(t.border="0.125em solid var(--color-button-secondary)");break;case g.InlineDropdown:return r===m.Standalone?(t.margin="-0.25em",t.border="none",t.borderRadius=".5em",t.padding="0.25em",t):N(g.Dropdown,n,r);case g.Dropdown:t.textAlign="left",t.width="100%",t.borderRadius=void 0,r===m.First?(t.borderRadius="1em 1em 0 0",t.margin="0 0 -0.125em 0",t.borderBottom="none"):r===m.Last?(t.borderRadius="0 0 1em 1em",t.margin="0",t.borderTop="none"):r===m.Middle?(t.margin="0 0 -0.125em 0",t.borderRadius="0",t.borderTop="none",t.borderBottom="none"):r===m.Only?t.borderRadius="1em":r===m.Standalone&&(t.borderRadius="1em",t.width="fit-content");break}return t}function fe({display:e=g.ButtonList,getOptionDescription:n=()=>{},getOptionLabel:r=h=>h,onChange:t,options:u,selected:o,selectorDescription:l,selectorLabel:c,selectorStyle:d}){const[h,f]=y.useState(!1),b=Y(()=>f(!1));return i.jsxs(ee,{display:e,manualStyle:d,children:[c&&i.jsx(Z,{label:c,description:l,display:e}),i.jsx(ne,{isExpanded:h,containerRef:b,display:e,children:i.jsx(te,{getOptionDescription:n,getOptionLabel:r,onClick:C=>{f(!1),t(C)},options:u,display:e,selected:o})}),(e===g.Dropdown||e===g.InlineDropdown)&&i.jsx(F,{getOptionDescription:n,getOptionLabel:r,labelSuffix:h?" ▼":" ▶",onClick:()=>f(C=>!C),option:o,display:e,isSelected:!0})]})}const ee=({children:e,display:n,manualStyle:r})=>{const t={display:"flex",flexDirection:"row",alignItems:"center",marginLeft:"0.125em",marginRight:"0.5em",marginBottom:"0.5em"};return n===g.ButtonList?(t.flexDirection="column",t.alignItems="start"):n===g.InlineDropdown?(t.marginLeft="0",t.marginRight="0",t.marginBottom="0"):n===g.ButtonGroup&&(t.gap="-0.125em"),i.jsx("div",{className:"selector "+n,style:{...t,...r},children:e})},ne=({children:e,containerRef:n,isExpanded:r,display:t})=>{switch(t){case g.ButtonList:return i.jsx("div",{ref:n,style:{display:"flex",flexWrap:"wrap",gap:"0.25em 0.25em",marginLeft:"1em"},children:e});case g.ButtonGroup:return i.jsx(i.Fragment,{children:e});case g.Dropdown:case g.InlineDropdown:return r?i.jsx(K,{containerRef:n,children:e}):null}};function te({display:e,getOptionDescription:n=()=>{},getOptionLabel:r,onClick:t,options:u,selected:o}){return u.map((l,c)=>i.jsx(F,{getOptionDescription:n,getOptionLabel:r,onClick:t,option:l,display:e,isSelected:Array.isArray(o)?o.includes(l):o===l,position:X(c,u.length)},l))}function ye(e){switch(e.type){case a.Census:return[e.modality,e.proficiency,e.acquisitionOrder,e.domain&&e.domain!="Any"?"@"+e.domain:null].filter(n=>n!=null&&n!="Any").join(", ");case a.Language:return re(e);case a.Locale:return;case a.Territory:return e.scope;case a.WritingSystem:return e.nameDisplay!=e.nameFull?e.nameFull:void 0}}function re(e){let n=e.nameSubtitle,r=e.scope;n==="macrolanguage"&&(n=void 0),r==x.Language&&(r=void 0);const t=[r,n].filter(Boolean).join(", ");return t!==""?t:void 0}function he(e){switch(e){case a.Census:return"censuses";case a.Language:return"languages";case a.Locale:return"locales";case a.Territory:return"territories";case a.WritingSystem:return"writing systems";case a.VariantTag:return"variant tags"}}function ae(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const se=({text:e,searchPattern:n})=>{if(n==="")return e;const r=ae(n),t=e.match(new RegExp(`(^|.*\\P{L})(${r})(?:(.*\\P{L})(${r}))*?(.*)`,"iu"));return t?i.jsx(i.Fragment,{children:t.slice(1).map((u,o)=>o%2===0?u:i.jsx("span",{className:"highlighted",children:u},o))}):e},Le=({object:e,field:n})=>{const{searchBy:r,searchString:t}=L(),u=t.toLowerCase();return r===n?i.jsx(w,{object:e,query:t,field:n}):r===p.AllNames&&[p.EngName,p.Endonym].includes(n)?i.jsx(w,{object:e,query:t,field:n}):r===p.NameOrCode&&[p.EngName,p.Code].includes(n)?i.jsx(w,{object:e,query:t,field:n}):v(e,n,u)},w=({object:e,field:n,query:r})=>i.jsx(se,{text:v(e,n,r),searchPattern:r.toLowerCase()});function v(e,n,r){switch(n){case p.AllNames:return e.names.filter(t=>S(t,(r==null?void 0:r.toLowerCase())??""))[0]??"";case p.Code:return e.codeDisplay;case p.Endonym:return e.nameEndonym??"";case p.EngName:return e.nameDisplay;case p.NameOrCode:return e.nameDisplay+" ["+e.codeDisplay+"]"}}function E(e){switch(e.type){case a.Language:return e.populationEstimate??0;case a.Locale:return e.populationSpeaking??0;case a.Census:return e.eligiblePopulation;case a.WritingSystem:return e.populationUpperBound??0;case a.Territory:return e.population??0;case a.VariantTag:return e.languages.reduce((n,r)=>n+(r.populationEstimate||0),0)}}function O(e){switch(e.type){case a.Language:return e.populationCited??0;case a.Locale:return e.populationCensus!=null?e.populationSpeaking??0:0;default:return 0}}function D(e,n){switch(e.type){case a.Language:return n?e.sourceSpecific[n].populationOfDescendents??0:e.populationOfDescendents??0;case a.WritingSystem:return e.populationOfDescendents??0;default:return 0}}function Ce(e){const{sortBy:n,languageSource:r,sortDirection:t}=L(),o=ie(n,r);return t==="reverse"?(l,c)=>-o(l,c):o}function ie(e,n){switch(e){case s.Code:return(r,t)=>r.codeDisplay>t.codeDisplay?1:t.codeDisplay>r.codeDisplay?-1:0;case s.Name:return(r,t)=>r.nameDisplay>t.nameDisplay?1:t.nameDisplay>r.nameDisplay?-1:0;case s.Endonym:return(r,t)=>r.nameEndonym==null?t.nameEndonym==null?0:1:t.nameEndonym==null?-1:r.nameEndonym>t.nameEndonym?1:t.nameEndonym>r.nameEndonym?-1:0;case s.CountOfTerritories:return(r,t)=>P(t)-P(r);case s.CountOfLanguages:return(r,t)=>A(t)-A(r);case s.Population:return(r,t)=>E(t)-E(r);case s.PopulationAttested:return(r,t)=>O(t)-O(r);case s.PopulationOfDescendents:return(r,t)=>D(t,n)-D(r,n);case s.RelativePopulation:return(r,t)=>{var u,o,l,c;switch(r.type){case a.Census:case a.WritingSystem:case a.VariantTag:return 0;case a.Language:return t.type===a.Language?(((u=t.largestDescendant)==null?void 0:u.populationEstimate)??0)/(t.populationEstimate??1)-(((o=r.largestDescendant)==null?void 0:o.populationEstimate)??0)/(r.populationEstimate??1):-1;case a.Locale:return t.type===a.Locale?(t.populationSpeakingPercent??0)-(r.populationSpeakingPercent??0):-1;case a.Territory:return t.type===a.Territory?t.population/(((l=t.parentUNRegion)==null?void 0:l.population)??1)-r.population/(((c=r.parentUNRegion)==null?void 0:c.population)??1):-1}};case s.PercentOfGlobalLanguageSpeakers:return(r,t)=>{var u,o,l,c;switch(r.type){case a.Census:case a.WritingSystem:case a.VariantTag:case a.Territory:return 0;case a.Language:return t.type===a.Language?(t.populationEstimate??0)/(((u=t.parentLanguage)==null?void 0:u.populationEstimate)??1)-(r.populationEstimate??0)/(((o=r.parentLanguage)==null?void 0:o.populationEstimate)??1):-1;case a.Locale:return t.type===a.Locale?(t.populationSpeaking??0)/(((l=t.language)==null?void 0:l.populationEstimate)??1)-(r.populationSpeaking??0)/(((c=r.language)==null?void 0:c.populationEstimate)??1):-1}};case s.Literacy:return(r,t)=>{switch(r.type){case a.Census:case a.Language:case a.WritingSystem:case a.VariantTag:return 0;case a.Locale:return t.type===a.Locale?(t.literacyPercent??0)-(r.literacyPercent??0):-1;case a.Territory:return t.type===a.Territory?(t.literacyPercent??0)-(r.literacyPercent??0):-1}};case s.Date:return(r,t)=>k(t)-k(r)}}function we(e){switch(e){case a.Locale:return[s.Code,s.Name,s.Endonym,s.Population,s.Literacy,s.RelativePopulation,s.PercentOfGlobalLanguageSpeakers,s.CountOfLanguages];case a.Territory:return[s.Code,s.Name,s.Population,s.Literacy,s.CountOfLanguages,s.CountOfTerritories];case a.Language:return[s.Code,s.Name,s.Endonym,s.Population,s.CountOfTerritories,s.CountOfLanguages,s.PopulationAttested];case a.Census:return[s.Date,s.Code,s.Name,s.Population,s.CountOfLanguages];case a.WritingSystem:return[s.Code,s.Name,s.Endonym,s.Population,s.CountOfLanguages,s.PopulationOfDescendents];case a.VariantTag:return[s.Date,s.Code,s.Name,s.Population,s.CountOfLanguages]}}function oe(e){return H(e.locales.sort((n,r)=>(r.populationSpeaking??0)-(n.populationSpeaking??0)).map(n=>{var r;return((r=n.territory)==null?void 0:r.nameDisplay)??n.territoryCode}).filter(n=>n!=null).filter(n=>n!==""),n=>n)}function k(e){var n;switch(e.type){case a.Census:return e.yearCollected;case a.VariantTag:return((n=e.dateAdded)==null?void 0:n.getTime())??0;default:return 0}}function A(e){var n,r,t;switch(e.type){case a.Language:return e.childLanguages.length;case a.Locale:return((n=e.containedLocales)==null?void 0:n.length)||0;case a.Census:return e.languageCount;case a.WritingSystem:return e.languages?Object.values(e.languages).length:0;case a.Territory:return((r=e.locales)==null?void 0:r.length)||0;case a.VariantTag:return((t=e.languageCodes)==null?void 0:t.length)||0;default:return 0}}function P(e){var n;switch(e.type){case a.Language:return oe(e).length;case a.Territory:return((n=e.containsTerritories)==null?void 0:n.length)||0;case a.Locale:case a.Census:case a.WritingSystem:case a.VariantTag:return 0}}function Se(){const{searchBy:e,searchString:n}=L();return n==""?()=>!0:ue(n.toLowerCase(),e)}function ue(e,n){const r=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();switch(n){case p.Code:case p.Endonym:case p.EngName:case p.NameOrCode:return t=>S(v(t,n),r);case p.AllNames:return t=>t.names.map(u=>S(u,r)).reduce((u,o)=>u||o,!1)}}function xe(){var u,o;const{territoryFilter:e}=L(),n=e.split("["),r=(u=n[0])==null?void 0:u.toLowerCase().trim();let t="";return e.length===2?t=e.toUpperCase():e.length===3&&e.match(/^[0-9]{3}$/)?t=e:n.length>1&&(t=(o=n[1].split("]")[0])==null?void 0:o.toUpperCase()),y.useCallback(l=>{if(e=="")return!0;const c=le(l);return t!==""?c.some(d=>d.ID===t):c.some(d=>d.nameDisplay.toLowerCase().startsWith(r))},[e,t,r])}function le(e){switch(e.type){case a.Territory:return[e,e.parentUNRegion,e.sovereign].filter(n=>n!=null);case a.Locale:return[e.territory].filter(n=>n!=null);case a.Census:return[e.territory].filter(n=>n!=null);case a.Language:return e.locales.map(n=>n.territory).filter(n=>n!=null);case a.WritingSystem:return[e.territoryOfOrigin].filter(n=>n!=null);case a.VariantTag:return[]}}function ve(){const{languageScopes:e,territoryScopes:n}=L();return y.useCallback(t=>{switch(t.type){case a.Language:return e.length===0||e.includes(t.scope??x.SpecialCode);case a.Territory:return n.length===0||n.includes(t.scope);case a.Locale:return ce(t,e,n);case a.Census:case a.WritingSystem:case a.VariantTag:return!0}},[e,n])}function ce(e,n,r){var o,l;const t=n.includes(((o=e.language)==null?void 0:o.scope)??x.SpecialCode),u=r.includes(((l=e.territory)==null?void 0:l.scope)??I.Country);return(n.length==0||t)&&(r.length==0||u)}function Te(){const{page:e,limit:n}=L();return r=>n<1||r.length<n?r:r.slice(n*(e-1),n*e)}export{w as H,q as I,me as O,m as P,fe as S,pe as X,g as a,ue as b,B as c,v as d,Ce as e,Se as f,ve as g,xe as h,Te as i,oe as j,E as k,Z as l,he as m,we as n,J as o,K as p,X as q,N as r,ye as s,Le as t,Y as u};
