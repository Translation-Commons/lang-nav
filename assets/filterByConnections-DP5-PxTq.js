import{M as c,aZ as m,r as o,H as y,a_ as h,G as p,O as i,a$ as S,n as f,b0 as C}from"./index-DZ4X_MRU.js";function T(e,a){switch(a){case c.Code:case c.NameEndonym:case c.NameDisplay:case c.NameISO:case c.NameCLDR:case c.NameGlottolog:case c.NameEthnologue:case c.NameAny:return s=>s.names.map(t=>m(t,e)).reduce((t,r)=>t||r,!1);case c.CodeOrNameAny:return s=>s.names.map(t=>m(t,e)).reduce((t,r)=>t||r,!1)||m(s.codeDisplay,e)}}function O({lang:e=!0,territory:a=!0,writing:s=!0}={}){const t=a?d():()=>!0,r=s?W():()=>!0,n=e?w():()=>!0;return o.useCallback(l=>t(l)&&r(l)&&n(l),[t,r,n])}function d(){var r,n;const{territoryFilter:e}=y(),a=e.split("["),s=(r=a[0])==null?void 0:r.toLowerCase().trim();let t="";return e.length===2&&e.match(/^[A-Za-z]{2}$/)?t=e.toUpperCase():e.length===3&&e.match(/^[0-9]{3}$/)?t=e:a.length>1&&(t=(n=a[1].split("]")[0])==null?void 0:n.toUpperCase()),o.useCallback(l=>{if(!e)return!0;const u=h(l);return t!==""?u.some(g=>g.codeDisplay===t):u.some(g=>g.nameDisplay.toLowerCase().startsWith(s))},[e,t,s])}function W(){var r;const{writingSystemFilter:e}=y(),a=e.split("["),s=(r=a[0])==null?void 0:r.toLowerCase().trim();let t="";if(e.length===4&&e.match(/[A-Z][a-z]{3}/))t=p(e);else if(a.length>1){const n=a[1].split("]")[0];n&&(t=p(n))}return o.useCallback(n=>{if(!e)return!0;const l=L(n);return t!==""?l.some(u=>u.codeDisplay===t):l.some(u=>u.nameDisplay.toLowerCase().startsWith(s))},[e,t,s])}function L(e){var a,s,t;switch(e.type){case i.Territory:return f(((s=(a=e.locales)==null?void 0:a.filter(r=>(r.populationWritingPercent||0)>1))==null?void 0:s.map(r=>{var n;return r.writingSystem??((n=r.language)==null?void 0:n.primaryWritingSystem)}).filter(r=>!!r))??[],r=>r.ID);case i.Locale:return[e.writingSystem??((t=e.language)==null?void 0:t.primaryWritingSystem)].filter(r=>!!r);case i.WritingSystem:return[e,e.parentWritingSystem,...e.childWritingSystems??[]].filter(r=>!!r);case i.Language:case i.VariantTag:return S(e)??[];case i.Census:return[];case i.Keyboard:return[e.inputWritingSystem,e.outputWritingSystem].filter(r=>!!r)}}function w(){var r;const{languageFilter:e}=y(),a=e.split("["),s=(r=a[0])==null?void 0:r.toLowerCase().trim();let t="";if(e.length===3&&e.match(/[a-z]{3}/))t=e;else if(a.length>1){const n=a[1].split("]")[0];n&&(t=n.toLowerCase())}return o.useCallback(n=>{if(!e)return!0;const l=F(n);return t!==""?l.some(u=>u.codeDisplay===t):l.some(u=>u.nameDisplay.toLowerCase().startsWith(s))},[e,t,s])}function F(e){var a,s;switch(e.type){case i.Territory:return f(((s=(a=e.locales)==null?void 0:a.filter(t=>(t.populationSpeakingPercent||0)>1))==null?void 0:s.map(t=>t.language).filter(t=>!!t))??[],t=>t.ID);case i.Locale:return[e.language].filter(t=>!!t);case i.Census:return[];case i.Language:return[...C(e),e].filter(t=>!!t);case i.WritingSystem:return Object.values(e.languages??{});case i.VariantTag:return e.languages??[];case i.Keyboard:return e.language?[e.language]:[]}}export{d as a,W as b,w as c,O as d,T as g};
