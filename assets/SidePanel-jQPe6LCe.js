import{k as I,r as L,l as S,j as e,P as E,m as B,S as j,L as p,b as h,c as F,V as c,O as f,o as N,p as R,T as k,R as v,q as z}from"./index-CzQqlaLg.js";import{g as V,u as A,c as w,H as W,d as C,k as U,t as G,S as i,a as m,v as M,i as H,w as X,x as _,y as Y,z as $,l as O}from"./BaseColorBar-CrQpE7sL.js";import{T as q,L as K,C as Q,a as J}from"./LimitInput-C3bqJm0U.js";import{d as l,e as Z,f as P,c as ee}from"./useDataContext-BY_VY25j.js";import{b as te,a as se,V as ae}from"./PageParamsContext-Bo5axN70.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],oe=I("chevron-right",re),ne=({display:s})=>{const{territoryFilter:a,updatePageParams:t}=l(),{territories:o}=Z(),r=V(),{display:n}=A(),d=s??n,y=L.useCallback(async u=>{const T=u.toLowerCase();return o.filter(g=>w(g,S.NameOrCode).toLowerCase().split(/\W/g).some(b=>b.startsWith(T))).sort((g,b)=>(r(g)?-1:1)-(r(b)?-1:1)).map(g=>{const b=e.jsx(W,{object:g,field:S.NameOrCode,query:u}),D=w(g,S.NameOrCode);return{objectID:g.ID,searchString:D,label:b}})},[o,r]);return e.jsx(C,{display:d,children:e.jsxs("div",{className:"selector",style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[e.jsx(U,{label:"In Territory",description:"Filter results by ones relevant in a territory."}),e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx(q,{inputStyle:{minWidth:"8em"},getSuggestions:y,onChange:u=>t({territoryFilter:u}),pageParameter:E.territoryFilter,placeholder:"Name or code",value:a})})]})})},ie=()=>{const{sortBy:s,updatePageParams:a,objectType:t}=l(),o=G(t);return e.jsx(i,{selectorLabel:"Sort By",selectorDescription:"Choose the order of items in the view.",options:Object.values(B).filter(r=>o.includes(r)),onChange:r=>a({sortBy:r}),selected:s,display:m.Dropdown})},le=()=>{const{sortBehavior:s,updatePageParams:a}=l();return e.jsx(i,{selectorLabel:"Sort Direction",options:[j.Normal,j.Reverse],getOptionLabel:t=>j[t],getOptionDescription:t=>t===j.Normal?"Sort with high numbers first / first letter in alphabet first.":"Sort with low numbers first / last letter in alphabet first.",onChange:t=>a({sortBehavior:t}),selected:s})},ce=()=>{const{languageScopes:s,updatePageParams:a}=l();function t(r){return P(de(r))}return e.jsx(i,{selectorLabel:"Languoid Type",selectorDescription:"Filter what level of language-type objects are shown, such as families, macrolanguages, languages, dialects, and special codes.",options:Object.values(p),onChange:r=>s.includes(r)?a({languageScopes:s.filter(n=>n!=r)}):a({languageScopes:[...s,r]}),selected:s,getOptionLabel:t})};function de(s){switch(s){case p.Family:return"language families";case p.Macrolanguage:return"macrolanguages";case p.Language:return"languages";case p.Dialect:return"dialects";case p.SpecialCode:return"special codes"}}const ge=()=>{const{languageSource:s,updatePageParams:a}=l(),t=e.jsx(e.Fragment,{children:"Languages have fuzzy boundaries and different sources categorize potential languages differently. For example, what's a dialect versus a language, or if a language is even attested. Use this option to change what languages appear and what they are considered (family / individual / dialect). This may also change the language codes, names, and parent/child relationships."});return e.jsx(i,{selectorLabel:"Source of the List of Languages",selectorDescription:t,options:Object.values(h),onChange:o=>a({languageSource:o}),selected:s,display:m.ButtonList,getOptionDescription:o=>e.jsx(he,{languageSource:o})})},he=({languageSource:s})=>{switch(s){case h.All:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"All:"}),"Show all languages and dialects, regardless of where it was defined."]});case h.ISO:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"International Standards Organization (ISO):"}),"The languages and macrolanguages defined by the International Standards Organization, standard # 639. Unicode and most technology companies use this list to define the possible languages. This option specifically shows only 3-letter codes from either the ISO 639-3 standard for regular languages and macrolanguages or the ISO 639-5 standard for language families."]});case h.BCP:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"Best Current Practice (BCP):"})," The Internet Engineering Task Force (IETF)'s Best Current Practice (BCP) 47 standard defines how language codes should be composed for usage on the internet. It is largely based on the ISO 639 standard -- the big difference is that it recommends using the ISO 639-1 2-letter codes when available. That standard also includes how complex descriptions are defined, such as handling specific variants (eg. ",e.jsx("code",{children:"en-US"})," for American English, ",e.jsx("code",{children:"en-GB"})," for British English, or ",e.jsx("code",{children:"zh-Hant"})," for Traditional Chinese)."]});case h.UNESCO:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"UNESCO's World Atlas of Languages (WAL):"}),"The languages that have been agreed by the UNESCO authorities and representatives of UN member states to show in the World Atlas of Languages."]});case h.Glottolog:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"Glottolog:"}),"The languoids shown in the Glottolog database. This schema will include many more language families than ISO."]});case h.CLDR:return e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"CLDR:"}),"The languages supported by Unicode's tooling that is used by most technology platforms. The main components are the CLDR --the ",e.jsx("strong",{children:"C"}),"ommon"," ",e.jsx("strong",{children:"L"}),"ocale ",e.jsx("strong",{children:"D"}),"ata ",e.jsx("strong",{children:"R"}),"epository-- and ICU --the"," ",e.jsx("strong",{children:"I"}),"nternational ",e.jsx("strong",{children:"C"}),"omponents for ",e.jsx("strong",{children:"U"}),"nicode. These languages are usually the same as the ISO languages but the language-keys prefer the ISO 639-1 language code if it exists (eg. ",e.jsx("code",{children:"en"}),", ",e.jsx("code",{children:"es"}),") over the ISO 639-3 language code (eg. ",e.jsx("code",{children:"eng"}),", ",e.jsx("code",{children:"spa"}),")."]})}},ue=()=>{const{localeSeparator:s,updatePageParams:a}=l();return e.jsx(i,{selectorLabel:"Locale Separator",selectorDescription:"Choose the separator in locale codes, eg. 'ar-EG' or 'ar_EG'",options:Object.values(F),onChange:t=>a({localeSeparator:t}),selected:s})},pe=()=>{const{objectType:s,updatePageParams:a,view:t}=l(),o=L.useCallback(r=>{a({objectID:void 0,objectType:r,view:t===c.Details?c.CardList:t,searchString:void 0,page:1})},[a,t]);return e.jsx(i,{selectorLabel:"Entity",options:Object.values(f),onChange:o,selected:s,display:m.ButtonList,getOptionLabel:r=>ee(H(r)),getOptionDescription:r=>e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:8},children:"Click here to change the kind of entity viewed."}),e.jsx(M,{objectType:r})]})})},me=()=>{const{preference:s,setPreference:a}=N();return e.jsx(i,{selectorLabel:"Page Brightness",selectorDescription:"Choose how bright the page should be. This parameter is stored on your device.",options:["light","dark","follow device"],onChange:t=>a(t),selected:s,getOptionLabel:P})},ye=()=>{const{profile:s,updatePageParams:a}=l();return e.jsx(i,{selectorLabel:"Preset",selectorDescription:"Indicate the profile best describing what you are looking for. This will change the presets.",options:Object.values(R),onChange:t=>a({profile:t}),selected:s})},be=()=>{const{territoryScopes:s,updatePageParams:a,objectType:t,view:o}=l();return![f.Territory,f.Locale].includes(t)&&!(o===c.Reports&&t===f.Census)?null:e.jsx(i,{selectorLabel:"Territory Type",selectorDescription:"Filter what level of territories are shown, such as countries, regions, and dependencies.",options:Object.values(k),onChange:n=>s.includes(n)?a({territoryScopes:s.filter(d=>d!=n)}):a({territoryScopes:[...s,n]}),selected:s})},je=()=>{const{view:s,updatePageParams:a}=l();return e.jsx(i,{selectorLabel:"Display",getOptionDescription:t=>e.jsx("img",{src:xe(t),width:180}),options:Object.values(c),onChange:t=>a({view:t,objectID:void 0}),display:m.ButtonList,selected:s})};function xe(s){switch(s){case c.CardList:return"/lang-nav/cardlist.png";case c.Details:return"/lang-nav/details.png";case c.Hierarchy:return"/lang-nav/hierarchy.png";case c.Map:return"/lang-nav/map.png";case c.Table:return"/lang-nav/table.png";case c.Reports:return"/lang-nav/reports.png"}}const fe=()=>{const{vitalityISO:s,updatePageParams:a}=l();return e.jsx(i,{selectorLabel:"ISO Language Status",selectorDescription:"Filter languages by their ISO status (Living, Extinct, etc.)",labelWhenEmpty:"Any",options:Object.values(te).filter(t=>typeof t=="number"),onChange:t=>s.includes(t)?a({vitalityISO:s.filter(o=>o!==t)}):a({vitalityISO:[...s,t]}),selected:s,getOptionLabel:X})},Se=()=>{const{vitalityEth2013:s,updatePageParams:a}=l();return e.jsx(i,{selectorLabel:"Vitality Eth 2013",selectorDescription:"Filter languages by their Ethnologue 2013 vitality classification",labelWhenEmpty:"Any",options:Object.values(se).filter(t=>typeof t=="number"),onChange:t=>s.includes(t)?a({vitalityEth2013:s.filter(o=>o!==t)}):a({vitalityEth2013:[...s,t]}),selected:s,getOptionLabel:_})},ve=()=>{const{vitalityEth2025:s,updatePageParams:a}=l();return e.jsx(i,{selectorLabel:"Vitality Eth 2025",selectorDescription:"Filter languages by their Ethnologue 2025 vitality classification",labelWhenEmpty:"Any",options:Object.values(ae).filter(t=>typeof t=="number"),onChange:t=>s.includes(t)?a({vitalityEth2025:s.filter(o=>o!==t)}):a({vitalityEth2025:[...s,t]}),selected:s,getOptionLabel:Y})},Be=()=>{const[s,a]=v.useState(!0),[t,o]=v.useState(300),r=$(()=>{});return e.jsx(we,{isOpen:s,panelWidth:t,setPanelWidth:o,panelRef:r,children:e.jsxs(C,{display:m.Dropdown,children:[e.jsx(x,{panelWidth:t,title:"Common Actions",optionsName:"common actions",children:e.jsx(z,{})}),e.jsxs(x,{panelWidth:t,title:"Data",optionsName:"data options",alwaysShownNodes:e.jsx(pe,{}),children:[e.jsx(ye,{}),e.jsx(ge,{})]}),e.jsxs(x,{panelWidth:t,title:"Filter",optionsName:"filters",alwaysShownNodes:e.jsx(ne,{display:m.ButtonList}),children:[e.jsx(ce,{}),e.jsx(be,{}),e.jsx(fe,{}),e.jsx(Se,{}),e.jsx(ve,{})]}),e.jsxs(x,{panelWidth:t,title:"View",optionsName:"view options",alwaysShownNodes:e.jsx(je,{}),children:[e.jsx(K,{}),e.jsx(ie,{}),e.jsx(le,{}),e.jsx(Q,{}),e.jsx(J,{}),e.jsx(ue,{}),e.jsx(me,{})]}),e.jsx(Le,{isOpen:s,onClick:()=>a(n=>!n),panelWidth:t})]})})},we=({children:s,isOpen:a,panelWidth:t,setPanelWidth:o,panelRef:r})=>e.jsxs("aside",{ref:r,style:{width:t,maxWidth:a?t:"0",overflowY:"scroll",overflowX:"hidden",borderRight:"2px solid var(--color-button-primary)",transition:"max-width 0.3s ease-in-out",position:"relative"},children:[a&&e.jsx(Ce,{panelWidth:t,onResize:o}),s]}),Le=({isOpen:s,onClick:a,panelWidth:t})=>e.jsx(O,{hoverContent:s?"Close side panel":"Open side panel to customize view",className:s?"selected primary":"primary",onClick:a,style:{borderRadius:"1em",padding:".5em",position:"fixed",top:"50%",left:s?t:"1.5em",transform:"translateX(-50%) translateY(-50%)",zIndex:1e3,transition:"left 0.3s ease-in-out"},"aria-label":s?"Close side panel":"Open side panel to customize view",children:e.jsx(oe,{size:"1em",display:"block",style:{transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease-in-out"}})}),x=({children:s,panelWidth:a,title:t,alwaysShownNodes:o,optionsName:r})=>{const[n,d]=v.useState(!1);return e.jsxs("div",{style:{borderTop:"0.125em solid var(--color-button-primary)",width:a,marginBottom:"0.5em"},children:[e.jsx("div",{style:{fontSize:"1.2em",fontWeight:"lighter",borderRadius:"0",width:"100%",textAlign:"left",backgroundColor:"var(--color-button-secondary)",padding:"0.5em"},children:t}),e.jsxs("div",{style:{display:"flex",padding:"0.25em 0.5em",gap:"0.5em",flexDirection:"column"},children:[o,n&&s,e.jsx(O,{style:{padding:"0em 0.25em"},onClick:()=>d(y=>!y),children:n?`close extra ${r} ▲`:`see all ${r} ▶`})]})]})},Ce=({panelWidth:s,onResize:a})=>e.jsx("div",{style:{position:"absolute",top:0,right:0,width:"0.5em",height:"100%",cursor:"ew-resize",zIndex:10},onMouseDown:t=>{t.preventDefault();const o=t.clientX,r=s,n=y=>{const u=y.clientX-o;a(r+u)},d=()=>{window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",d)};window.addEventListener("mousemove",n),window.addEventListener("mouseup",d)}});export{Be as default};
