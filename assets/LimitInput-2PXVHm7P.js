import{r as n,j as e,u as S,V as L}from"./index-DR2gq6Jk.js";import{c as k,n as C,O as m,H as x,X as I,o as R,E as P,P as D,m as E}from"./filter-CwUIE1q2.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],N=k("funnel",F),B=({getSuggestions:i=()=>[],inputStyle:a,onChange:l,optionsDisplay:c,placeholder:y,showGoToDetailsButton:b=!1,showTextInputButton:r=!0,value:t})=>{const d=n.useRef(null),[p,h]=n.useState(50);n.useEffect(()=>{d.current&&h(d.current.offsetWidth+10)},[t]);const[s,u]=n.useState(t);n.useEffect(()=>{u(t)},[t,u]),n.useEffect(()=>{const o=setTimeout(()=>l(s),300);return()=>clearTimeout(o)},[s]);const[j,w]=n.useState([]),[v,g]=n.useState(!1);return n.useEffect(()=>{let o=!0;return(async()=>{const f=await i(s);o&&w(f.slice(0,10))})(),()=>{o=!1}},[i,s]),e.jsxs(e.Fragment,{children:[v&&j.length>0&&e.jsx("div",{style:{position:"relative"},children:e.jsx("div",{className:"SelectorPopup",style:{background:"var(--color-background)",border:"none",borderRadius:"1em",alignItems:"start",position:"absolute",display:"flex",left:"0px",flexDirection:"column",width:"fit-content",zIndex:100},children:j.map((o,f)=>e.jsx(T,{position:C(f,j.length),setImmediateValue:u,showTextInputButton:r,showGoToDetailsButton:b,suggestion:o},f))})}),e.jsx("input",{type:"text",className:s===""?"empty":"",value:s,onChange:o=>{u(o.target.value),g(!0)},onBlur:()=>setTimeout(()=>g(!1),500),onFocus:()=>g(!0),placeholder:y,style:{...c===m.ButtonList?{borderRadius:"0.5em"}:{},...a,width:p+5}}),e.jsx("span",{ref:d,style:{position:"absolute",visibility:"hidden",whiteSpace:"pre",font:"inherit"},children:t||" "}),e.jsx(x,{hoverContent:"Clear the input",style:c===m.ButtonList?{padding:".5em",borderRadius:"0.5em",border:"none",marginLeft:"0.5em"}:{marginRight:"0em",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px",borderLeft:"none"},onClick:()=>{u(""),g(!1)},children:e.jsx(I,{size:"1em",display:"block"})})]})},T=({position:i=D.Standalone,setImmediateValue:a,showGoToDetailsButton:l,showTextInputButton:c,suggestion:y})=>{const{objectID:b,searchString:r,label:t}=y,{updatePageParams:d}=S(),p=()=>{a(r)},h=()=>{d({objectID:b,view:L.Details,searchString:r})},s=R(m.Dropdown,!1,i);return l?c?e.jsxs("div",{className:"SuggestionRowWithMultipleInteractions",style:{...s,display:"flex",flexDirection:"row",alignItems:"center",padding:"0.125em",justifyContent:"end",backgroundColor:"var(--color-background)"},children:[e.jsx("div",{style:{whiteSpace:"nowrap",maxWidth:"12em",overflow:"hidden",textOverflow:"ellipsis",paddingLeft:"1em",margin:"none"},children:t}),e.jsx(x,{hoverContent:e.jsxs(e.Fragment,{children:['Filter by "',r,'"']}),onClick:p,style:{width:"fit-content"},children:e.jsx(N,{size:"1em",display:"block"})}),e.jsx(x,{hoverContent:e.jsxs(e.Fragment,{children:["Go to the details page for ",r]}),onClick:h,style:{width:"fit-content"},children:e.jsx(P,{size:"1em",display:"block"})})]}):e.jsx(x,{hoverContent:e.jsxs(e.Fragment,{children:["Go to the details page for ",r]}),onClick:h,style:s,children:t}):c?e.jsx("button",{onClick:p,style:s,children:t}):t},G=()=>{const{limit:i,updatePageParams:a}=S();return e.jsxs("div",{className:"selector",style:{display:"flex",alignItems:"center"},children:[e.jsx(E,{style:{lineHeight:"1.25em"},description:"Limit how many results are shown.",label:"Item Limit",optionsDisplay:m.ButtonList}),e.jsx(B,{inputStyle:{minWidth:"3em"},getSuggestions:async()=>[{searchString:"8",label:"8"},{searchString:"20",label:"20"},{searchString:"100",label:"100"},{searchString:"200",label:"200"}],onChange:l=>a({limit:parseInt(l)}),optionsDisplay:m.ButtonList,placeholder:"âˆž",value:i<1||Number.isNaN(i)?"":i.toString()})]})};export{G as L,B as T};
