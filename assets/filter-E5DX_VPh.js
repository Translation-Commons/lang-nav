import{r as y,e as P,j as c,H as B,O as a,b as x,S as d,u as h,a as i,T as F}from"./index-DgE6ZbzN.js";import{d as S,a as M}from"./DataContext-BCPF3zra.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,t)=>t?t.toUpperCase():n.toLowerCase()),O=e=>{const r=A(e);return r.charAt(0).toUpperCase()+r.slice(1)},k=(...e)=>e.filter((r,n,t)=>!!r&&r.trim()!==""&&t.indexOf(r)===n).join(" ").trim(),D=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var H={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=y.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:t,className:u="",children:o,iconNode:s,...l},g)=>y.createElement("svg",{ref:g,...H,width:r,height:r,stroke:e,strokeWidth:t?Number(n)*24/Number(r):n,className:k("lucide",u),...!o&&!D(l)&&{"aria-hidden":"true"},...l},[...s.map(([p,f])=>y.createElement(p,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=(e,r)=>{const n=y.forwardRef(({className:t,...u},o)=>y.createElement($,{ref:o,iconNode:r,className:k(`lucide-${W(O(e))}`,`lucide-${e}`,t),...u}));return n.displayName=O(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],se=v("external-link",V);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],U=v("info",b);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oe=v("x",I),_=({children:e,className:r,hoverContent:n,onClick:t,style:u})=>{const{showHoverCard:o,hideHoverCard:s}=P();if(n==null)return c.jsx("button",{className:r,onClick:t,style:{cursor:t?"pointer":"auto",...u},type:"button",children:e});const l=p=>{o(n,p.clientX,p.clientY)},g=p=>{o(n,p.clientX,p.clientY)};return c.jsx("button",{className:r,onMouseEnter:l,onMouseMove:g,onMouseLeave:s,onClick:()=>{s(),t!=null&&t()},style:{cursor:t?"pointer":"auto",...u},children:e})};var m=(e=>(e.Standalone="standalone",e.First="first",e.Middle="middle",e.Last="last",e.Only="only",e))(m||{});function j(e,r){return r===1?"only":e===0?"first":e===r-1?"last":"middle"}function q(e){const r=y.useRef(null);return y.useEffect(()=>{function n(t){r.current&&!r.current.contains(t.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e]),r}const G=({label:e,description:r,optionsDisplay:n,style:t})=>e==null?null:c.jsxs("span",{style:{...X(n),...t},children:[e,r&&c.jsx(B,{hoverContent:r,style:{marginLeft:"0.25em"},children:c.jsx(U,{size:"1em",style:{verticalAlign:"middle"}})})]});function X(e){const r={lineHeight:"1em",fontWeight:"bold",padding:"0.5em",whiteSpace:"nowrap",borderRadius:"1em"};switch(e){case C.ButtonGroup:r.borderRadius="1em 0 0 1em",r.marginLeft="-0.125em",r.marginRight="-0.125em";break;case C.ButtonList:r.borderRadius="1em 0 0 1em";break;case C.InlineDropdown:r.padding="0 0.5em";break;case C.Dropdown:break}return r}var C=(e=>(e.Dropdown="dropdown",e.InlineDropdown="inlineDropdown",e.ButtonGroup="buttonGroup",e.ButtonList="buttonList",e))(C||{});function ie({getOptionDescription:e=()=>{},getOptionLabel:r=g=>g,onChange:n,options:t,optionsDisplay:u="buttonList",selected:o,selectorDescription:s,selectorLabel:l}){const[g,p]=y.useState(!1),f=q(()=>p(!1));return c.jsxs(Y,{optionsDisplay:u,children:[l&&c.jsx(G,{label:l,description:s,optionsDisplay:u}),c.jsx(Z,{isExpanded:g,containerRef:f,optionsDisplay:u,children:c.jsx(z,{getOptionDescription:e,getOptionLabel:r,onClick:L=>{p(!1),n(L)},options:t,optionsDisplay:u,selected:o})}),(u==="dropdown"||u==="inlineDropdown")&&c.jsx(R,{getOptionDescription:e,getOptionLabel:L=>`${r(L)} ${g?"▼":"▶"}`,onClick:()=>p(L=>!L),option:Array.isArray(o)?o[0]:o,optionsDisplay:u,isSelected:!0})]})}const Y=({children:e,optionsDisplay:r})=>{const n={display:"flex",flexDirection:"row",alignItems:"end",marginLeft:"0.125em",marginRight:"0.5em",marginBottom:"0.5em"};return r==="buttonList"?(n.flexDirection="column",n.alignItems="start"):r==="inlineDropdown"?(n.marginLeft="0",n.marginRight="0",n.marginBottom="0"):r==="buttonGroup"&&(n.gap="-0.125em"),c.jsx("div",{className:"selector "+r,style:n,children:e})},Z=({children:e,containerRef:r,isExpanded:n,optionsDisplay:t})=>{switch(t){case"buttonList":return c.jsx("div",{ref:r,style:{display:"flex",flexWrap:"wrap",gap:"0.25em 0.25em",marginLeft:"1em"},children:e});case"buttonGroup":return c.jsx(c.Fragment,{children:e});case"dropdown":case"inlineDropdown":return n?c.jsx("div",{style:{position:"relative"},ref:r,children:c.jsx("div",{className:"dropdown",style:{alignItems:"start",position:"absolute",display:"flex",left:"0px",flexDirection:"column",width:"fit-content",zIndex:100,marginTop:t==="inlineDropdown"?"0.25em":"0",backgroundColor:"var(--color-background)",borderRadius:"1em",maxHeight:"20em",overflowY:"auto"},children:e})}):null}};function z({getOptionDescription:e=()=>{},getOptionLabel:r=s=>s,onClick:n,options:t,optionsDisplay:u,selected:o}){return t.map((s,l)=>c.jsx(R,{getOptionDescription:e,getOptionLabel:r,onClick:n,option:s,optionsDisplay:u,isSelected:Array.isArray(o)?o.includes(s):o===s,position:j(l,t.length)},s))}function R({getOptionDescription:e=()=>{},getOptionLabel:r=l=>l,isSelected:n,onClick:t,option:u,optionsDisplay:o,position:s=m.Standalone}){let l="selectorOption";return n&&(l+=" selected"),n||(l+=" unselected"),o==="inlineDropdown"&&s===m.Standalone&&(l+=" hoverableText"),c.jsx(_,{className:l,hoverContent:e(u),onClick:()=>t(u),style:N(o,n,s),children:r(u)})}function N(e,r,n){const t={border:"0.125em solid var(--color-button-primary)",borderRadius:"0px",cursor:"pointer",lineHeight:"1em",padding:"0.5em",whiteSpace:"nowrap"};switch(e){case"buttonGroup":n===m.Last?(t.marginLeft="-0.125em",t.borderRadius="0 1em 1em 0"):n===m.First?t.borderRadius="1em 0 0 1em":n===m.Middle&&(t.marginLeft="-0.125em");break;case"buttonList":t.borderRadius="1em",r||(t.border="0.125em solid var(--color-button-secondary)");break;case"inlineDropdown":return n===m.Standalone?(t.margin="-0.25em",t.border="none",t.borderRadius=".5em",t.padding="0.25em",t):N("dropdown",r,n);case"dropdown":t.textAlign="left",t.width="100%",t.borderRadius=void 0,n===m.First?(t.borderRadius="1em 1em 0 0",t.margin="0 0 -0.125em 0",t.borderBottom="none"):n===m.Last?(t.borderRadius="0 0 1em 1em",t.margin="0",t.borderTop="none"):n===m.Middle?(t.margin="0 0 -0.125em 0",t.borderTop="none",t.borderBottom="none"):n===m.Only?t.borderRadius="1em":n===m.Standalone&&(t.borderRadius="1em",t.width="fit-content");break}return t}function ue(e){switch(e.type){case a.Census:return[e.modality,e.proficiency,e.acquisitionOrder,e.domain&&e.domain!="Any"?"@"+e.domain:null].filter(r=>r!=null&&r!="Any").join(", ");case a.Language:return K(e);case a.Locale:return;case a.Territory:return e.scope;case a.WritingSystem:return e.nameDisplay!=e.nameFull?e.nameFull:void 0}}function K(e){let r=e.nameSubtitle,n=e.scope;r==="macrolanguage"&&(r=void 0),n==x.Language&&(n=void 0);const t=[n,r].filter(Boolean).join(", ");return t!==""?t:void 0}function le(e){switch(e){case a.Census:return"censuses";case a.Language:return"languages";case a.Locale:return"locales";case a.Territory:return"territories";case a.WritingSystem:return"writing systems";case a.VariantTag:return"variant tags"}}function Q(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const J=({text:e,searchPattern:r})=>{if(r==="")return e;const n=Q(r),t=e.match(new RegExp(`(^|.*\\P{L})(${n})(?:(.*\\P{L})(${n}))*?(.*)`,"iu"));return t?c.jsx(c.Fragment,{children:t.slice(1).map((u,o)=>o%2===0?u:c.jsx("span",{className:"highlighted",children:u},o))}):e},ce=({object:e,field:r})=>{const{searchBy:n,searchString:t}=h(),u=t.toLowerCase();return n===r?c.jsx(w,{object:e,query:t,field:r}):n===d.AllNames&&[d.EngName,d.Endonym].includes(r)?c.jsx(w,{object:e,query:t,field:r}):n===d.NameOrCode&&[d.EngName,d.Code].includes(r)?c.jsx(w,{object:e,query:t,field:r}):T(e,r,u)},w=({object:e,field:r,query:n})=>c.jsx(J,{text:T(e,r,n),searchPattern:n.toLowerCase()});function T(e,r,n){switch(r){case d.AllNames:return e.names.filter(t=>S(t,(n==null?void 0:n.toLowerCase())??""))[0]??"";case d.Code:return e.codeDisplay;case d.Endonym:return e.nameEndonym??"";case d.EngName:return e.nameDisplay;case d.NameOrCode:return e.nameDisplay+" ["+e.codeDisplay+"]"}}function ge(e,r,n){switch(e.type){case a.Language:return(e.populationCited??0)+0;case a.Locale:return e.populationSpeaking;case a.Census:return e.languageCount;case a.WritingSystem:return e.populationUpperBound+0;case a.Territory:return e.population;case a.VariantTag:return 0}}function de(e,r){const{sortBy:n,languageSource:t}=h(),u=t;switch(n){case i.Code:return(o,s)=>o.codeDisplay>s.codeDisplay?1:s.codeDisplay>o.codeDisplay?-1:0;case i.Name:return(o,s)=>o.nameDisplay>s.nameDisplay?1:s.nameDisplay>o.nameDisplay?-1:0;case i.Endonym:return(o,s)=>o.nameEndonym==null?s.nameEndonym==null?0:1:s.nameEndonym==null?-1:o.nameEndonym>s.nameEndonym?1:s.nameEndonym>o.nameEndonym?-1:0;case i.CountOfTerritories:return(o,s)=>{switch(o.type){case a.Language:return s.type===a.Language?E(s).length-E(o).length:-1;case a.Locale:return 0;case a.Census:return 0;case a.WritingSystem:return 0;case a.Territory:return s.type===a.Territory?s.containsTerritories.length-o.containsTerritories.length:-1;case a.VariantTag:return 0}};case i.CountOfLanguages:return(o,s)=>{var l,g,p,f;switch(o.type){case a.Language:return s.type===a.Language?s.childLanguages.length-o.childLanguages.length:-1;case a.Locale:return s.type===a.Locale?(((l=s.containedLocales)==null?void 0:l.length)||0)-(((g=o.containedLocales)==null?void 0:g.length)||0):-1;case a.Census:return s.type===a.Census?s.languageCount-o.languageCount:-1;case a.WritingSystem:return s.type===a.WritingSystem?Object.values(s.languages).length-Object.values(o.languages).length:-1;case a.Territory:return s.type===a.Territory?s.locales.length-o.locales.length:-1;case a.VariantTag:return s.type===a.VariantTag?(((p=s.languageCodes)==null?void 0:p.length)||0)-(((f=o.languageCodes)==null?void 0:f.length)||0):-1}};case i.Population:return(o,s)=>{switch(o.type){case a.Language:return s.type===a.Language?(s.populationCited??0)-(o.populationCited??0)+(e?(s.sourceSpecific[u].populationOfDescendents??0)-(o.sourceSpecific[u].populationOfDescendents??0):0):-1;case a.Locale:return s.type===a.Locale?s.populationSpeaking-o.populationSpeaking:-1;case a.Census:return s.type===a.Census?s.eligiblePopulation-o.eligiblePopulation:-1;case a.WritingSystem:return s.type===a.WritingSystem?s.populationUpperBound-o.populationUpperBound+(e?s.populationOfDescendents-o.populationOfDescendents:0):-1;case a.Territory:return s.type===a.Territory?s.population-o.population:-1;case a.VariantTag:return 0}};case i.RelativePopulation:return(o,s)=>{var l,g;switch(o.type){case a.Census:case a.Language:case a.WritingSystem:case a.VariantTag:return 0;case a.Locale:return s.type===a.Locale?(s.populationSpeakingPercent??0)-(o.populationSpeakingPercent??0):-1;case a.Territory:return s.type===a.Territory?s.population/(((l=s.parentUNRegion)==null?void 0:l.population)??1)-o.population/(((g=o.parentUNRegion)==null?void 0:g.population)??1):-1}};case i.Literacy:return(o,s)=>{switch(o.type){case a.Census:case a.Language:case a.WritingSystem:case a.VariantTag:return 0;case a.Locale:return s.type===a.Locale?(s.literacyPercent??0)-(o.literacyPercent??0):-1;case a.Territory:return s.type===a.Territory?(s.literacyPercent??0)-(o.literacyPercent??0):-1}}}}function pe(e){switch(e){case a.Locale:return[i.Code,i.Name,i.Endonym,i.Population,i.Literacy,i.RelativePopulation,i.CountOfLanguages];case a.Territory:return[i.Code,i.Name,i.Population,i.Literacy,i.CountOfLanguages,i.CountOfTerritories];case a.Language:return[i.Code,i.Name,i.Endonym,i.Population,i.CountOfTerritories,i.CountOfLanguages];case a.Census:return[i.Code,i.Name,i.Population,i.CountOfLanguages];case a.WritingSystem:return[i.Code,i.Name,i.Endonym,i.Population,i.CountOfLanguages];case a.VariantTag:return[i.Code,i.Name,i.CountOfLanguages]}}function E(e){return M(e.locales.sort((r,n)=>(n.populationSpeaking??0)-(r.populationSpeaking??0)).map(r=>{var n;return((n=r.territory)==null?void 0:n.nameDisplay)??r.territoryCode}).filter(r=>r!=null&&r!==""),r=>r)}function me(){const{searchBy:e,searchString:r}=h();return r==""?()=>!0:ee(r.toLowerCase(),e)}function ee(e,r){const n=e.toLowerCase();switch(r){case d.Code:case d.Endonym:case d.EngName:case d.NameOrCode:return t=>S(T(t,r),n);case d.AllNames:return t=>t.names.map(u=>S(u,n)).reduce((u,o)=>u||o,!1)}}function ye(){var u,o;const{territoryFilter:e}=h(),r=e.split("["),n=(u=r[0])==null?void 0:u.toLowerCase().trim();let t="";return e.length===2?t=e.toUpperCase():e.length===3&&e.match(/^[0-9]{3}$/)?t=e:r.length>1&&(t=(o=r[1].split("]")[0])==null?void 0:o.toUpperCase()),y.useCallback(s=>{if(e=="")return!0;const l=re(s);return t!==""?l.some(g=>g.ID===t):l.some(g=>g.nameDisplay.toLowerCase().startsWith(n))},[e,t,n])}function re(e){switch(e.type){case a.Territory:return[e,e.parentUNRegion,e.sovereign].filter(r=>r!=null);case a.Locale:return[e.territory].filter(r=>r!=null);case a.Census:return[e.territory].filter(r=>r!=null);case a.Language:return e.locales.map(r=>r.territory).filter(r=>r!=null);case a.WritingSystem:return[e.territoryOfOrigin].filter(r=>r!=null);case a.VariantTag:return[]}}function fe(){const{languageScopes:e,territoryScopes:r}=h();function n(t){switch(t.type){case a.Language:return e.length===0||e.includes(t.scope??x.SpecialCode);case a.Territory:return r.length===0||r.includes(t.scope);case a.Locale:return te(t,e,r);case a.Census:case a.WritingSystem:case a.VariantTag:return!0}}return n}function te(e,r,n){var o,s;const t=r.includes(((o=e.language)==null?void 0:o.scope)??x.SpecialCode),u=n.includes(((s=e.territory)==null?void 0:s.scope)??F.Country);return(r.length==0||t)&&(n.length==0||u)}function he(){const{page:e,limit:r}=h();return n=>r<1||n.length<r?n:n.slice(r*(e-1),r*e)}export{se as E,_ as H,U as I,C as O,m as P,ie as S,oe as X,ee as a,T as b,v as c,w as d,de as e,me as f,fe as g,ye as h,he as i,E as j,le as k,pe as l,G as m,j as n,N as o,ue as p,ce as q,ge as r,q as u};
