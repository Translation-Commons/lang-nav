import{J as o,aY as m,r as u,F as y,aZ as h,D as p,O as i,a_ as C,l as f,a$ as S}from"./index-Bp7OdE9r.js";function T(e,r){switch(r){case o.Code:case o.NameEndonym:case o.NameDisplay:case o.NameISO:case o.NameCLDR:case o.NameGlottolog:case o.NameEthnologue:case o.NameAny:return s=>s.names.map(t=>m(t,e)).reduce((t,a)=>t||a,!1);case o.CodeOrNameAny:return s=>s.names.map(t=>m(t,e)).reduce((t,a)=>t||a,!1)||m(s.codeDisplay,e)}}function O({lang:e=!0,territory:r=!0,writing:s=!0}={}){const t=r?d():()=>!0,a=s?W():()=>!0,n=e?w():()=>!0;return u.useCallback(l=>t(l)&&a(l)&&n(l),[t,a,n])}function d(){var a,n;const{territoryFilter:e}=y(),r=e.split("["),s=(a=r[0])==null?void 0:a.toLowerCase().trim();let t="";return e.length===2&&e.match(/^[A-Za-z]{2}$/)?t=e.toUpperCase():e.length===3&&e.match(/^[0-9]{3}$/)?t=e:r.length>1&&(t=(n=r[1].split("]")[0])==null?void 0:n.toUpperCase()),u.useCallback(l=>{if(!e)return!0;const c=h(l);return t!==""?c.some(g=>g.codeDisplay===t):c.some(g=>g.nameDisplay.toLowerCase().startsWith(s))},[e,t,s])}function W(){var a;const{writingSystemFilter:e}=y(),r=e.split("["),s=(a=r[0])==null?void 0:a.toLowerCase().trim();let t="";if(e.length===4&&e.match(/[A-Z][a-z]{3}/))t=p(e);else if(r.length>1){const n=r[1].split("]")[0];n&&(t=p(n))}return u.useCallback(n=>{if(!e)return!0;const l=L(n);return t!==""?l.some(c=>c.codeDisplay===t):l.some(c=>c.nameDisplay.toLowerCase().startsWith(s))},[e,t,s])}function L(e){var r,s,t;switch(e.type){case i.Territory:return f(((s=(r=e.locales)==null?void 0:r.filter(a=>(a.populationWritingPercent||0)>1))==null?void 0:s.map(a=>{var n;return a.writingSystem??((n=a.language)==null?void 0:n.primaryWritingSystem)}).filter(a=>!!a))??[],a=>a.ID);case i.Locale:return[e.writingSystem??((t=e.language)==null?void 0:t.primaryWritingSystem)].filter(a=>!!a);case i.WritingSystem:return[e,e.parentWritingSystem,...e.childWritingSystems??[]].filter(a=>!!a);case i.Language:case i.VariantTag:return C(e)??[];case i.Census:return[]}}function w(){var a;const{languageFilter:e}=y(),r=e.split("["),s=(a=r[0])==null?void 0:a.toLowerCase().trim();let t="";if(e.length===3&&e.match(/[a-z]{3}/))t=e;else if(r.length>1){const n=r[1].split("]")[0];n&&(t=n.toLowerCase())}return u.useCallback(n=>{if(!e)return!0;const l=F(n);return t!==""?l.some(c=>c.codeDisplay===t):l.some(c=>c.nameDisplay.toLowerCase().startsWith(s))},[e,t,s])}function F(e){var r,s;switch(e.type){case i.Territory:return f(((s=(r=e.locales)==null?void 0:r.filter(t=>(t.populationSpeakingPercent||0)>1))==null?void 0:s.map(t=>t.language).filter(t=>!!t))??[],t=>t.ID);case i.Locale:return[e.language].filter(t=>!!t);case i.Census:return[];case i.Language:return[...S(e),e].filter(t=>!!t);case i.WritingSystem:return Object.values(e.languages??{});case i.VariantTag:return e.languages??[]}}export{d as a,W as b,w as c,O as d,T as g};
