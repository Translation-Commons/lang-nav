import{j as e,H as R,r as c,u as S,V as g}from"./index-Dei8u_-m.js";import{c as N,u as I,H as j,X as B,E}from"./getObjectName-ylt-orr_.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],G=N("funnel",F),w=({label:t,description:i,optionsDisplay:s})=>t==null?null:e.jsx("label",{style:{border:s===f.ButtonList?"none":"0.125em solid var(--color-button-primary)",marginLeft:s===f.ButtonGroup?"-0.125em":"0",marginRight:s===f.ButtonGroup?"-0.125em":"0",lineHeight:"1em",padding:"0.5em",whiteSpace:"nowrap"},children:e.jsx(R,{hoverContent:i,style:{textDecoration:"none"},children:t})});var f=(t=>(t.Dropdown="dropdown",t.ButtonGroup="buttonGroup",t.ButtonList="buttonList",t))(f||{});function $({selectorLabel:t,selectorDescription:i,size:s="regular",getOptionDescription:n=()=>{},getOptionLabel:a=d=>d,selected:o,optionsDisplay:r="buttonList",onChange:u,options:m}){const[d,x]=c.useState(!1),h=I(()=>x(!1));return e.jsxs("div",{className:"selector "+s+" "+r,style:{marginLeft:"0.125em",marginRight:"0.5em",display:"flex",flexDirection:r==="buttonList"?"column":"row",alignItems:r==="buttonList"?"start":"end",gap:r==="buttonGroup"?"-0.125em":"0"},children:[e.jsx(w,{label:t,description:i,optionsDisplay:r}),r==="dropdown"&&e.jsx(y,{getOptionDescription:n,getOptionLabel:l=>`${a(l)} ${d?"▼":"▶"}`,onClick:()=>x(l=>!l),option:Array.isArray(o)?o[0]:o,optionsDisplay:r,isSelected:!0}),e.jsx(A,{isExpanded:d,containerRef:h,optionsDisplay:r,children:e.jsx(H,{getOptionDescription:n,getOptionLabel:a,onClick:l=>{x(!1),u(l)},options:m,optionsDisplay:r,selected:o})})]})}const A=({children:t,containerRef:i,isExpanded:s,optionsDisplay:n})=>{switch(n){case"buttonList":return e.jsx("div",{ref:i,style:{display:"flex",flexWrap:"wrap",gap:"0.25em 0.5em",marginLeft:"1em"},children:t});case"buttonGroup":return e.jsx("div",{ref:i,children:t});case"dropdown":return s?e.jsx("div",{style:{position:"relative"},ref:i,children:e.jsx("div",{className:"dropdown",style:{border:"0.125em solid var(--color-button-primary)",alignItems:"end",position:"absolute",display:"flex",right:"0px",flexDirection:"column",width:"fit-content",zIndex:100},children:t})}):null}};function H({getOptionDescription:t=()=>{},getOptionLabel:i=r=>r,onClick:s,options:n,optionsDisplay:a,selected:o}){return n.map(r=>e.jsx(y,{getOptionDescription:t,getOptionLabel:i,onClick:s,option:r,optionsDisplay:a,isSelected:Array.isArray(o)?o.includes(r):o===r},r))}function y({getOptionDescription:t=()=>{},getOptionLabel:i=r=>r,onClick:s,option:n,optionsDisplay:a,isSelected:o}){return e.jsx(j,{className:"selectorOption "+(o?"selected":"notselected"),hoverContent:t(n),onClick:()=>s(n),style:P(a,o),children:i(n)})}function P(t,i){let s="0px",n="0.125em solid var(--color-button-primary)";switch(t){case"buttonGroup":s="0.25em";break;case"buttonList":s="1em",i||(n="0.125em solid var(--color-button-secondary)");break}return{border:n,borderRadius:s,cursor:"pointer",lineHeight:"1em",padding:"0.5em",whiteSpace:"nowrap"}}const T=({getSuggestions:t=()=>[],inputStyle:i,onChange:s,optionsDisplay:n,placeholder:a,showGoToDetailsButton:o=!1,showTextInputButton:r=!0,value:u})=>{const m=c.useRef(null),[d,x]=c.useState(50);c.useEffect(()=>{m.current&&x(m.current.offsetWidth+10)},[u]);const[h,l]=c.useState(u);c.useEffect(()=>{l(u)},[u,l]),c.useEffect(()=>{const p=setTimeout(()=>s(h),300);return()=>clearTimeout(p)},[h]);const[L,C]=c.useState([]),[k,b]=c.useState(!1);return c.useEffect(()=>{let p=!0;return(async()=>{const v=await t(h);p&&C(v.slice(0,10))})(),()=>{p=!1}},[t,h]),e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",className:h===""?"empty":"",value:h,onChange:p=>{l(p.target.value),b(!0)},onBlur:()=>setTimeout(()=>b(!1),500),onFocus:()=>b(!0),placeholder:a,style:{...n===f.ButtonList?{borderRadius:"0.5em"}:{},...i,width:d+5}}),e.jsx("span",{ref:m,style:{position:"absolute",visibility:"hidden",whiteSpace:"pre",font:"inherit"},children:u||" "}),k&&L.length>0&&e.jsx("div",{className:"SelectorPopupAnchor",children:e.jsx("div",{className:"SelectorPopup",children:L.map((p,v)=>e.jsx(W,{setImmediateValue:l,setShowSuggestions:b,showTextInputButton:r,showGoToDetailsButton:o,suggestion:p},v))})}),e.jsx(j,{hoverContent:"Clear the input",style:n===f.ButtonList?{padding:".5em",borderRadius:"0.5em",border:"none",marginLeft:"0.5em"}:{marginRight:"0em",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px",borderLeft:"none"},onClick:()=>{l(""),b(!1)},children:e.jsx(B,{size:"1em",display:"block"})})]})},W=({setImmediateValue:t,showGoToDetailsButton:i,showTextInputButton:s,suggestion:n})=>{const{objectID:a,searchString:o,label:r}=n,{updatePageParams:u}=S(),m=()=>{t(o)},d=()=>{u({objectID:a,view:g.Details,searchString:o})};return i?s?e.jsxs("div",{className:"SuggestionRowWithMultipleInteractions",children:[e.jsx("div",{children:r}),e.jsx(j,{hoverContent:e.jsxs(e.Fragment,{children:['Filter by "',o,'"']}),onClick:m,children:e.jsx(G,{size:"1em",display:"block"})}),e.jsx(j,{hoverContent:e.jsxs(e.Fragment,{children:["Go to the details page for ",o]}),onClick:d,children:e.jsx(E,{size:"1em",display:"block"})})]}):e.jsx(j,{hoverContent:e.jsxs(e.Fragment,{children:["Go to the details page for ",o]}),onClick:d,children:r}):s?e.jsx("button",{onClick:m,children:r}):r},M=()=>{const{limit:t,objectType:i,updatePageParams:s,view:n}=S();return e.jsxs("div",{className:"selector",style:{display:"flex",alignItems:"center"},children:[e.jsx(w,{description:`Limit how many ${i.toLowerCase()} ${z(n)} are shown.`,label:"Item Limit",optionsDisplay:f.ButtonList}),e.jsx(T,{inputStyle:{minWidth:"3em"},getSuggestions:async()=>[{searchString:"8",label:"8"},{searchString:"20",label:"20"},{searchString:"100",label:"100"},{searchString:"200",label:"200"}],onChange:a=>s({limit:parseInt(a)}),optionsDisplay:f.ButtonList,placeholder:"∞",value:t<1||Number.isNaN(t)?"":t.toString()})]})};function z(t){switch(t){case g.CardList:return"cards";case g.Hierarchy:return"root nodes";case g.Details:return"not applicable";case g.Table:return"rows";case g.Reports:return"reports"}}export{G as F,M as L,f as O,$ as S,T,w as a};
