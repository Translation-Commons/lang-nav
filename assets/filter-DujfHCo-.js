import{r as y,O as a,j as i,H as I,o as M,e as T,S as p,u as L,T as k,a as s,m as O}from"./index-Bq2t_gFi.js";import{f as w,a as A,s as v}from"./DataContext-BL5nHz4k.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),H=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,t,r)=>r?r.toUpperCase():t.toLowerCase()),P=e=>{const n=H(e);return n.charAt(0).toUpperCase()+n.slice(1)},E=(...e)=>e.filter((n,t,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===t).join(" ").trim(),$=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=y.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:l,...c},d)=>y.createElement("svg",{ref:d,...U,width:n,height:n,stroke:e,strokeWidth:r?Number(t)*24/Number(n):t,className:E("lucide",o),...!u&&!$(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,f])=>y.createElement(h,f)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(e,n)=>{const t=y.forwardRef(({className:r,...o},u)=>y.createElement(b,{ref:u,iconNode:n,className:E(`lucide-${V(P(e))}`,`lucide-${e}`,r),...o}));return t.displayName=P(e),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],z=B("info",_);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Oe=B("x",q),Pe=({objectType:e})=>{switch(e){case a.Census:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Census:"})," A count of people in a given area -- for this site this is typically the count of people that speak or understand a language."]});case a.Language:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Language (Languoid):"}),'A verbal communication system used by multiple people. Languages should be mutually intelligible, whereas a dialect is a subset of a language defined by differences in lexicon and pronunciation. Since languages families, contested languages, and dialects are included it is more precise to consider these "Languoids".']});case a.Locale:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Locale:"}),"The combination of a language and territory -- used to express how many people speak a language in a given area or if a language is officially supported. Some locales specify a particular writing system and/or variation information (dialect, orthography...)."]});case a.Territory:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Territory:"}),"A geographical unit. Some may not have universal recognition. Currently showing both countries as well as dependencies (eg. Hong Kong) that have separate ISO codes."]});case a.WritingSystem:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Writing System:"}),"A system for writing a language to a persistent visual media. For instance Latin alphabet, Han characters, cursive Arabic script. Some systems may contain other systems."]});case a.VariantTag:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Variant Tag:"}),'The Internet Assigned Numbers Authority (IANA) maintains an enumeration of language tags in common usage. The "variant" tags are used in composite locales in the form ',i.jsx("code",{children:"ca_valencia"})," or ",i.jsx("code",{children:"ca-u-va-valencia"}),". These are typically used to specify a particular orthography or dialect."]})}};var m=(e=>(e.Standalone="standalone",e.First="first",e.Middle="middle",e.Last="last",e.Only="only",e))(m||{});function G(e,n){return n===1?"only":e===0?"first":e===n-1?"last":"middle"}function X(e){const n=y.useRef(null);return y.useEffect(()=>{function t(r){n.current&&!n.current.contains(r.target)&&e()}return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[e]),n}var g=(e=>(e.Dropdown="dropdown",e.InlineDropdown="inlineDropdown",e.ButtonGroup="buttonGroup",e.ButtonList="buttonList",e))(g||{});const Y=({children:e,containerRef:n})=>i.jsx("div",{style:{position:"relative"},ref:n,children:i.jsx("div",{className:"dropdown",style:{alignItems:"start",position:"absolute",display:"flex",left:"0px",flexDirection:"column",width:"fit-content",zIndex:100,marginTop:"1em",backgroundColor:"var(--color-background)",borderRadius:"1em",maxHeight:"20em",overflowY:"auto"},children:e})}),K=({label:e,description:n,display:t})=>e==null?null:i.jsxs("span",{style:Z(t),children:[i.jsx("div",{children:e}),n&&i.jsx(I,{hoverContent:n,children:i.jsx(z,{size:"1em",display:"block"})})]});function Z(e){const n={display:"flex",gap:"0.25em",lineHeight:"1em",alignItems:"center",fontWeight:"bold",padding:"0.5em",margin:"auto 0",whiteSpace:"nowrap",borderRadius:"1em"};switch(e){case g.ButtonGroup:n.borderRadius="1em 0 0 1em",n.marginLeft="-0.125em",n.marginRight="-0.125em";break;case g.ButtonList:n.borderRadius="1em 0 0 1em";break;case g.InlineDropdown:n.padding="0 0.5em";break;case g.Dropdown:break}return n}const Q=({buttonType:e="button",children:n,className:t,hoverContent:r,onClick:o,style:u})=>{const{showHoverCard:l,hideHoverCard:c}=M();if(r==null)return i.jsx("button",{className:t,onClick:o,style:{cursor:o?"pointer":"auto",...u},type:e,children:n});const d=f=>{l(r,f.clientX,f.clientY)},h=f=>{l(r,f.clientX,f.clientY)};return i.jsx("button",{className:t,onMouseEnter:d,onMouseMove:h,onMouseLeave:c,onClick:()=>{c(),o!=null&&o()},style:{cursor:o?"pointer":"auto",...u},type:e,children:n})};function F({display:e,getOptionDescription:n,getOptionLabel:t=d=>d,isSelected:r,labelSuffix:o,onClick:u,option:l,position:c=m.Standalone}){let d="selectorOption";return r&&(d+=" selected"),r||(d+=" unselected"),e===g.InlineDropdown&&c===m.Standalone&&(d+=" hoverableText"),i.jsxs(Q,{className:d,hoverContent:n?Array.isArray(l)?l.map(n).join(`
`):n(l):null,onClick:()=>u(Array.isArray(l)?l[0]:l),style:N(e,r,c),children:[Array.isArray(l)?l.map(t).join(" or "):t(l),o]})}function N(e,n,t){const r={border:"0.125em solid var(--color-button-primary)",borderRadius:"0px",cursor:"pointer",lineHeight:"1em",padding:"0.5em",whiteSpace:"nowrap"};switch(e){case g.ButtonGroup:t===m.Last?(r.marginLeft="-0.125em",r.borderRadius="0 1em 1em 0"):t===m.First?r.borderRadius="1em 0 0 1em":t===m.Middle&&(r.marginLeft="-0.125em");break;case g.ButtonList:r.borderRadius="1em",n||(r.border="0.125em solid var(--color-button-secondary)");break;case g.InlineDropdown:return t===m.Standalone?(r.margin="-0.25em",r.border="none",r.borderRadius=".5em",r.padding="0.25em",r):N(g.Dropdown,n,t);case g.Dropdown:r.textAlign="left",r.width="100%",r.borderRadius=void 0,t===m.First?(r.borderRadius="1em 1em 0 0",r.margin="0 0 -0.125em 0",r.borderBottom="none"):t===m.Last?(r.borderRadius="0 0 1em 1em",r.margin="0",r.borderTop="none"):t===m.Middle?(r.margin="0 0 -0.125em 0",r.borderRadius="0",r.borderTop="none",r.borderBottom="none"):t===m.Only?r.borderRadius="1em":t===m.Standalone&&(r.borderRadius="1em",r.width="fit-content");break}return r}function De({display:e=g.ButtonList,getOptionDescription:n=()=>{},getOptionLabel:t=h=>h,onChange:r,options:o,selected:u,selectorDescription:l,selectorLabel:c,selectorStyle:d}){const[h,f]=y.useState(!1),W=X(()=>f(!1));return i.jsxs(J,{display:e,manualStyle:d,children:[c&&i.jsx(K,{label:c,description:l,display:e}),i.jsx(j,{isExpanded:h,containerRef:W,display:e,children:i.jsx(ee,{getOptionDescription:n,getOptionLabel:t,onClick:C=>{f(!1),r(C)},options:o,display:e,selected:u})}),(e===g.Dropdown||e===g.InlineDropdown)&&i.jsx(F,{getOptionDescription:n,getOptionLabel:t,labelSuffix:h?" ▼":" ▶",onClick:()=>f(C=>!C),option:u,display:e,isSelected:!0})]})}const J=({children:e,display:n,manualStyle:t})=>{const r={display:"flex",flexDirection:"row",alignItems:"center",marginLeft:"0.125em",marginRight:"0.5em",marginBottom:"0.5em"};return n===g.ButtonList?(r.flexDirection="column",r.alignItems="start"):n===g.InlineDropdown?(r.marginLeft="0",r.marginRight="0",r.marginBottom="0"):n===g.ButtonGroup&&(r.gap="-0.125em"),i.jsx("div",{className:"selector "+n,style:{...r,...t},children:e})},j=({children:e,containerRef:n,isExpanded:t,display:r})=>{switch(r){case g.ButtonList:return i.jsx("div",{ref:n,style:{display:"flex",flexWrap:"wrap",gap:"0.25em 0.25em",marginLeft:"1em"},children:e});case g.ButtonGroup:return i.jsx(i.Fragment,{children:e});case g.Dropdown:case g.InlineDropdown:return t?i.jsx(Y,{containerRef:n,children:e}):null}};function ee({display:e,getOptionDescription:n=()=>{},getOptionLabel:t,onClick:r,options:o,selected:u}){return o.map((l,c)=>i.jsx(F,{getOptionDescription:n,getOptionLabel:t,onClick:r,option:l,display:e,isSelected:Array.isArray(u)?u.includes(l):u===l,position:G(c,o.length)},l))}function ke(e){switch(e.type){case a.Census:return[e.modality,e.proficiency,e.acquisitionOrder,e.domain&&e.domain!="Any"?"@"+e.domain:null].filter(n=>n!=null&&n!="Any").join(", ");case a.Language:return ne(e);case a.Locale:return;case a.Territory:return e.scope;case a.WritingSystem:return e.nameDisplay!=e.nameFull?e.nameFull:void 0}}function ne(e){let n=e.nameSubtitle,t=e.scope;n==="macrolanguage"&&(n=void 0),t==T.Language&&(t=void 0);const r=[t,n].filter(Boolean).join(", ");return r!==""?r:void 0}function Ae(e){switch(e){case a.Census:return"censuses";case a.Language:return"languages";case a.Locale:return"locales";case a.Territory:return"territories";case a.WritingSystem:return"writing systems";case a.VariantTag:return"variant tags"}}function re(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ae=({text:e,searchPattern:n})=>{if(n==="")return e;const t=re(n),r=e.match(new RegExp(`(^|.*\\P{L})(${t})(?:(.*\\P{L})(${t}))*?(.*)`,"iu"));return r?i.jsx(i.Fragment,{children:r.slice(1).map((o,u)=>u%2===0?o:i.jsx("span",{className:"highlighted",children:o},u))}):e},Ee=({object:e,field:n})=>{const{searchBy:t,searchString:r}=L(),o=r.toLowerCase();return t===n?i.jsx(S,{object:e,query:r,field:n}):t===p.AllNames&&[p.EngName,p.Endonym].includes(n)?i.jsx(S,{object:e,query:r,field:n}):t===p.NameOrCode&&[p.EngName,p.Code].includes(n)?i.jsx(S,{object:e,query:r,field:n}):x(e,n,o)},S=({object:e,field:n,query:t})=>i.jsx(ae,{text:x(e,n,t),searchPattern:t.toLowerCase()});function x(e,n,t){switch(n){case p.AllNames:return e.names.filter(r=>w(r,(t==null?void 0:t.toLowerCase())??""))[0]??"";case p.Code:return e.codeDisplay;case p.Endonym:return e.nameEndonym??"";case p.EngName:return e.nameDisplay;case p.NameOrCode:return e.nameDisplay+" ["+e.codeDisplay+"]"}}function te(e){return A(e.locales.sort((n,t)=>(t.populationSpeaking??0)-(n.populationSpeaking??0)),n=>n.territoryCode??"").map(n=>n.territory).filter(n=>n!=null)}function se(e){var n;switch(e.type){case a.Census:return e.yearCollected;case a.VariantTag:return(n=e.dateAdded)==null?void 0:n.getTime();case a.Language:case a.Locale:case a.WritingSystem:case a.Territory:return}}function ie(e){var n,t,r;switch(e.type){case a.Language:return e.childLanguages.length;case a.Locale:return(n=e.containedLocales)==null?void 0:n.length;case a.Census:return e.languageCount;case a.WritingSystem:return e.languages?Object.values(e.languages).length:void 0;case a.Territory:return(t=e.locales)==null?void 0:t.length;case a.VariantTag:return(r=e.languageCodes)==null?void 0:r.length}}function oe(e){return[...e.containsTerritories??[],...e.dependentTerritories??[]]}function ue(e){switch(e.type){case a.Language:return te(e).length;case a.Territory:return oe(e).length;case a.Locale:case a.Census:case a.WritingSystem:case a.VariantTag:return}}function le(e){switch(e.type){case a.Census:case a.WritingSystem:case a.VariantTag:return;case a.Language:return ce(e);case a.Locale:return e.literacyPercent;case a.Territory:return e.literacyPercent}}function ce(e){const n=A(e.locales,o=>o.territoryCode??"").filter(o=>{var u;return((u=o.territory)==null?void 0:u.scope)===k.Country}),t=v(n,o=>o.populationSpeaking)||0;return v(n,o=>{var u;return(o.literacyPercent??((u=o.territory)==null?void 0:u.literacyPercent)??0)*(o.populationSpeaking??0)})/t||void 0}function ge(e){switch(e.type){case a.Language:return e.populationEstimate;case a.Locale:return e.populationSpeaking;case a.Census:return e.eligiblePopulation;case a.WritingSystem:return e.populationUpperBound;case a.Territory:return e.population;case a.VariantTag:return e.languages.reduce((n,t)=>n+(t.populationEstimate||0),0)}}function de(e){switch(e.type){case a.Language:return e.populationCited;case a.Locale:return e.populationCensus!=null?e.populationSpeaking:void 0;case a.Census:case a.WritingSystem:case a.Territory:case a.VariantTag:return}}function pe(e,n){switch(e.type){case a.Language:return n?e.sourceSpecific[n].populationOfDescendents:e.populationOfDescendents;case a.WritingSystem:return e.populationOfDescendents;case a.Territory:return e.dependentTerritories&&e.dependentTerritories.length>0?v(e.dependentTerritories,t=>t.population??0):void 0;case a.Census:case a.Locale:case a.VariantTag:return}}function R(e){return((e==null?void 0:e.locales)||[]).sort((n,t)=>(t.populationSpeaking??0)-(n.populationSpeaking??0))[0]}function me(e){var n,t,r;switch(e.type){case a.Territory:return(t=(n=R(e))==null?void 0:n.language)==null?void 0:t.nameDisplay;case a.Locale:return(r=e.language)==null?void 0:r.nameDisplay;case a.Language:return e.nameDisplay;case a.Census:case a.VariantTag:case a.WritingSystem:return}}function fe(e){var n;switch(e.type){case a.Language:return e.populationEstimate&&e.largestDescendant?(e.largestDescendant.populationEstimate??0)*100/e.populationEstimate:void 0;case a.Territory:return(n=R(e))==null?void 0:n.populationSpeakingPercent;case a.Census:case a.Locale:case a.VariantTag:case a.WritingSystem:return}}function ye(e){switch(e.type){case a.Locale:return e.language&&e.populationSpeaking?e.populationSpeaking/(e.language.populationEstimate??1):void 0;case a.Language:return e.parentLanguage&&e.populationEstimate?e.populationEstimate/(e.parentLanguage.populationEstimate??1):void 0;case a.Census:case a.Territory:case a.VariantTag:case a.WritingSystem:return}}function he(e){switch(e.type){case a.Census:return e.territory&&e.eligiblePopulation?e.eligiblePopulation*100/(e.territory.population??1):void 0;case a.Locale:return e.populationSpeakingPercent;case a.Territory:return e.parentUNRegion&&e.population?e.population*100/e.parentUNRegion.population:void 0;case a.Language:case a.WritingSystem:case a.VariantTag:return}}function Be(e){const{sortBy:n,languageSource:t,sortBehavior:r}=L();return Le(n,t,r)}function D(e,n,t){switch(n){case s.Code:return e.codeDisplay;case s.Name:return e.nameDisplay;case s.Endonym:return e.nameEndonym;case s.CountOfTerritories:return ue(e);case s.CountOfLanguages:return ie(e);case s.Literacy:return le(e);case s.Date:return se(e);case s.Language:return me(e);case s.Population:return ge(e);case s.PopulationAttested:return de(e);case s.PopulationOfDescendents:return pe(e,t);case s.PopulationPercentInBiggestDescendentLanguage:return fe(e);case s.PercentOfTerritoryPopulation:return he(e);case s.PercentOfOverallLanguageSpeakers:return ye(e)}}function Le(e,n,t){const r=Ce(e)*t;return(o,u)=>{const l=D(o,e,n),c=D(u,e,n);return l==null?c==null?0:1:c==null?-1:l>c?r:c>l?-r:0}}function Ce(e){switch(e){case s.Name:case s.Endonym:case s.Code:case s.Language:return O.Ascending;case s.Date:case s.Population:case s.PopulationAttested:case s.PopulationOfDescendents:case s.PopulationPercentInBiggestDescendentLanguage:case s.PercentOfTerritoryPopulation:case s.PercentOfOverallLanguageSpeakers:case s.Literacy:case s.CountOfLanguages:case s.CountOfTerritories:return O.Descending}}function Fe(e){switch(e){case a.Locale:return[s.Code,s.Name,s.Endonym,s.Population,s.Literacy,s.PercentOfOverallLanguageSpeakers,s.CountOfLanguages];case a.Territory:return[s.Code,s.Name,s.Population,s.Literacy,s.CountOfLanguages,s.CountOfTerritories];case a.Language:return[s.Code,s.Name,s.Endonym,s.Population,s.Literacy,s.CountOfTerritories,s.CountOfLanguages,s.PopulationAttested];case a.Census:return[s.Date,s.Code,s.Name,s.Population,s.CountOfLanguages];case a.WritingSystem:return[s.Code,s.Name,s.Endonym,s.Population,s.CountOfLanguages,s.PopulationOfDescendents];case a.VariantTag:return[s.Date,s.Code,s.Name,s.Population,s.CountOfLanguages]}}function Ne(){const{searchBy:e,searchString:n}=L();return n==""?()=>!0:Se(n.toLowerCase(),e)}function Se(e,n){const t=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();switch(n){case p.Code:case p.Endonym:case p.EngName:case p.NameOrCode:return r=>w(x(r,n),t);case p.AllNames:return r=>r.names.map(o=>w(o,t)).reduce((o,u)=>o||u,!1)}}function Re(){var o,u;const{territoryFilter:e}=L(),n=e.split("["),t=(o=n[0])==null?void 0:o.toLowerCase().trim();let r="";return e.length===2?r=e.toUpperCase():e.length===3&&e.match(/^[0-9]{3}$/)?r=e:n.length>1&&(r=(u=n[1].split("]")[0])==null?void 0:u.toUpperCase()),y.useCallback(l=>{if(e=="")return!0;const c=we(l);return r!==""?c.some(d=>d.ID===r):c.some(d=>d.nameDisplay.toLowerCase().startsWith(t))},[e,r,t])}function we(e){switch(e.type){case a.Territory:return[e,e.parentUNRegion,e.sovereign].filter(n=>n!=null);case a.Locale:return[e.territory].filter(n=>n!=null);case a.Census:return[e.territory].filter(n=>n!=null);case a.Language:return e.locales.map(n=>n.territory).filter(n=>n!=null);case a.WritingSystem:return[e.territoryOfOrigin].filter(n=>n!=null);case a.VariantTag:return[]}}function We(){const{languageScopes:e,territoryScopes:n}=L();return y.useCallback(r=>{switch(r.type){case a.Language:return e.length===0||e.includes(r.scope??T.SpecialCode);case a.Territory:return n.length===0||n.includes(r.scope);case a.Locale:return ve(r,e,n);case a.Census:case a.WritingSystem:case a.VariantTag:return!0}},[e,n])}function ve(e,n,t){var u,l;const r=n.includes(((u=e.language)==null?void 0:u.scope)??T.SpecialCode),o=t.includes(((l=e.territory)==null?void 0:l.scope)??k.Country);return(n.length==0||r)&&(t.length==0||o)}function Ie(){const{page:e,limit:n}=L();return t=>n<1||t.length<n?t:t.slice(n*(e-1),n*e)}export{Ce as A,S as H,z as I,Pe as O,m as P,De as S,Oe as X,g as a,Se as b,B as c,x as d,Be as e,Ne as f,We as g,Re as h,Ie as i,he as j,te as k,le as l,R as m,oe as n,ge as o,fe as p,K as q,Ae as r,Fe as s,Q as t,X as u,Y as v,G as w,N as x,ke as y,Ee as z};
