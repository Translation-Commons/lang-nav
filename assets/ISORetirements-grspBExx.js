import{ax as r,q as u,x as h}from"./index-BgU2O8Gf.js";var S=(a=>(a.NonExistent="N",a.Duplicate="D",a.Split="S",a.Merged="M",a.NeverISO="Never ISO",a))(S||{});async function I(){return await fetch("data/iso/iso-639-3_Retirements.tab").then(a=>a.text()).then(a=>a.split(`
`).slice(1).map(n=>{var g;if(n.split("	").length<6)return null;const[t,i,s,o,d,p]=n.split("	"),c=s.trim();let l=[];return c==="S"&&(l=((g=d.match(/\[([a-z]{3})\]/g))==null?void 0:g.map(f=>f.slice(1,-1)))||[]),{id:t.trim(),languageName:i.trim(),reason:c,changeTo:o.trim(),remedy:d.trim(),effectiveDate:new Date(p.trim()),splitLanguages:l}}).filter(n=>n!==null)).catch(a=>console.error("Error loading TSV:",a))}function O(a,n){n.forEach(e=>{let t=a.ISO[e.id];const i=v(e);if(t)t.warnings[r.isoCode]=i,delete a.ISO[e.id],delete a.BCP[e.id],delete a.CLDR[e.id],delete a.UNESCO[e.id],e.changeTo&&(t.ISO.parentLanguageCode=e.changeTo,t.BCP.parentLanguageCode=e.changeTo);else{const s=e.splitLanguages.map(o=>a.Combined[o]).filter(o=>o!=null);t={...h(e.id,e.languageName),scope:u.SpecialCode,Combined:{code:e.id,name:e.languageName,scope:u.SpecialCode,parentLanguageCode:e.changeTo||void 0,childLanguages:s},ISO:{code:e.id}},a.Combined[e.id]=t}t.ISO.retirementReason=e.reason,t.warnings[r.isoCode]=i,t.viabilityConfidence??(t.viabilityConfidence="No"),t.viabilityExplanation??(t.viabilityExplanation=i)})}function v(a){const n=`The language code [${a.id}] was retired on ISO: `,e=`Effective ${a.effectiveDate.toLocaleDateString()}.`;switch(a.reason){case"N":return n+"Non-existent -- this language may have never existed. It was added to ISO but later removed. "+e;case"D":return n+`Duplicate -- this language was determined to be a duplicate of \`${a.changeTo}\`. `+e;case"S":return n+`${a.remedy}. `+e;case"M":return n+`Merged -- this language was merged into \`${a.changeTo}\`. `+e;case"Never ISO":return"Never ISO -- this language was never officially part of any ISO 639 standard."}}function C(a){switch(a){case"N":return"Non-Existent";case"D":return"Duplicate";case"S":return"Split";case"M":return"Merged";case"Never ISO":return"Never ISO";default:return}}export{S as R,O as a,C as g,I as l};
