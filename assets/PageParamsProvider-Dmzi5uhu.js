import{P as r,S as p,u as g,r as m,g as y,a as f,j as P}from"./index-DZlC9VwY.js";import{V as k,a as h,b as u,P as S}from"./PageParamsContext-D-3uPASo.js";function n(o,e){if(o==="[]")return[];const a=Object.values(e).filter(t=>typeof t=="number");return o.split(",").filter(Boolean).map(t=>parseInt(t,10)).filter(t=>a.includes(t))}function d(o){const e={};return o.forEach((a,t)=>{const i=t;switch(i){case r.page:e.page=parseInt(a)||1;break;case r.limit:e.limit=parseInt(a)||10;break;case r.languageScopes:a==="[]"?e.languageScopes=[]:e.languageScopes=a.split(",").filter(Boolean);break;case r.territoryScopes:a==="[]"?e[i]=[]:e[i]=a.split(",").filter(Boolean);break;case r.vitalityISO:e.vitalityISO=n(a,u);break;case r.vitalityEth2013:e.vitalityEth2013=n(a,h);break;case r.vitalityEth2025:e.vitalityEth2025=n(a,k);break;case r.objectType:e.objectType=a;break;case r.view:e.view=a;break;case r.profile:e.profile=a;break;case r.searchBy:e.searchBy=a;break;case r.sortBy:e.sortBy=a;break;case r.localeSeparator:e.localeSeparator=a;break;case r.languageSource:e.languageSource=a;break;case r.sortBehavior:e.sortBehavior=a==="-1"?p.Reverse:p.Normal;break;case r.objectID:case r.searchString:case r.territoryFilter:e[i]=a;break}}),e}const j=({children:o})=>{const[e,a]=g({}),t=m.useCallback(s=>{a(c=>y(s,c))},[a]),i=m.useMemo(()=>{const s=d(e),c=f(s.objectType,s.view,s.profile);return Object.keys(s).forEach(b=>{const l=b;s[l]==null&&delete s[l]}),{...c,...s,updatePageParams:t}},[e,t]);return P.jsx(S.Provider,{value:i,children:o})};export{j as default};
