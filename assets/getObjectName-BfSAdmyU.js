import{r as d,c as P,j as y,S as c,u as m,O as n,b as L,T as N,a as i,V as w}from"./index-DHQW5XnN.js";import{d as C,a as D}from"./DataContext-CCp2gJ0K.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,o)=>o?o.toUpperCase():s.toLowerCase()),T=e=>{const t=k(e);return t.charAt(0).toUpperCase()+t.slice(1)},E=(...e)=>e.filter((t,s,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===s).join(" ").trim(),W=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:u="",children:a,iconNode:r,...l},g)=>d.createElement("svg",{ref:g,...F,width:t,height:t,stroke:e,strokeWidth:o?Number(s)*24/Number(t):s,className:E("lucide",u),...!a&&!W(l)&&{"aria-hidden":"true"},...l},[...r.map(([p,h])=>d.createElement(p,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=(e,t)=>{const s=d.forwardRef(({className:o,...u},a)=>d.createElement(B,{ref:a,iconNode:t,className:E(`lucide-${x(T(e))}`,`lucide-${e}`,o),...u}));return s.displayName=T(e),s};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],X=v("external-link",M);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Y=v("x",V),Z=({children:e,className:t,hoverContent:s,onClick:o,style:u})=>{const{showHoverCard:a,hideHoverCard:r}=P();if(s==null)return y.jsx("button",{className:t,onClick:o,style:{cursor:o?"pointer":"auto",...u},type:"button",children:e});const l=p=>{a(s,p.clientX,p.clientY)},g=p=>{a(s,p.clientX,p.clientY)};return y.jsx("button",{className:t,onMouseEnter:l,onMouseMove:g,onMouseLeave:r,onClick:()=>{r(),o!=null&&o()},style:{cursor:o?"pointer":"auto",...u},children:e})};function K(e){const t=d.useRef(null);return d.useEffect(()=>{function s(o){t.current&&!t.current.contains(o.target)&&e()}return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[e]),t}function A(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const R=({text:e,searchPattern:t})=>{if(t==="")return e;const s=A(t),o=e.match(new RegExp(`(^|.*\\P{L})(${s})(?:(.*\\P{L})(${s}))*?(.*)`,"iu"));return o?y.jsx(y.Fragment,{children:o.slice(1).map((u,a)=>a%2===0?u:y.jsx("span",{className:"highlighted",children:u},a))}):e},Q=({object:e,field:t})=>{const{searchBy:s,searchString:o}=m(),u=o.toLowerCase();return s===t?y.jsx(f,{object:e,query:o,field:t}):s===c.AllNames&&[c.EngName,c.Endonym].includes(t)?y.jsx(f,{object:e,query:o,field:t}):s===c.NameOrCode&&[c.EngName,c.Code].includes(t)?y.jsx(f,{object:e,query:o,field:t}):S(e,t,u)},f=({object:e,field:t,query:s})=>y.jsx(R,{text:S(e,t,s),searchPattern:s.toLowerCase()});function S(e,t,s){switch(t){case c.AllNames:return e.names.filter(o=>C(o,(s==null?void 0:s.toLowerCase())??""))[0]??"";case c.Code:return e.codeDisplay;case c.Endonym:return e.nameEndonym??"";case c.EngName:return e.nameDisplay;case c.NameOrCode:return e.nameDisplay+" ["+e.codeDisplay+"]"}}function G(e,t,s){switch(e.type){case n.Language:return(e.populationCited??0)+0;case n.Locale:return e.populationSpeaking;case n.Census:return e.languageCount;case n.WritingSystem:return e.populationUpperBound+0;case n.Territory:return e.population;case n.VariantTag:return 0}}function J(){const{searchBy:e,searchString:t}=m();return t==""?()=>!0:H(t.toLowerCase(),e)}function H(e,t){const s=e.toLowerCase();switch(t){case c.Code:case c.Endonym:case c.EngName:case c.NameOrCode:return o=>C(S(o,t),s);case c.AllNames:return o=>o.names.map(u=>C(u,s)).reduce((u,a)=>u||a,!1)}}function z(){var u,a;const{territoryFilter:e}=m(),t=e.split("["),s=(u=t[0])==null?void 0:u.toLowerCase().trim();let o="";return e.length===2?o=e.toUpperCase():e.length===3&&e.match(/^[0-9]{3}$/)?o=e:t.length>1&&(o=(a=t[1].split("]")[0])==null?void 0:a.toUpperCase()),d.useCallback(r=>{if(e=="")return!0;const l=U(r);return o!==""?l.some(g=>g.ID===o):l.some(g=>g.nameDisplay.toLowerCase().startsWith(s))},[e,o,s])}function U(e){switch(e.type){case n.Territory:return[e,e.parentUNRegion,e.sovereign].filter(t=>t!=null);case n.Locale:return[e.territory].filter(t=>t!=null);case n.Census:return[e.territory].filter(t=>t!=null);case n.Language:return e.locales.map(t=>t.territory).filter(t=>t!=null);case n.WritingSystem:return[e.territoryOfOrigin].filter(t=>t!=null);case n.VariantTag:return[]}}function j(){const{languageScopes:e,territoryScopes:t}=m();function s(o){switch(o.type){case n.Language:return e.length===0||e.includes(o.scope??L.SpecialCode);case n.Territory:return t.length===0||t.includes(o.scope);case n.Locale:return $(o,e,t);case n.Census:case n.WritingSystem:case n.VariantTag:return!0}}return s}function $(e,t,s){var a,r;const o=t.includes(((a=e.language)==null?void 0:a.scope)??L.SpecialCode),u=s.includes(((r=e.territory)==null?void 0:r.scope)??N.Country);return(t.length==0||o)&&(s.length==0||u)}function b(){const{page:e,limit:t}=m();return s=>t<1||s.length<t?s:s.slice(t*(e-1),t*e)}function ee(e){const{sortBy:t,view:s,languageSource:o}=m(),u=o;switch(t){case i.Code:return(a,r)=>a.codeDisplay>r.codeDisplay?1:r.codeDisplay>a.codeDisplay?-1:0;case i.Name:return(a,r)=>a.nameDisplay>r.nameDisplay?1:r.nameDisplay>a.nameDisplay?-1:0;case i.Endonym:return(a,r)=>a.nameEndonym==null?r.nameEndonym==null?0:1:r.nameEndonym==null?-1:a.nameEndonym>r.nameEndonym?1:r.nameEndonym>a.nameEndonym?-1:0;case i.CountOfTerritories:return(a,r)=>{switch(a.type){case n.Language:return r.type===n.Language?O(r).length-O(a).length:-1;case n.Locale:return 0;case n.Census:return 0;case n.WritingSystem:return 0;case n.Territory:return r.type===n.Territory?r.containsTerritories.length-a.containsTerritories.length:-1;case n.VariantTag:return 0}};case i.CountOfLanguages:return(a,r)=>{var l,g,p,h;switch(a.type){case n.Language:return r.type===n.Language?r.childLanguages.length-a.childLanguages.length:-1;case n.Locale:return r.type===n.Locale?(((l=r.containedLocales)==null?void 0:l.length)||0)-(((g=a.containedLocales)==null?void 0:g.length)||0):-1;case n.Census:return r.type===n.Census?r.languageCount-a.languageCount:-1;case n.WritingSystem:return r.type===n.WritingSystem?Object.values(r.languages).length-Object.values(a.languages).length:-1;case n.Territory:return r.type===n.Territory?r.locales.length-a.locales.length:-1;case n.VariantTag:return r.type===n.VariantTag?(((p=r.languageCodes)==null?void 0:p.length)||0)-(((h=a.languageCodes)==null?void 0:h.length)||0):-1}};case i.Population:return(a,r)=>{switch(a.type){case n.Language:return r.type===n.Language?(r.populationCited??0)-(a.populationCited??0)+(s===w.Hierarchy?(r.sourceSpecific[u].populationOfDescendents??0)-(a.sourceSpecific[u].populationOfDescendents??0):0):-1;case n.Locale:return r.type===n.Locale?r.populationSpeaking-a.populationSpeaking:-1;case n.Census:return r.type===n.Census?r.eligiblePopulation-a.eligiblePopulation:-1;case n.WritingSystem:return r.type===n.WritingSystem?r.populationUpperBound-a.populationUpperBound+(s===w.Hierarchy?r.populationOfDescendents-a.populationOfDescendents:0):-1;case n.Territory:return r.type===n.Territory?r.population-a.population:-1;case n.VariantTag:return 0}};case i.RelativePopulation:return(a,r)=>{var l,g;switch(a.type){case n.Census:case n.Language:case n.WritingSystem:case n.VariantTag:return 0;case n.Locale:return r.type===n.Locale?(r.populationSpeakingPercent??0)-(a.populationSpeakingPercent??0):-1;case n.Territory:return r.type===n.Territory?r.population/(((l=r.parentUNRegion)==null?void 0:l.population)??1)-a.population/(((g=a.parentUNRegion)==null?void 0:g.population)??1):-1}};case i.Literacy:return(a,r)=>{switch(a.type){case n.Census:case n.Language:case n.WritingSystem:case n.VariantTag:return 0;case n.Locale:return r.type===n.Locale?(r.literacyPercent??0)-(a.literacyPercent??0):-1;case n.Territory:return r.type===n.Territory?(r.literacyPercent??0)-(a.literacyPercent??0):-1}}}}function te(e){switch(e){case n.Locale:return[i.Code,i.Name,i.Endonym,i.Population,i.Literacy,i.RelativePopulation,i.CountOfLanguages];case n.Territory:return[i.Code,i.Name,i.Population,i.Literacy,i.CountOfLanguages,i.CountOfTerritories];case n.Language:return[i.Code,i.Name,i.Endonym,i.Population,i.CountOfTerritories,i.CountOfLanguages];case n.Census:return[i.Code,i.Name,i.Population,i.CountOfLanguages];case n.WritingSystem:return[i.Code,i.Name,i.Endonym,i.Population,i.CountOfLanguages];case n.VariantTag:return[i.Code,i.Name,i.CountOfLanguages]}}function O(e){return D(e.locales.sort((t,s)=>(s.populationSpeaking??0)-(t.populationSpeaking??0)).map(t=>{var s;return((s=t.territory)==null?void 0:s.nameDisplay)??t.territoryCode}).filter(t=>t!=null&&t!==""),t=>t)}function ne(e){switch(e.type){case n.Census:return[e.modality,e.proficiency,e.acquisitionOrder,e.domain&&e.domain!="Any"?"@"+e.domain:null].filter(t=>t!=null&&t!="Any").join(", ");case n.Language:return q(e);case n.Locale:return;case n.Territory:return e.scope;case n.WritingSystem:return e.nameDisplay!=e.nameFull?e.nameFull:void 0}}function q(e){let t=e.nameSubtitle,s=e.scope;t==="macrolanguage"&&(t=void 0),s==L.Language&&(s=void 0);const o=[s,t].filter(Boolean).join(", ");return o!==""?o:void 0}function re(e){switch(e){case n.Census:return"censuses";case n.Language:return"languages";case n.Locale:return"locales";case n.Territory:return"territories";case n.WritingSystem:return"writing systems";case n.VariantTag:return"variant tags"}}export{X as E,Z as H,Q as O,Y as X,H as a,S as b,v as c,f as d,ee as e,J as f,j as g,z as h,b as i,O as j,re as k,te as l,ne as m,G as n,K as u};
