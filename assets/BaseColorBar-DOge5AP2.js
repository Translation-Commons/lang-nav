import{x as pe,l as _,r as E,R as C,j as o,H as ye,G as fe,k as T,O as r,m as L,f as k,T as h,i as he,n as i,S as me,v as Q,e as B,C as f}from"./index-DhEBNZ9_.js";import{L as V,a as W,V as z,b as G}from"./VitalityTypes-CbVUEUAD.js";import{i as N,n as J,u as D,s as H,c as b,a as Se}from"./useDataContext-sVo_-F7m.js";var Le=pe();/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],we=_("info",Ce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nt=_("triangle-alert",ve);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mt=_("x",Te);function Oe(e){const t=E.useRef(null);return E.useEffect(()=>{function n(a){t.current&&!t.current.contains(a.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e]),t}var x=(e=>(e.Standalone="standalone",e.First="first",e.Middle="middle",e.Last="last",e.Only="only",e))(x||{});function xe(e,t){return t===1?"only":e===0?"first":e===t-1?"last":"middle"}var p=(e=>(e.Dropdown="dropdown",e.InlineDropdown="inlineDropdown",e.ButtonGroup="buttonGroup",e.ButtonList="buttonList",e))(p||{});const te=C.createContext({display:"dropdown",setDisplay:()=>{}}),re=({display:e,children:t})=>{const[n,a]=C.useState(e);return o.jsx(te.Provider,{value:{display:n,setDisplay:a},children:t})},M=()=>C.useContext(te),ne=C.createContext(null),De=()=>{const e=C.useContext(ne);if(e===null)throw new Error("Dropdown components must be used within a <DropdownAnchor>.");return e},F=8,Ee=({align:e="start",children:t,className:n,containerRef:a,isOpen:s,offset:u=10,style:l,...g})=>{const c=De(),d=C.useRef(null),[m,S]=C.useState(!1),[v,R]=C.useState({left:0,top:0}),$=C.useCallback(y=>{d.current=y,a&&(a.current=y)},[a]),I=C.useCallback(()=>{if(!c.current||!d.current)return;const y=c.current.getBoundingClientRect(),w=d.current.getBoundingClientRect();let P=y.left;e==="center"?P=y.left+y.width/2-w.width/2:e==="end"&&(P=y.right-w.width);let O=y.bottom+u;const X=window.innerWidth,Y=window.innerHeight;if(P+w.width>X-F&&(P=Math.max(F,X-w.width-F)),P<F&&(P=F),O+w.height>Y-F){const K=y.top-w.height-u;K>=F?O=K:O=Math.max(F,Y-w.height-F)}R({left:P,top:O}),S(!0)},[e,c,u]);return C.useLayoutEffect(()=>{if(!s){S(!1);return}I()},[s,I,t]),C.useEffect(()=>{if(!s)return;const y=()=>I();window.addEventListener("resize",y),window.addEventListener("scroll",y,!0);const w=[],P=typeof ResizeObserver<"u";if(P&&c.current){const O=new ResizeObserver(y);O.observe(c.current),w.push(O)}if(P&&d.current){const O=new ResizeObserver(y);O.observe(d.current),w.push(O)}return()=>{window.removeEventListener("resize",y),window.removeEventListener("scroll",y,!0),w.forEach(O=>O.disconnect())}},[c,s,I]),!s||typeof document>"u"||!c.current?null:Le.createPortal(o.jsx("div",{...g,className:n,ref:$,style:{position:"fixed",left:m?v.left:-9999,top:m?v.top:-9999,zIndex:1e3,pointerEvents:"auto",...l},children:t}),document.body)},Pe=({children:e,style:t,...n})=>{const a=C.useRef(null);return o.jsx(ne.Provider,{value:a,children:o.jsx("div",{...n,ref:a,style:{position:"relative",...t},children:e})})},We=({children:e,containerRef:t,isOpen:n})=>o.jsx(re,{display:p.Dropdown,children:o.jsx(Pe,{style:{width:0,height:0,margin:0,padding:0,flex:"0 0 auto",display:"inline-block"},children:o.jsx(Ee,{"aria-label":"selector options",className:"dropdown selector",containerRef:t,isOpen:n,offset:12,role:"listbox",style:{display:"flex",flexDirection:"column",width:"fit-content"},children:e})})}),Fe=({label:e,description:t})=>{const{display:n}=M();return e==null?null:o.jsxs("span",{style:Re(n),children:[o.jsx("div",{children:e}),t&&o.jsx(ye,{hoverContent:t,children:o.jsx(we,{size:"1em",display:"block"})})]})};function Re(e){const t={display:"flex",gap:"0.25em",lineHeight:"1em",alignItems:"center",fontWeight:"bold",padding:"0.5em",margin:"auto 0",whiteSpace:"nowrap",borderRadius:"1em"};switch(e){case p.ButtonGroup:t.borderRadius="1em 0 0 1em",t.marginLeft="-0.125em",t.marginRight="-0.125em";break;case p.ButtonList:t.borderRadius="1em 0 0 1em";break;case p.InlineDropdown:t.padding="0 0.5em";break;case p.Dropdown:break}return t}const Ie=({buttonType:e="button",children:t,className:n,disabled:a,hoverContent:s,onClick:u,role:l,style:g})=>{const{showHoverCard:c,hideHoverCard:d}=fe();if(s==null)return o.jsx("button",{className:n,disabled:a,onClick:u,role:l,style:{cursor:u?"pointer":"auto",...g},type:e,children:t});const m=v=>{c(s,v.clientX,v.clientY)},S=v=>{c(s,v.clientX,v.clientY)};return o.jsx("button",{className:n,disabled:a,onMouseEnter:m,onMouseMove:S,onMouseLeave:d,onClick:()=>{d(),u!=null&&u()},style:{cursor:u?"pointer":"auto",...g},type:e,children:t})};function ae({getOptionDescription:e,getOptionLabel:t=c=>c,isSelected:n,labelSuffix:a,labelWhenEmpty:s,onClick:u,option:l,position:g=x.Standalone}){let c="selectorOption";const{display:d}=M();return n&&(c+=" selected"),n||(c+=" unselected"),d===p.InlineDropdown&&g===x.Standalone&&(c+=" hoverableText"),o.jsxs(Ie,{className:c,hoverContent:e&&o.jsx(Be,{option:l,getOptionDescription:e}),onClick:()=>u(Array.isArray(l)?l[0]:l),role:"option",style:ie(d,n,g),children:[o.jsx(Ae,{option:l,labelWhenEmpty:s,getOptionLabel:t}),a]})}function Be({option:e,getOptionDescription:t}){return Array.isArray(e)?e.length===0?void 0:e.map((n,a)=>o.jsxs(C.Fragment,{children:[a>0&&", ",t(n)]},a)):t(e)}function Ae({option:e,labelWhenEmpty:t,getOptionLabel:n}){return Array.isArray(e)?e.length===0?t??"None":e.map((a,s)=>o.jsxs(C.Fragment,{children:[s>0&&" or ",n(a)]},String(a))):n(e)}function ie(e,t,n){const a={border:"0.125em solid var(--color-button-primary)",borderRadius:"0px",cursor:"pointer",lineHeight:"1em",padding:"0.5em",whiteSpace:"nowrap"};switch(e){case p.ButtonGroup:n===x.Last?(a.marginLeft="-0.125em",a.borderRadius="0 1em 1em 0"):n===x.First?a.borderRadius="1em 0 0 1em":n===x.Middle&&(a.marginLeft="-0.125em");break;case p.ButtonList:a.borderRadius="1em",t||(a.border="0.125em solid var(--color-button-secondary)");break;case p.InlineDropdown:return n===x.Standalone?(a.margin="-0.25em",a.border="none",a.borderRadius=".5em",a.padding="0.25em",a):ie(p.Dropdown,t,n);case p.Dropdown:a.textAlign="left",a.width="100%",a.borderRadius=void 0,n===x.First?(a.borderRadius="1em 1em 0 0",a.margin="0 0 -0.125em 0",a.borderBottom="none"):n===x.Last?(a.borderRadius="0 0 1em 1em",a.margin="0",a.borderTop="none"):n===x.Middle?(a.margin="0 0 -0.125em 0",a.borderRadius="0",a.borderTop="none",a.borderBottom="none"):n===x.Only?a.borderRadius="1em":n===x.Standalone&&(a.borderRadius="1em",a.width="fit-content");break}return a}function ke({display:e,getOptionDescription:t,getOptionLabel:n=m=>m,labelWhenEmpty:a,onChange:s,options:u,selected:l,selectorDescription:g,selectorLabel:c,selectorStyle:d}){const[m,S]=E.useState(!1),v=Oe(()=>S(!1));return o.jsxs(Ve,{manualStyle:d,manualDisplay:e,children:[c&&o.jsx(Fe,{label:c,description:g}),o.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[o.jsx(Ne,{isExpanded:m,containerRef:v,hasSelectorLabel:!!c,children:o.jsx(Me,{getOptionDescription:t,getOptionLabel:n,onClick:R=>{S(!1),s(R)},options:u,selected:l})}),o.jsx($e,{getOptionDescription:t,getOptionLabel:n,isExpanded:m,labelWhenEmpty:a,selected:l,toggleDropdown:()=>S(R=>!R)})]})]})}const Ve=({children:e,manualStyle:t,manualDisplay:n})=>{const{display:a}=M(),s=n??a,u={display:"flex",flexDirection:"row",alignItems:"center",flexWrap:"wrap"};s===p.ButtonList?(u.flexDirection="column",u.alignItems="start"):s===p.ButtonGroup&&(u.gap="-0.125em");const l=o.jsx("div",{className:"selector "+s,style:{...u,...t},children:e});return n?o.jsx(re,{display:n,children:l}):l},Ne=({children:e,containerRef:t,hasSelectorLabel:n,isExpanded:a})=>{const{display:s}=M();switch(s){case p.ButtonList:return o.jsx("div",{ref:t,style:{display:"flex",flexWrap:"wrap",gap:"0.25em",marginLeft:n?"1em":"none"},children:e});case p.ButtonGroup:return o.jsx(o.Fragment,{children:e});case p.Dropdown:case p.InlineDropdown:return o.jsx(We,{isOpen:a||!1,containerRef:t,children:e})}};function Me({getOptionDescription:e,getOptionLabel:t,onClick:n,options:a,selected:s}){return a.map((u,l)=>o.jsx(ae,{getOptionDescription:e,getOptionLabel:t,onClick:n,option:u,isSelected:Array.isArray(s)?s.includes(u):s===u,position:xe(l,a.length)},u))}function $e({getOptionDescription:e,getOptionLabel:t,isExpanded:n,labelWhenEmpty:a,selected:s,toggleDropdown:u}){const{display:l}=M();return l!==p.Dropdown&&l!==p.InlineDropdown?null:o.jsx(ae,{getOptionDescription:e,getOptionLabel:t,isSelected:!0,labelSuffix:n?" ▼":" ▶",labelWhenEmpty:a,onClick:()=>u(),option:s})}function $t(e,t){var n,a,s,u;switch(t){case G.ISO:return ze((n=e.vitality)==null?void 0:n.iso);case G.Eth2013:return Ge((a=e.vitality)==null?void 0:a.ethFine);case G.Eth2025:return Ue((s=e.vitality)==null?void 0:s.ethCoarse);case G.Metascore:return((u=e.vitality)==null?void 0:u.meta)!=null?e.vitality.meta.toFixed(1):"—";default:return}}function ze(e){switch(e){case V.Living:return"Living";case V.Constructed:return"Constructed";case V.Historical:return"Historical";case V.Extinct:return"Extinct";case V.SpecialCode:return"Special Code";default:return"Unknown"}}function Ge(e){switch(e){case W.National:return"National";case W.Regional:return"Regional";case W.Trade:return"Trade";case W.Educational:return"Educational";case W.Developing:return"Developing";case W.Threatened:return"Threatened";case W.Shifting:return"Shifting";case W.Moribund:return"Moribund";case W.Dormant:return"Dormant";case W.Extinct:return"Extinct";default:return"Unknown"}}function Ue(e){switch(e){case z.Institutional:return"Institutional";case z.Stable:return"Stable";case z.Endangered:return"Endangered";case z.Extinct:return"Extinct";default:return"Unknown"}}const He=({children:e})=>o.jsx("span",{style:{fontStyle:"italic",fontWeight:"lighter",color:"var(--color-text-secondary)"},children:e});function zt(){return{languageScope:_e(),territoryScope:qe(),territoryFilter:Ze(),writingSystemFilter:Xe(),languageFilter:Ye()}}function _e(){const{languageScopes:e}=T();return e.length===0?"any languoid":e.map(t=>t.toString()).join(" or ").toLowerCase()}function qe(){const{territoryScopes:e}=T();return e.length===0?"any territory":e.map(t=>t.toString()).join(" or ").toLowerCase()}function Ze(){const{territoryFilter:e}=T();return e?e.includes("[")?"found in "+e.split("[")[0].trim():e.match(/^[A-Za-z]{2}$/)?`found in territory with code "${e}"`:e.match(/^[0-9]{3}$/)?`found in territory with code "${e}"`:`found in "${e}*"`:"found in any territory"}function Xe(){const{writingSystemFilter:e}=T();return e?e.includes("[")?"written in "+e.split("[")[0].trim():e.match(/^[A-Z][a-z]{3}$/)?`written in script with code "${e}"`:`written in "${e}*"`:"written in any script"}function Ye(){const{languageFilter:e}=T();return e?e.includes("[")?"related to "+e.split("[")[0].trim():e.match(/[a-z]{3}/)?`related to language with code "${e}"`:`related to language "${e}*"`:"any languoid"}const Gt=({objectType:e})=>{switch(e){case r.Census:return o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"Census:"})," A count of people in a given area -- for this site this is typically the count of people that speak or understand a language."]});case r.Language:return o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"Language (Languoid):"}),'A verbal communication system used by multiple people. Languages should be mutually intelligible, whereas a dialect is a subset of a language defined by differences in lexicon and pronunciation. Since languages families, contested languages, and dialects are included it is more precise to consider these "Languoids".']});case r.Locale:return o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"Locale:"}),"The combination of a language and territory -- used to express how many people speak a language in a given area or if a language is officially supported. Some locales specify a particular writing system and/or variation information (dialect, orthography...)."]});case r.Territory:return o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"Territory:"}),"A geographical unit. Some may not have universal recognition. Currently showing both countries as well as dependencies (eg. Hong Kong) that have separate ISO codes."]});case r.WritingSystem:return o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"Writing System:"}),"A system for writing a language to a persistent visual media. For instance Latin alphabet, Han characters, cursive Arabic script. Some systems may contain other systems."]});case r.VariantTag:return o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"Variant Tag:"}),'The Internet Assigned Numbers Authority (IANA) maintains an enumeration of language tags in common usage. The "variant" tags are used in composite locales in the form ',o.jsx("code",{children:"ca_valencia"})," or ",o.jsx("code",{children:"ca-u-va-valencia"}),". These are typically used to specify a particular orthography or dialect."]})}};function Ke(e,t,n){var a,s,u;switch(t){case L.CodeOrNameAny:return e.names.filter(l=>N(l,n??""))[0]??e.codeDisplay;case L.NameAny:return e.names.filter(l=>N(l,n??""))[0]??"";case L.Code:return e.codeDisplay;case L.NameEndonym:return e.nameEndonym??"";case L.NameDisplay:return e.nameDisplay;case L.NameISO:return e.type===r.Language?((a=e.ISO)==null?void 0:a.name)??"":"";case L.NameCLDR:return e.type===r.Language?((s=e.CLDR)==null?void 0:s.name)??"":"";case L.NameGlottolog:return e.type===r.Language?((u=e.Glottolog)==null?void 0:u.name)??"":""}}function Qe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const j=({text:e,searchPattern:t})=>{if(t==="")return e;const n=J(e.toLowerCase()),a=J(t.toLowerCase()),s=Qe(a),u=n.match(new RegExp(`(^|.*\\P{L})(${s})(?:(.*\\P{L})(${s}))*?(.*)`,"iu"));if(!u)return e;const l=[];let g=0;for(let c=1;c<u.length;c++){const d=u[c];if(!d)continue;const m=d.length,S=e.substring(g,g+m);c%2===0?l.push(o.jsx("span",{className:"highlighted",children:S},c)):l.push(S),g+=m}return o.jsx("span",{children:l})},Ut=({object:e,field:t,query:n,showOriginalName:a})=>{const s=Ke(e,t,n);return a&&e.nameDisplay!==s?o.jsxs(o.Fragment,{children:[e.nameDisplay," ",o.jsxs(He,{children:["(",o.jsx(j,{text:s,searchPattern:n}),")"]})]}):o.jsx(j,{text:s,searchPattern:n})};function Ht(e){switch(e.type){case r.Census:return[e.modality,e.proficiency,e.acquisitionOrder,e.domain&&e.domain!="Any"?"@"+e.domain:null].filter(t=>t!=null&&t!="Any").join(", ");case r.Language:return Je(e);case r.Locale:return;case r.Territory:return e.scope;case r.WritingSystem:return e.nameDisplay!=e.nameFull?e.nameFull:void 0}}function Je(e){let t=e.scope;t==k.Language&&(t=void 0);const n=[t,e.nameSubtitle].filter(Boolean).join(", ");return n!==""?n:void 0}function _t(e){switch(e){case r.Census:return"censuses";case r.Language:return"languages";case r.Locale:return"locales";case r.Territory:return"territories";case r.WritingSystem:return"writing systems";case r.VariantTag:return"variant tags"}}function U(e){if(e==null)return[];switch(e.type){case r.Census:return[e.territory];case r.Language:return[...U(e.parentLanguage),e.parentLanguage];case r.Locale:return[e.language,e.writingSystem,e.territory,...e.variantTags??[]];case r.Territory:return[...U(e.parentUNRegion),e.parentUNRegion];case r.WritingSystem:return[e.parentWritingSystem];case r.VariantTag:return[e.languages[0]]}}function se(e){var t;if(e==null)return[];switch(e.type){case r.Census:return(((t=e.territory)==null?void 0:t.censuses)??[]).filter(n=>n.ID!==e.ID);case r.Language:return e.childLanguages;case r.Locale:return e.relatedLocales?[...e.relatedLocales.moreSpecific??[],...e.relatedLocales.childLanguages??[],...e.relatedLocales.childTerritories??[]]:[];case r.Territory:return[...e.containsTerritories??[],...e.dependentTerritories??[]];case r.WritingSystem:return e.childWritingSystems??[];case r.VariantTag:return e.locales}}function be(e){return se(e).reduce((t,n)=>n?t.concat([n],be(n)):t,[])}function qt(e,t){switch(e.type){case r.Census:return"other census"+(t>1?"es":"")+" in the territory";case r.Language:switch(e.scope){case k.Family:return t>1?"languages or subfamilies":"language or subfamily";case k.Macrolanguage:case k.SpecialCode:return"language"+(t>1?"s":"");case k.Language:case k.Dialect:return"dialect"+(t>1?"s":"")}return"dialect"+(t>1?"s":"");case r.Locale:return"related locale"+(t>1?"s":"");case r.Territory:switch(e.scope){case h.World:return"continent"+(t>1?"s":"");case h.Continent:case h.Region:return"region"+(t>1?"s":"");case h.Subcontinent:return"territor"+(t>1?"ies":"y");case h.Country:case h.Dependency:return"subdivision"+(t>1?"s":"")}case r.WritingSystem:return"child writing system"+(t>1?"s":"");case r.VariantTag:return"locale"+(t>1?"s":"")}}function oe(e){switch(e.type){case r.Territory:return[e,...U(e).filter(t=>(t==null?void 0:t.type)===r.Territory),e.sovereign].filter(t=>t!=null);case r.Locale:return[e.territory].filter(t=>t!=null);case r.Census:return[e.territory].filter(t=>t!=null);case r.Language:return D(e.locales.sort((t,n)=>(n.populationSpeaking||0)-(t.populationSpeaking||0)).map(t=>t.territory).filter(t=>t!=null).sort((t,n)=>(t.scope===h.Country?-1:1)-(n.scope===h.Country?-1:1)),t=>t.ID);case r.WritingSystem:return D(de(e).map(t=>t.territory).filter(t=>t!=null),t=>t.ID);case r.VariantTag:return ge(e)??[]}}function ue(e){return((e==null?void 0:e.locales)||[]).sort((t,n)=>(n.populationSpeaking??0)-(t.populationSpeaking??0))[0]}function je(e){return[...e.containsTerritories??[],...e.dependentTerritories??[]]}function le(e){var t;switch(e.scope){case h.Country:return[e];case h.Dependency:return[];case h.Region:case h.Continent:case h.Subcontinent:case h.World:return((t=e.containsTerritories)==null?void 0:t.flatMap(le))??[]}}function ce(e){var t,n;return e.territory&&e.territory.scope===h.Country?[e]:(((n=(t=e.relatedLocales)==null?void 0:t.childTerritories)==null?void 0:n.flatMap(ce))??[]).sort((a,s)=>(s.populationAdjusted??0)-(a.populationAdjusted??0))}function et(e){return D(ce(e).map(t=>t.territory).filter(t=>!!t),t=>t.ID)}function tt(e){var t;return(t=rt(e))==null?void 0:t.length}function rt(e){var t;switch(e.type){case r.Territory:return le(e);case r.Locale:return et(e);case r.Census:return((t=e.territory)==null?void 0:t.scope)===h.Country?[e.territory]:[];case r.Language:case r.WritingSystem:case r.VariantTag:return D(at(e).filter(n=>{var a;return((a=n.territory)==null?void 0:a.scope)===h.Country}).sort((n,a)=>(a.populationAdjusted??0)-(n.populationAdjusted??0)).map(n=>n.territory).filter(n=>!!n),n=>n.ID)}}function nt(e){var t;return(t=ge(e))==null?void 0:t.length}function ge(e){switch(e.type){case r.Territory:return je(e);case r.Locale:return e.territory?[e.territory]:void 0;case r.Census:return e.territory?[e.territory]:void 0;case r.VariantTag:return D(e.locales.map(t=>t.territory).filter(t=>t!=null),t=>t.ID);case r.Language:case r.WritingSystem:return}}function at(e){switch(e.type){case r.Territory:return e.locales??[];case r.Locale:return[e];case r.Census:return[];case r.Language:return e.locales;case r.WritingSystem:return de(e);case r.VariantTag:return e.locales}}function de(e){const t=e.localesWhereExplicit??[],n=Object.values(e.languages??{}).filter(a=>{var s;return((s=a.primaryWritingSystem)==null?void 0:s.ID)===e.ID}).flatMap(a=>a.locales).filter(a=>{var s;return a.writingSystem==null&&!he((s=a.territory)==null?void 0:s.scope)});return[...t,...n].sort((a,s)=>(s.populationAdjusted??0)-(a.populationAdjusted??0))}function it(e){var t,n,a,s,u;switch(e.type){case r.Territory:return(n=(t=ue(e))==null?void 0:t.language)==null?void 0:n.nameDisplay;case r.Locale:return(a=e.language)==null?void 0:a.nameDisplay;case r.Language:return e.nameDisplay;case r.VariantTag:return(u=(s=e.languages)==null?void 0:s[0])==null?void 0:u.nameDisplay;case r.WritingSystem:return e.languages?Object.values(e.languages).sort((l,g)=>(g.populationEstimate??0)-(l.populationEstimate??0))[0].nameDisplay:void 0;case r.Census:return}}function st(e){const t=ot(e);return t?t.getTime():void 0}function ot(e){switch(e.type){case r.Census:return new Date(e.yearCollected+"-01-02");case r.VariantTag:return e.dateAdded;case r.Language:case r.Locale:case r.WritingSystem:case r.Territory:return}}function ut(e){var t;switch(e.type){case r.Language:return e.childLanguages.length;case r.Locale:return se(e).length;case r.Census:return e.languageCount;case r.WritingSystem:return e.languages?Object.values(e.languages).length:void 0;case r.Territory:return e.locales&&e.locales.length>0?D(e.locales,n=>n.languageCode).length:void 0;case r.VariantTag:return(t=e.languageCodes)==null?void 0:t.length}}function lt(e){switch(e.type){case r.Census:case r.WritingSystem:case r.VariantTag:return;case r.Language:return ct(e);case r.Locale:return e.literacyPercent;case r.Territory:return e.literacyPercent}}function ct(e){const t=D(e.locales,s=>s.territoryCode??"").filter(s=>{var u;return((u=s.territory)==null?void 0:u.scope)===h.Country}),n=H(t,s=>s.populationSpeaking)||0;return H(t,s=>{var u;return(s.literacyPercent??((u=s.territory)==null?void 0:u.literacyPercent)??0)*(s.populationSpeaking??0)})/n||void 0}function gt(e){var t;return(t=q(e))==null?void 0:t.length}function q(e){var t,n,a;switch(e.type){case r.Language:return D([e.primaryWritingSystem,...Object.values(e.writingSystems??{})].filter(s=>!!s),s=>s.ID);case r.Territory:return D(((t=e.locales)==null?void 0:t.sort((s,u)=>(u.populationAdjusted??0)-(s.populationAdjusted??0)).map(s=>{var u;return s.writingSystem??((u=s.language)==null?void 0:u.primaryWritingSystem)}).filter(s=>!!s))??[],s=>s.ID);case r.Locale:return e.writingSystem?[e.writingSystem]:(n=e.language)!=null&&n.primaryWritingSystem?[e.language.primaryWritingSystem]:void 0;case r.WritingSystem:return[e,...e.childWritingSystems??[],...e.containsWritingSystems??[]];case r.VariantTag:return D(((a=e.locales)==null?void 0:a.map(s=>s.writingSystem).filter(s=>s!=null))??void 0,s=>s.ID);case r.Census:return}}function dt(e){var t,n;switch(e.type){case r.Territory:return((t=e.censuses)==null?void 0:t.length)??0;case r.Locale:return((n=e.censusRecords)==null?void 0:n.length)??0;case r.Census:return 1;case r.Language:case r.WritingSystem:case r.VariantTag:return}}function pt(e){switch(e.type){case r.Language:return e.populationEstimate;case r.Locale:return e.populationAdjusted;case r.Census:return e.populationEligible;case r.WritingSystem:return e.populationUpperBound;case r.Territory:return e.population;case r.VariantTag:return e.languages.length>0?e.languages.reduce((t,n)=>t+(n.populationEstimate||0),0):void 0}}function yt(e){switch(e.type){case r.Language:return e.populationRough;case r.Locale:return e.populationSpeaking;case r.Territory:return e.populationFromUN;case r.Census:return e.populationEligible;case r.WritingSystem:case r.VariantTag:return}}function ft(e){switch(e.type){case r.Language:return e.populationOfDescendants;case r.WritingSystem:return e.populationOfDescendants;case r.Territory:return e.dependentTerritories&&e.dependentTerritories.length>0?H(e.dependentTerritories,t=>t.population??0):void 0;case r.Census:case r.Locale:case r.VariantTag:return}}function ht(e){var t;switch(e.type){case r.Language:return e.populationEstimate&&e.largestDescendant?(e.largestDescendant.populationEstimate??0)*100/e.populationEstimate:void 0;case r.Territory:return(t=ue(e))==null?void 0:t.populationSpeakingPercent;case r.Census:case r.Locale:case r.VariantTag:case r.WritingSystem:return}}function mt(e){switch(e.type){case r.Locale:return e.language&&e.populationSpeaking?e.populationSpeaking*100/(e.language.populationEstimate??1):void 0;case r.Language:return e.parentLanguage&&e.populationEstimate?e.populationEstimate*100/(e.parentLanguage.populationEstimate??1):void 0;case r.Census:case r.Territory:case r.VariantTag:case r.WritingSystem:return}}function St(e){switch(e.type){case r.Census:return e.territory&&e.populationEligible?e.populationEligible*100/(e.territory.population??1):void 0;case r.Locale:return e.populationSpeakingPercent;case r.Territory:return e.parentUNRegion&&e.population?e.population*100/e.parentUNRegion.population:void 0;case r.Language:case r.WritingSystem:case r.VariantTag:return}}function ee(e,t){var n,a,s,u,l,g,c,d,m,S,v,R,$,I,y,w;if(t!=="None")switch(t){case i.Code:return e.codeDisplay;case i.Name:return e.nameDisplay;case i.Endonym:return e.nameEndonym;case i.CountOfLanguages:return ut(e);case i.CountOfCountries:return tt(e);case i.CountOfChildTerritories:return nt(e);case i.CountOfWritingSystems:return gt(e);case i.CountOfCensuses:return dt(e);case i.Literacy:return lt(e);case i.Date:return st(e);case i.Language:return it(e);case i.WritingSystem:return(a=(n=q(e))==null?void 0:n[0])==null?void 0:a.nameDisplay;case i.Territory:return(u=(s=oe(e))==null?void 0:s[0])==null?void 0:u.nameDisplay;case i.Latitude:return e.type===r.Language||e.type===r.Territory?e.latitude:void 0;case i.Longitude:return e.type===r.Language||e.type===r.Territory?e.longitude:void 0;case i.Area:return e.type===r.Territory?e.landArea:void 0;case i.Population:return pt(e);case i.PopulationDirectlySourced:return yt(e);case i.PopulationOfDescendants:return ft(e);case i.PopulationPercentInBiggestDescendantLanguage:return ht(e);case i.PercentOfTerritoryPopulation:return St(e);case i.PercentOfOverallLanguageSpeakers:return mt(e);case i.VitalityMetascore:return e.type===r.Language?(l=e.vitality)==null?void 0:l.meta:e.type===r.Locale?(c=(g=e.language)==null?void 0:g.vitality)==null?void 0:c.meta:void 0;case i.ISOStatus:return e.type===r.Language?(d=e.vitality)==null?void 0:d.iso:e.type===r.Locale?(S=(m=e.language)==null?void 0:m.vitality)==null?void 0:S.iso:void 0;case i.VitalityEthnologue2013:return e.type===r.Language?(v=e.vitality)==null?void 0:v.ethFine:e.type===r.Locale?($=(R=e.language)==null?void 0:R.vitality)==null?void 0:$.ethFine:void 0;case i.VitalityEthnologue2025:return e.type===r.Language?(I=e.vitality)==null?void 0:I.ethCoarse:e.type===r.Locale?(w=(y=e.language)==null?void 0:y.vitality)==null?void 0:w.ethCoarse:void 0}}function Zt(){const{sortBy:e,sortBehavior:t}=T();return Lt(e,t)}function Lt(e,t=me.Normal){const n=Ct(e)*t;return(a,s)=>{const u=ee(a,e),l=ee(s,e);return u==null?l==null?0:1:l==null?-1:u>l?n:l>u?-n:0}}function Ct(e){switch(e){case i.Name:case i.Endonym:case i.Code:case i.Language:case i.WritingSystem:case i.Territory:case i.Longitude:case i.Latitude:return Q.Ascending;case i.Date:case i.Population:case i.PopulationDirectlySourced:case i.PopulationOfDescendants:case i.PopulationPercentInBiggestDescendantLanguage:case i.PercentOfTerritoryPopulation:case i.PercentOfOverallLanguageSpeakers:case i.Literacy:case i.CountOfLanguages:case i.CountOfWritingSystems:case i.CountOfCountries:case i.CountOfChildTerritories:case i.CountOfCensuses:case i.VitalityMetascore:case i.ISOStatus:case i.VitalityEthnologue2013:case i.VitalityEthnologue2025:case i.Area:return Q.Descending}}function Xt(){const e=wt(),t=vt();return E.useCallback(a=>e(a)&&t(a),[e,t])}function wt(){const{languageScopes:e}=T(),t=E.useCallback(n=>e.length===0?!0:(n==null?void 0:n.type)===r.Locale?t(n.language):(n==null?void 0:n.type)!==r.Language?!0:e.includes(n.scope??k.SpecialCode),[e]);return t}function vt(){const{territoryScopes:e}=T(),t=E.useCallback(n=>e.length===0?!0:(n==null?void 0:n.type)===r.Locale?t(n.territory):(n==null?void 0:n.type)!==r.Territory?!0:e.includes(n.scope),[e]);return t}function Tt(e,t,n){const a=s=>{if((s==null?void 0:s.type)===r.Locale)return a(s.language);if((s==null?void 0:s.type)!==r.Language)return!0;const u=s;if(!e.length&&!t.length&&!n.length)return!0;const{iso:l,ethFine:g,ethCoarse:c}=u.vitality||{},d=!e.length||l!=null&&e.includes(l),m=!t.length||g!=null&&t.includes(g),S=!n.length||c!=null&&n.includes(c);return d&&m&&S};return a}function Yt(){const{isoStatus:e,vitalityEth2013:t,vitalityEth2025:n}=T();return E.useCallback(Tt(e,t,n),[e,t,n])}function Kt({lang:e=!0,territory:t=!0,writing:n=!0}={}){const a=t?Ot():()=>!0,s=n?xt():()=>!0,u=e?Et():()=>!0;return E.useCallback(l=>a(l)&&s(l)&&u(l),[a,s,u])}function Ot(){var s,u;const{territoryFilter:e}=T(),t=e.split("["),n=(s=t[0])==null?void 0:s.toLowerCase().trim();let a="";return e.length===2&&e.match(/^[A-Za-z]{2}$/)?a=e.toUpperCase():e.length===3&&e.match(/^[0-9]{3}$/)?a=e:t.length>1&&(a=(u=t[1].split("]")[0])==null?void 0:u.toUpperCase()),E.useCallback(l=>{if(!e)return!0;const g=oe(l);return a!==""?g.some(c=>c.codeDisplay===a):g.some(c=>c.nameDisplay.toLowerCase().startsWith(n))},[e,a,n])}function xt(){var s;const{writingSystemFilter:e}=T(),t=e.split("["),n=(s=t[0])==null?void 0:s.toLowerCase().trim();let a="";if(e.length===4&&e.match(/[A-Z][a-z]{3}/))a=b(e);else if(t.length>1){const u=t[1].split("]")[0];u&&(a=b(u))}return E.useCallback(u=>{if(!e)return!0;const l=Dt(u);return a!==""?l.some(g=>g.codeDisplay===a):l.some(g=>g.nameDisplay.toLowerCase().startsWith(n))},[e,a,n])}function Dt(e){var t,n,a;switch(e.type){case r.Territory:return D(((n=(t=e.locales)==null?void 0:t.filter(s=>(s.populationWritingPercent||0)>1))==null?void 0:n.map(s=>{var u;return s.writingSystem??((u=s.language)==null?void 0:u.primaryWritingSystem)}).filter(s=>!!s))??[],s=>s.ID);case r.Locale:return[e.writingSystem??((a=e.language)==null?void 0:a.primaryWritingSystem)].filter(s=>!!s);case r.WritingSystem:return[e,e.parentWritingSystem,...e.childWritingSystems??[]].filter(s=>!!s);case r.Language:case r.VariantTag:return q(e)??[];case r.Census:return[]}}function Et(){var s;const{languageFilter:e}=T(),t=e.split("["),n=(s=t[0])==null?void 0:s.toLowerCase().trim();let a="";if(e.length===3&&e.match(/[a-z]{3}/))a=e;else if(t.length>1){const u=t[1].split("]")[0];u&&(a=u.toLowerCase())}return E.useCallback(u=>{if(!e)return!0;const l=Pt(u);return a!==""?l.some(g=>g.codeDisplay===a):l.some(g=>g.nameDisplay.toLowerCase().startsWith(n))},[e,a,n])}function Pt(e){var t,n;switch(e.type){case r.Territory:return D(((n=(t=e.locales)==null?void 0:t.filter(a=>(a.populationSpeakingPercent||0)>1))==null?void 0:n.map(a=>a.language).filter(a=>!!a))??[],a=>a.ID);case r.Locale:return[e.language].filter(a=>!!a);case r.Census:return[];case r.Language:return[...U(e),e].filter(a=>!!a);case r.WritingSystem:return Object.values(e.languages??{});case r.VariantTag:return e.languages??[]}}function Qt(e,t){switch(t){case L.Code:case L.NameEndonym:case L.NameDisplay:case L.NameISO:case L.NameCLDR:case L.NameGlottolog:case L.NameAny:return n=>n.names.map(a=>N(a,e)).reduce((a,s)=>a||s,!1);case L.CodeOrNameAny:return n=>n.names.map(a=>N(a,e)).reduce((a,s)=>a||s,!1)||N(n.codeDisplay,e)}}const Wt=[i.Code,i.Name,i.Population];function Ft(e){switch(e){case r.Locale:return[i.Endonym,i.PopulationDirectlySourced,i.Literacy,i.PercentOfOverallLanguageSpeakers,i.PercentOfTerritoryPopulation,i.CountOfLanguages,i.CountOfWritingSystems,i.CountOfCountries,i.CountOfChildTerritories,i.CountOfCensuses,i.Language,i.WritingSystem,i.Territory];case r.Territory:return[i.Endonym,i.Literacy,i.CountOfLanguages,i.CountOfWritingSystems,i.CountOfCountries,i.CountOfChildTerritories,i.CountOfCensuses,i.Latitude,i.Longitude,i.Area,i.Language,i.WritingSystem,i.Territory,i.PopulationDirectlySourced,i.PercentOfTerritoryPopulation,i.PopulationPercentInBiggestDescendantLanguage];case r.Language:return[i.Endonym,i.Literacy,i.CountOfLanguages,i.CountOfWritingSystems,i.CountOfCountries,i.Language,i.WritingSystem,i.Territory,i.PopulationDirectlySourced,i.PopulationOfDescendants,i.PercentOfOverallLanguageSpeakers,i.VitalityMetascore,i.ISOStatus,i.VitalityEthnologue2013,i.VitalityEthnologue2025,i.Latitude,i.Longitude];case r.Census:return[i.Date,i.PopulationDirectlySourced,i.PercentOfTerritoryPopulation,i.Territory,i.CountOfLanguages];case r.WritingSystem:return[i.Endonym,i.Language,i.CountOfLanguages,i.CountOfCountries,i.CountOfWritingSystems,i.PopulationOfDescendants,i.Territory,i.WritingSystem];case r.VariantTag:return[i.Date,i.CountOfLanguages,i.CountOfChildTerritories,i.Language]}}function Rt(e){const t=Ft(e);return Se([...Wt,...t])}function Z(e,t){const n=new Set(Rt(t));return e.filter(a=>n.has(a))}function Jt(e){return Z(Object.values(i),e)}function bt(e){const t=[i.Population,i.PopulationDirectlySourced,i.Area,i.CountOfLanguages,i.CountOfWritingSystems,i.CountOfCountries,i.CountOfChildTerritories,i.CountOfCensuses,i.Literacy,i.VitalityMetascore,i.VitalityEthnologue2013,i.VitalityEthnologue2025,i.ISOStatus,i.Latitude,i.Longitude,i.PercentOfOverallLanguageSpeakers,i.PercentOfTerritoryPopulation,i.PopulationOfDescendants,i.PopulationPercentInBiggestDescendantLanguage,i.Date,i.Name,i.Endonym,i.Code];return Z(t,e)}function jt(e){const t=[i.Population,i.PopulationDirectlySourced,i.Area,i.CountOfLanguages,i.CountOfCountries,i.CountOfChildTerritories,i.CountOfCensuses];return Z(t,e)}const er=({display:e})=>{const{languageSource:t,updatePageParams:n}=T(),a=o.jsx(o.Fragment,{children:"Languages have fuzzy boundaries and different sources categorize potential languages differently. For example, what's a dialect versus a language, or if a language is even attested. Use this option to change what languages appear and what they are considered (family / individual / dialect). This may also change the language codes, names, and parent/child relationships."});return o.jsx(ke,{selectorLabel:e!==p.InlineDropdown?"Source of the List of Languages":void 0,selectorDescription:a,options:Object.values(B),onChange:s=>n({languageSource:s}),selected:t,display:e,getOptionDescription:s=>o.jsx(It,{languageSource:s})})},It=({languageSource:e})=>{switch(e){case B.Combined:return o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"All:"}),"Show all languages and dialects, regardless of where it was defined."]});case B.ISO:return o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"International Standards Organization (ISO):"}),"The languages and macrolanguages defined by the International Standards Organization, standard # 639. Unicode and most technology companies use this list to define the possible languages. This option specifically shows only 3-letter codes from either the ISO 639-3 standard for regular languages and macrolanguages or the ISO 639-5 standard for language families."]});case B.BCP:return o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"Best Current Practice (BCP):"})," The Internet Engineering Task Force (IETF)'s Best Current Practice (BCP) 47 standard defines how language codes should be composed for usage on the internet. It is largely based on the ISO 639 standard -- the big difference is that it recommends using the ISO 639-1 2-letter codes when available. That standard also includes how complex descriptions are defined, such as handling specific variants (eg. ",o.jsx("code",{children:"en-US"})," for American English, ",o.jsx("code",{children:"en-GB"})," for British English, or ",o.jsx("code",{children:"zh-Hant"})," for Traditional Chinese)."]});case B.UNESCO:return o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"UNESCO's World Atlas of Languages (WAL):"}),"The languages that have been agreed by the UNESCO authorities and representatives of UN member states to show in the World Atlas of Languages."]});case B.Glottolog:return o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"Glottolog:"}),"The languoids shown in the Glottolog database. This schema will include many more language families than ISO."]});case B.CLDR:return o.jsxs(o.Fragment,{children:[o.jsx("label",{children:"CLDR:"}),"The languages supported by Unicode's tooling that is used by most technology platforms. The main components are the CLDR --the ",o.jsx("strong",{children:"C"}),"ommon"," ",o.jsx("strong",{children:"L"}),"ocale ",o.jsx("strong",{children:"D"}),"ata ",o.jsx("strong",{children:"R"}),"epository-- and ICU --the"," ",o.jsx("strong",{children:"I"}),"nternational ",o.jsx("strong",{children:"C"}),"omponents for ",o.jsx("strong",{children:"U"}),"nicode. These languages are usually the same as the ISO languages but the language-keys prefer the ISO 639-1 language code if it exists (eg. ",o.jsx("code",{children:"en"}),", ",o.jsx("code",{children:"es"}),") over the ISO 639-3 language code (eg. ",o.jsx("code",{children:"eng"}),", ",o.jsx("code",{children:"spa"}),")."]})}};function A(e){switch(e){case f.DivergingBlueToOrange:return t=>`hsl(${t<.5?240:30}, 90%, ${100-Math.abs(t-.5)*80}%)`;case f.DivergingRedToGreen:return t=>`hsl(${t<.5?0:120}, 80%, ${100-Math.abs(t-.5)*80}%)`;case f.StopLightRedToGreen:return t=>`hsl(${t*120}, 80%, ${80-Math.abs(t-.5)*40}%)`;case f.HueRainbowBlueToRed:return t=>`hsl(${240-t*240}, 80%, 60%)`;case f.SequentialBlue:return t=>`hsl(211, 80%, ${95-t*50}%)`;case f.SequentialOrange:return t=>`hsl(30, 80%, ${95-t*50}%)`;case f.DivergingOrangeToBlue:return t=>A(f.DivergingBlueToOrange)(1-t);case f.DivergingGreenToRed:return t=>A(f.DivergingRedToGreen)(1-t);case f.StopLightGreenToRed:return t=>A(f.StopLightRedToGreen)(1-t);case f.HueRainbowRedToBlue:return t=>A(f.HueRainbowBlueToRed)(1-t);case f.SequentialBlueReverse:return t=>A(f.SequentialBlue)(1-t);case f.SequentialOrangeReverse:return t=>A(f.SequentialOrange)(1-t)}}function tr({colorGradient:e}){const t=A(e);return[...Array(100).keys()].map(n=>o.jsx("div",{style:{backgroundColor:t(n/99),width:"1%",height:"100%",display:"inline-block"}},n))}export{U as $,le as A,pt as B,ge as C,He as D,Lt as E,M as F,ze as G,Ut as H,Ge as I,Ue as J,jt as K,Jt as L,Oe as M,er as N,Gt as O,ie as P,x as Q,We as R,ke as S,Nt as T,xe as U,bt as V,tr as W,Mt as X,Ht as Y,se as Z,qt as _,p as a,we as a0,Ct as a1,ee as a2,A as a3,at as a4,be as a5,vt as b,xt as c,Et as d,Ot as e,zt as f,wt as g,Qt as h,Ke as i,re as j,Xt as k,Kt as l,Yt as m,Zt as n,_t as o,Ie as p,ht as q,Fe as r,$t as s,lt as t,rt as u,j as v,St as w,ue as x,q as y,je as z};
