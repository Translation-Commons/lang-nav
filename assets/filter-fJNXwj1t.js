import{c as F,O as t,j as i,h as k,r as L,H as P,e as x,S as g,u as y,a as o,T as D}from"./index-XI66Mk4H.js";import{d as w,a as A}from"./DataContext-DPVCbZpE.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],M=F("info",B);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ne=F("x",W),te=({objectType:e})=>{switch(e){case t.Census:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Census:"})," A count of people in a given area -- for this site this is typically the count of people that speak or understand a language."]});case t.Language:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Language (Languoid):"}),'A verbal communication system used by multiple people. Languages should be mutually intelligible, whereas a dialect is a subset of a language defined by differences in lexicon and pronunciation. Since languages families, contested languages, and dialects are included it is more precise to consider these "Languoids".']});case t.Locale:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Locale:"}),"The combination of a language and territory -- used to express how many people speak a language in a given area or if a language is officially supported. Some locales specify a particular writing system and/or variation information (dialect, orthography...)."]});case t.Territory:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Territory:"}),"A geographical unit. Some may not have universal recognition. Currently showing both countries as well as dependencies (eg. Hong Kong) that have separate ISO codes."]});case t.WritingSystem:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Writing System:"}),"A system for writing a language to a persistent visual media. For instance Latin alphabet, Han characters, cursive Arabic script. Some systems may contain other systems."]});case t.VariantTag:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Variant Tag:"}),'The Internet Assigned Numbers Authority (IANA) maintains an enumeration of language tags in common usage. The "variant" tags are used in composite locales in the form ',i.jsx("code",{children:"ca_valencia"})," or ",i.jsx("code",{children:"ca-u-va-valencia"}),". These are typically used to specify a particular orthography or dialect."]})}},j=({children:e,className:n,hoverContent:s,onClick:r,style:a})=>{const{showHoverCard:u,hideHoverCard:l}=k();if(s==null)return i.jsx("button",{className:n,onClick:r,style:{cursor:r?"pointer":"auto",...a},type:"button",children:e});const c=p=>{u(s,p.clientX,p.clientY)},d=p=>{u(s,p.clientX,p.clientY)};return i.jsx("button",{className:n,onMouseEnter:c,onMouseMove:d,onMouseLeave:l,onClick:()=>{l(),r!=null&&r()},style:{cursor:r?"pointer":"auto",...a},children:e})};var m=(e=>(e.Standalone="standalone",e.First="first",e.Middle="middle",e.Last="last",e.Only="only",e))(m||{});function H(e,n){return n===1?"only":e===0?"first":e===n-1?"last":"middle"}function V(e){const n=L.useRef(null);return L.useEffect(()=>{function s(r){n.current&&!n.current.contains(r.target)&&e()}return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[e]),n}const I=({children:e,containerRef:n})=>i.jsx("div",{style:{position:"relative"},ref:n,children:i.jsx("div",{className:"dropdown",style:{alignItems:"start",position:"absolute",display:"flex",left:"0px",flexDirection:"column",width:"fit-content",zIndex:100,marginTop:"1em",backgroundColor:"var(--color-background)",borderRadius:"1em",maxHeight:"20em",overflowY:"auto"},children:e})}),$=({label:e,description:n,optionsDisplay:s})=>e==null?null:i.jsxs("span",{style:U(s),children:[i.jsx("div",{children:e}),n&&i.jsx(P,{hoverContent:n,children:i.jsx(M,{size:"1em",display:"block"})})]});function U(e){const n={display:"flex",gap:"0.25em",lineHeight:"1em",alignItems:"center",fontWeight:"bold",padding:"0.5em",margin:"auto 0",whiteSpace:"nowrap",borderRadius:"1em"};switch(e){case h.ButtonGroup:n.borderRadius="1em 0 0 1em",n.marginLeft="-0.125em",n.marginRight="-0.125em";break;case h.ButtonList:n.borderRadius="1em 0 0 1em";break;case h.InlineDropdown:n.padding="0 0.5em";break;case h.Dropdown:break}return n}var h=(e=>(e.Dropdown="dropdown",e.InlineDropdown="inlineDropdown",e.ButtonGroup="buttonGroup",e.ButtonList="buttonList",e))(h||{});function ae({getOptionDescription:e=()=>{},getOptionLabel:n=p=>p,onChange:s,options:r,optionsDisplay:a="buttonList",selected:u,selectorDescription:l,selectorLabel:c,selectorStyle:d}){const[p,S]=L.useState(!1),N=V(()=>S(!1));return i.jsxs(_,{optionsDisplay:a,manualStyle:d,children:[c&&i.jsx($,{label:c,description:l,optionsDisplay:a}),i.jsx(q,{isExpanded:p,containerRef:N,optionsDisplay:a,children:i.jsx(z,{getOptionDescription:e,getOptionLabel:n,onClick:f=>{S(!1),s(f)},options:r,optionsDisplay:a,selected:u})}),(a==="dropdown"||a==="inlineDropdown")&&i.jsx(R,{getOptionDescription:e,getOptionLabel:f=>`${n(f)} ${p?"▼":"▶"}`,onClick:()=>S(f=>!f),option:Array.isArray(u)?u[0]:u,optionsDisplay:a,isSelected:!0})]})}const _=({children:e,optionsDisplay:n,manualStyle:s})=>{const r={display:"flex",flexDirection:"row",alignItems:"center",marginLeft:"0.125em",marginRight:"0.5em",marginBottom:"0.5em"};return n==="buttonList"?(r.flexDirection="column",r.alignItems="start"):n==="inlineDropdown"?(r.marginLeft="0",r.marginRight="0",r.marginBottom="0"):n==="buttonGroup"&&(r.gap="-0.125em"),i.jsx("div",{className:"selector "+n,style:{...r,...s},children:e})},q=({children:e,containerRef:n,isExpanded:s,optionsDisplay:r})=>{switch(r){case"buttonList":return i.jsx("div",{ref:n,style:{display:"flex",flexWrap:"wrap",gap:"0.25em 0.25em",marginLeft:"1em"},children:e});case"buttonGroup":return i.jsx(i.Fragment,{children:e});case"dropdown":case"inlineDropdown":return s?i.jsx(I,{containerRef:n,children:e}):null}};function z({getOptionDescription:e=()=>{},getOptionLabel:n=l=>l,onClick:s,options:r,optionsDisplay:a,selected:u}){return r.map((l,c)=>i.jsx(R,{getOptionDescription:e,getOptionLabel:n,onClick:s,option:l,optionsDisplay:a,isSelected:Array.isArray(u)?u.includes(l):u===l,position:H(c,r.length)},l))}function R({getOptionDescription:e=()=>{},getOptionLabel:n=c=>c,isSelected:s,onClick:r,option:a,optionsDisplay:u,position:l=m.Standalone}){let c="selectorOption";return s&&(c+=" selected"),s||(c+=" unselected"),u==="inlineDropdown"&&l===m.Standalone&&(c+=" hoverableText"),i.jsx(j,{className:c,hoverContent:e(a),onClick:()=>r(a),style:b(u,s,l),children:n(a)})}function b(e,n,s){const r={border:"0.125em solid var(--color-button-primary)",borderRadius:"0px",cursor:"pointer",lineHeight:"1em",padding:"0.5em",whiteSpace:"nowrap"};switch(e){case"buttonGroup":s===m.Last?(r.marginLeft="-0.125em",r.borderRadius="0 1em 1em 0"):s===m.First?r.borderRadius="1em 0 0 1em":s===m.Middle&&(r.marginLeft="-0.125em");break;case"buttonList":r.borderRadius="1em",n||(r.border="0.125em solid var(--color-button-secondary)");break;case"inlineDropdown":return s===m.Standalone?(r.margin="-0.25em",r.border="none",r.borderRadius=".5em",r.padding="0.25em",r):b("dropdown",n,s);case"dropdown":r.textAlign="left",r.width="100%",r.borderRadius=void 0,s===m.First?(r.borderRadius="1em 1em 0 0",r.margin="0 0 -0.125em 0",r.borderBottom="none"):s===m.Last?(r.borderRadius="0 0 1em 1em",r.margin="0",r.borderTop="none"):s===m.Middle?(r.margin="0 0 -0.125em 0",r.borderRadius="0",r.borderTop="none",r.borderBottom="none"):s===m.Only?r.borderRadius="1em":s===m.Standalone&&(r.borderRadius="1em",r.width="fit-content");break}return r}function se(e){switch(e.type){case t.Census:return[e.modality,e.proficiency,e.acquisitionOrder,e.domain&&e.domain!="Any"?"@"+e.domain:null].filter(n=>n!=null&&n!="Any").join(", ");case t.Language:return G(e);case t.Locale:return;case t.Territory:return e.scope;case t.WritingSystem:return e.nameDisplay!=e.nameFull?e.nameFull:void 0}}function G(e){let n=e.nameSubtitle,s=e.scope;n==="macrolanguage"&&(n=void 0),s==x.Language&&(s=void 0);const r=[s,n].filter(Boolean).join(", ");return r!==""?r:void 0}function ie(e){switch(e){case t.Census:return"censuses";case t.Language:return"languages";case t.Locale:return"locales";case t.Territory:return"territories";case t.WritingSystem:return"writing systems";case t.VariantTag:return"variant tags"}}function X(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const Y=({text:e,searchPattern:n})=>{if(n==="")return e;const s=X(n),r=e.match(new RegExp(`(^|.*\\P{L})(${s})(?:(.*\\P{L})(${s}))*?(.*)`,"iu"));return r?i.jsx(i.Fragment,{children:r.slice(1).map((a,u)=>u%2===0?a:i.jsx("span",{className:"highlighted",children:a},u))}):e},oe=({object:e,field:n})=>{const{searchBy:s,searchString:r}=y(),a=r.toLowerCase();return s===n?i.jsx(C,{object:e,query:r,field:n}):s===g.AllNames&&[g.EngName,g.Endonym].includes(n)?i.jsx(C,{object:e,query:r,field:n}):s===g.NameOrCode&&[g.EngName,g.Code].includes(n)?i.jsx(C,{object:e,query:r,field:n}):v(e,n,a)},C=({object:e,field:n,query:s})=>i.jsx(Y,{text:v(e,n,s),searchPattern:s.toLowerCase()});function v(e,n,s){switch(n){case g.AllNames:return e.names.filter(r=>w(r,(s==null?void 0:s.toLowerCase())??""))[0]??"";case g.Code:return e.codeDisplay;case g.Endonym:return e.nameEndonym??"";case g.EngName:return e.nameDisplay;case g.NameOrCode:return e.nameDisplay+" ["+e.codeDisplay+"]"}}function T(e,n,s){switch(e.type){case t.Language:return(e.populationCited??0)+(n&&s?e.sourceSpecific[s].populationOfDescendents??0:0);case t.Locale:return e.populationSpeaking;case t.Census:return e.languageCount;case t.WritingSystem:return e.populationUpperBound+(n?e.populationOfDescendents:0);case t.Territory:return e.population;case t.VariantTag:return e.languages.reduce((r,a)=>r+(a.populationCited||0),0)}}function ue(e,n){const{sortBy:s,languageSource:r,sortDirection:a}=y(),l=K(s,r,e??!1);return a==="reverse"?(c,d)=>-l(c,d):l}function K(e,n,s){switch(e){case o.Code:return(r,a)=>r.codeDisplay>a.codeDisplay?1:a.codeDisplay>r.codeDisplay?-1:0;case o.Name:return(r,a)=>r.nameDisplay>a.nameDisplay?1:a.nameDisplay>r.nameDisplay?-1:0;case o.Endonym:return(r,a)=>r.nameEndonym==null?a.nameEndonym==null?0:1:a.nameEndonym==null?-1:r.nameEndonym>a.nameEndonym?1:a.nameEndonym>r.nameEndonym?-1:0;case o.CountOfTerritories:return(r,a)=>{switch(r.type){case t.Language:return a.type===t.Language?O(a).length-O(r).length:-1;case t.Locale:return 0;case t.Census:return 0;case t.WritingSystem:return 0;case t.Territory:return a.type===t.Territory?a.containsTerritories.length-r.containsTerritories.length:-1;case t.VariantTag:return 0}};case o.CountOfLanguages:return(r,a)=>{var u,l,c,d;switch(r.type){case t.Language:return a.type===t.Language?a.childLanguages.length-r.childLanguages.length:-1;case t.Locale:return a.type===t.Locale?(((u=a.containedLocales)==null?void 0:u.length)||0)-(((l=r.containedLocales)==null?void 0:l.length)||0):-1;case t.Census:return a.type===t.Census?a.languageCount-r.languageCount:-1;case t.WritingSystem:return a.type===t.WritingSystem?Object.values(a.languages).length-Object.values(r.languages).length:-1;case t.Territory:return a.type===t.Territory?a.locales.length-r.locales.length:-1;case t.VariantTag:return a.type===t.VariantTag?(((c=a.languageCodes)==null?void 0:c.length)||0)-(((d=r.languageCodes)==null?void 0:d.length)||0):-1}};case o.Population:return(r,a)=>T(a,s,n)-T(r,s,n);case o.RelativePopulation:return(r,a)=>{var u,l;switch(r.type){case t.Census:case t.Language:case t.WritingSystem:case t.VariantTag:return 0;case t.Locale:return a.type===t.Locale?(a.populationSpeakingPercent??0)-(r.populationSpeakingPercent??0):-1;case t.Territory:return a.type===t.Territory?a.population/(((u=a.parentUNRegion)==null?void 0:u.population)??1)-r.population/(((l=r.parentUNRegion)==null?void 0:l.population)??1):-1}};case o.Literacy:return(r,a)=>{switch(r.type){case t.Census:case t.Language:case t.WritingSystem:case t.VariantTag:return 0;case t.Locale:return a.type===t.Locale?(a.literacyPercent??0)-(r.literacyPercent??0):-1;case t.Territory:return a.type===t.Territory?(a.literacyPercent??0)-(r.literacyPercent??0):-1}};case o.Date:return(r,a)=>E(a)-E(r)}}function le(e){switch(e){case t.Locale:return[o.Code,o.Name,o.Endonym,o.Population,o.Literacy,o.RelativePopulation,o.CountOfLanguages];case t.Territory:return[o.Code,o.Name,o.Population,o.Literacy,o.CountOfLanguages,o.CountOfTerritories];case t.Language:return[o.Code,o.Name,o.Endonym,o.Population,o.CountOfTerritories,o.CountOfLanguages];case t.Census:return[o.Date,o.Code,o.Name,o.Population,o.CountOfLanguages];case t.WritingSystem:return[o.Code,o.Name,o.Endonym,o.Population,o.CountOfLanguages];case t.VariantTag:return[o.Date,o.Code,o.Name,o.Population,o.CountOfLanguages]}}function O(e){return A(e.locales.sort((n,s)=>(s.populationSpeaking??0)-(n.populationSpeaking??0)).map(n=>{var s;return((s=n.territory)==null?void 0:s.nameDisplay)??n.territoryCode}).filter(n=>n!=null&&n!==""),n=>n)}function E(e){var n;switch(e.type){case t.Census:return e.yearCollected;case t.VariantTag:return((n=e.dateAdded)==null?void 0:n.getTime())??0;default:return 0}}function ce(){const{searchBy:e,searchString:n}=y();return n==""?()=>!0:Q(n.toLowerCase(),e)}function Q(e,n){const s=e.toLowerCase();switch(n){case g.Code:case g.Endonym:case g.EngName:case g.NameOrCode:return r=>w(v(r,n),s);case g.AllNames:return r=>r.names.map(a=>w(a,s)).reduce((a,u)=>a||u,!1)}}function ge(){var a,u;const{territoryFilter:e}=y(),n=e.split("["),s=(a=n[0])==null?void 0:a.toLowerCase().trim();let r="";return e.length===2?r=e.toUpperCase():e.length===3&&e.match(/^[0-9]{3}$/)?r=e:n.length>1&&(r=(u=n[1].split("]")[0])==null?void 0:u.toUpperCase()),L.useCallback(l=>{if(e=="")return!0;const c=J(l);return r!==""?c.some(d=>d.ID===r):c.some(d=>d.nameDisplay.toLowerCase().startsWith(s))},[e,r,s])}function J(e){switch(e.type){case t.Territory:return[e,e.parentUNRegion,e.sovereign].filter(n=>n!=null);case t.Locale:return[e.territory].filter(n=>n!=null);case t.Census:return[e.territory].filter(n=>n!=null);case t.Language:return e.locales.map(n=>n.territory).filter(n=>n!=null);case t.WritingSystem:return[e.territoryOfOrigin].filter(n=>n!=null);case t.VariantTag:return[]}}function de(){const{languageScopes:e,territoryScopes:n}=y();function s(r){switch(r.type){case t.Language:return e.length===0||e.includes(r.scope??x.SpecialCode);case t.Territory:return n.length===0||n.includes(r.scope);case t.Locale:return Z(r,e,n);case t.Census:case t.WritingSystem:case t.VariantTag:return!0}}return s}function Z(e,n,s){var u,l;const r=n.includes(((u=e.language)==null?void 0:u.scope)??x.SpecialCode),a=s.includes(((l=e.territory)==null?void 0:l.scope)??D.Country);return(n.length==0||r)&&(s.length==0||a)}function me(){const{page:e,limit:n}=y();return s=>n<1||s.length<n?s:s.slice(n*(e-1),n*e)}export{C as H,M as I,h as O,m as P,ae as S,ne as X,Q as a,v as b,ue as c,ce as d,ge as e,me as f,de as g,O as h,T as i,$ as j,te as k,ie as l,le as m,j as n,I as o,H as p,b as q,se as r,oe as s,V as u};
