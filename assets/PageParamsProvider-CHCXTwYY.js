import{P as r,S as p,p as b,V as m,a as k,L as f,b as u,u as P,r as g,g as S,c as d,j as h,d as B}from"./index-CSwimbUn.js";function c(o,e){if(o==="[]")return[];const a=Object.values(e).filter(s=>typeof s=="number");return o.split(",").filter(Boolean).map(s=>parseInt(s,10)).filter(s=>a.includes(s))}function E(o){const e={};return o.forEach((a,s)=>{const i=s;switch(i){case r.page:e.page=parseInt(a)||1;break;case r.limit:e.limit=parseInt(a)||10;break;case r.languageScopes:a==="[]"?e.languageScopes=[]:e.languageScopes=a.split(",").filter(Boolean);break;case r.modalityFilter:e.modalityFilter=c(a,u);break;case r.territoryScopes:a==="[]"?e[i]=[]:e[i]=a.split(",").filter(Boolean);break;case r.isoStatus:e.isoStatus=c(a,f);break;case r.vitalityEthFine:e.vitalityEthFine=c(a,k);break;case r.vitalityEthCoarse:e.vitalityEthCoarse=c(a,m);break;case r.columns:e.columns=b(a);break;case r.objectType:e.objectType=a;break;case r.view:e.view=a;break;case r.profile:e.profile=a;break;case r.localeSeparator:e.localeSeparator=a;break;case r.languageSource:e.languageSource=a;break;case r.sortBehavior:e.sortBehavior=a==="-1"?p.Reverse:p.Normal;break;case r.colorGradient:e.colorGradient=parseInt(a);break;case r.searchBy:e.searchBy=a;break;case r.sortBy:e.sortBy=a;break;case r.colorBy:e.colorBy=a;break;case r.scaleBy:e.scaleBy=a;break;case r.objectID:case r.searchString:case r.languageFilter:case r.territoryFilter:case r.writingSystemFilter:e[i]=a;break}}),e}const F=({children:o})=>{const[e,a]=P({}),s=g.useCallback(t=>{a(n=>S(t,n))},[a]),i=g.useMemo(()=>{const t=E(e),n=d(t.objectType,t.view,t.profile,t.colorBy);return Object.keys(t).forEach(y=>{const l=y;t[l]==null&&delete t[l]}),{...n,...t,updatePageParams:s}},[e,s]);return h.jsx(B.Provider,{value:i,children:o})};export{F as default};
