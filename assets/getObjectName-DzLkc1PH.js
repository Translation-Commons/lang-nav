import{r as l,c as E,j as c,S as i,u as m,O as s,b as f,T as x}from"./index-skG5SPfU.js";import{d as y}from"./DataContext-_QRKCtL0.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),w=e=>{const t=M(e);return t.charAt(0).toUpperCase()+t.slice(1)},L=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),F=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=l.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:u,...g},p)=>l.createElement("svg",{ref:p,...N,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:L("lucide",a),...!o&&!F(g)&&{"aria-hidden":"true"},...g},[...u.map(([d,v])=>l.createElement(d,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=(e,t)=>{const r=l.forwardRef(({className:n,...a},o)=>l.createElement(k,{ref:o,iconNode:t,className:L(`lucide-${O(w(e))}`,`lucide-${e}`,n),...a}));return r.displayName=w(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_=S("external-link",A);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],q=S("x",T),I=({children:e,className:t,hoverContent:r,onClick:n,style:a})=>{const{showHoverCard:o,hideHoverCard:u}=E();if(r==null)return c.jsx("button",{className:t,onClick:n,style:{cursor:n?"pointer":"auto",...a},type:"button",children:e});const g=d=>{o(r,d.clientX,d.clientY)},p=d=>{o(r,d.clientX,d.clientY)};return c.jsx("button",{className:t,onMouseEnter:g,onMouseMove:p,onMouseLeave:u,onClick:()=>{u(),n!=null&&n()},style:{cursor:n?"pointer":"auto",...a},children:e})};function X(e){const t=l.useRef(null);return l.useEffect(()=>{function r(n){t.current&&!t.current.contains(n.target)&&e()}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[e]),t}function B(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const P=({text:e,searchPattern:t})=>{if(t==="")return e;const r=B(t),n=e.match(new RegExp(`(^|.*\\P{L})(${r})(?:(.*\\P{L})(${r}))*?(.*)`,"iu"));return n?c.jsx(c.Fragment,{children:n.slice(1).map((a,o)=>o%2===0?a:c.jsx("span",{className:"highlighted",children:a},o))}):e},Y=({object:e,field:t})=>{const{searchBy:r,searchString:n}=m(),a=n.toLowerCase();return r===t?c.jsx(h,{object:e,query:n,field:t}):r===i.AllNames&&[i.EngName,i.Endonym].includes(t)?c.jsx(h,{object:e,query:n,field:t}):r===i.NameOrCode&&[i.EngName,i.Code].includes(t)?c.jsx(h,{object:e,query:n,field:t}):C(e,t,a)},h=({object:e,field:t,query:r})=>c.jsx(P,{text:C(e,t,r),searchPattern:r.toLowerCase()});function C(e,t,r){switch(t){case i.AllNames:return e.names.filter(n=>y(n,(r==null?void 0:r.toLowerCase())??""))[0]??"";case i.Code:return e.codeDisplay;case i.Endonym:return e.nameEndonym??"";case i.EngName:return e.nameDisplay;case i.NameOrCode:return e.nameDisplay+" ["+e.codeDisplay+"]"}}function Z(e,t,r){switch(e.type){case s.Language:return(e.populationCited??0)+0;case s.Locale:return e.populationSpeaking;case s.Census:return e.languageCount;case s.WritingSystem:return e.populationUpperBound+0;case s.Territory:return e.population;default:return 0}}function K(){const{searchBy:e,searchString:t}=m();return t==""?()=>!0:W(t.toLowerCase(),e)}function W(e,t){const r=e.toLowerCase();switch(t){case i.Code:case i.Endonym:case i.EngName:case i.NameOrCode:return n=>y(C(n,t),r);case i.AllNames:return n=>n.names.map(a=>y(a,r)).reduce((a,o)=>a||o,!1)}}function Q(){var a,o;const{territoryFilter:e}=m(),t=e.split("["),r=(a=t[0])==null?void 0:a.toLowerCase().trim();let n="";return e.length===2?n=e.toUpperCase():e.length===3&&e.match(/^[0-9]{3}$/)?n=e:t.length>1&&(n=(o=t[1].split("]")[0])==null?void 0:o.toUpperCase()),l.useCallback(u=>{if(e=="")return!0;const g=$(u);return n!==""?g.some(p=>p.ID===n):g.some(p=>p.nameDisplay.toLowerCase().startsWith(r))},[e,n,r])}function $(e){switch(e.type){case s.Territory:return[e,e.parentUNRegion,e.sovereign].filter(t=>t!=null);case s.Locale:return[e.territory].filter(t=>t!=null);case s.Census:return[e.territory].filter(t=>t!=null);case s.Language:return e.locales.map(t=>t.territory).filter(t=>t!=null);case s.WritingSystem:return[e.territoryOfOrigin].filter(t=>t!=null)}}function V(){const{languageScopes:e,territoryScopes:t}=m();function r(n){switch(n.type){case s.Language:return e.length==0||e.includes(n.scope??f.SpecialCode);case s.Territory:return t.length==0||t.includes(n.scope);case s.Locale:return H(n,e,t);case s.Census:case s.WritingSystem:return!0}}return r}function H(e,t,r){var o,u;const n=t.includes(((o=e.language)==null?void 0:o.scope)??f.SpecialCode),a=r.includes(((u=e.territory)==null?void 0:u.scope)??x.Country);return(t.length==0||n)&&(r.length==0||a)}function G(){const{page:e,limit:t}=m();return r=>t<1||r.length<t?r:r.slice(t*(e-1),t*e)}function J(e){switch(e.type){case s.Census:return[e.modality,e.proficiency,e.acquisitionOrder,e.domain&&e.domain!="Any"?"@"+e.domain:null].filter(t=>t!=null&&t!="Any").join(", ");case s.Language:return R(e);case s.Locale:return;case s.Territory:return e.scope;case s.WritingSystem:return e.nameDisplay!=e.nameFull?e.nameFull:void 0}}function R(e){let t=e.nameSubtitle,r=e.scope;t==="macrolanguage"&&(t=void 0),r==f.Language&&(r=void 0);const n=[r,t].filter(Boolean).join(", ");return n!==""?n:void 0}function z(e){switch(e){case s.Census:return"censuses";case s.Language:return"languages";case s.Locale:return"locales";case s.Territory:return"territories";case s.WritingSystem:return"writing systems"}}export{_ as E,I as H,Y as O,q as X,W as a,C as b,S as c,h as d,K as e,Q as f,V as g,G as h,z as i,J as j,Z as k,X as u};
