import{j as e,u as m,h as Me,d as M,T as B,S as k,V as Y,r as b,R as F,H as A,c as C,W as xe,O as u,a as H,k as Q,L as je}from"./index-P_Lv3w9X.js";import{c as w,S as G,a as q,o as ee,X as pe,s as Be,t as E,e as D,g as X,O as ze,f as re,h as ie,i as Re,I as ae,k as Ve}from"./filter-BIuC9HPt.js";import{c as me,u as W,a as _e,C as $e,g as Se,d as J}from"./DataContext-B6HOrH_y.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["rect",{x:"15",y:"4",width:"4",height:"6",ry:"2",key:"1bwicg"}],["path",{d:"M17 20v-6h-2",key:"1qp1so"}],["path",{d:"M15 20h4",key:"1j968p"}]],He=w("arrow-down-0-1",Ue);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M17 10V4h-2",key:"zcsr5x"}],["path",{d:"M15 10h4",key:"id2lce"}],["rect",{x:"15",y:"14",width:"4",height:"6",ry:"2",key:"33xykx"}]],qe=w("arrow-down-1-0",Ge);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],Ze=w("arrow-down-a-z",Xe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M15 4h5l-5 6h5",key:"8asdl1"}],["path",{d:"M15 20v-3.5a2.5 2.5 0 0 1 5 0V20",key:"r6l5cz"}],["path",{d:"M20 18h-5",key:"18j1r2"}]],Je=w("arrow-down-z-a",Ye);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ke=w("circle-check",Qe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tt=w("circle-x",et);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],nt=w("ellipsis",st);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],it=w("external-link",rt);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],lt=w("skip-back",at);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],ct=w("skip-forward",ot);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M22 2 2 22",key:"y4kqgn"}]],O=w("slash",dt);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=[["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["polygon",{points:"14,20 4,12 14,4",key:"ypakod"}]],ut=w("step-back",ht);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=[["line",{x1:"6",x2:"6",y1:"4",y2:"20",key:"fy8qot"}],["polygon",{points:"10,4 20,12 10,20",key:"1mc1pf"}]],xt=w("step-forward",gt);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ve=w("triangle-alert",jt),y=({children:t})=>e.jsx("span",{style:{fontStyle:"italic",fontWeight:"lighter",color:"var(--color-text-secondary)"},children:t}),pt=()=>{const{languageScopes:t,searchBy:s,searchString:n,territoryFilter:r,territoryScopes:i,updatePageParams:a,view:l}=m(),o=Me(),c=[!me(t,o.languageScopes)&&e.jsx(G,{selectorStyle:{marginLeft:"0"},options:Object.values(M),display:q.InlineDropdown,onChange:h=>t.includes(h)?a({languageScopes:t.filter(j=>j!=h)}):a({languageScopes:[...t,h]}),selected:t}),!me(i,o.territoryScopes)&&e.jsx(G,{selectorStyle:{marginLeft:"0"},options:Object.values(B),display:q.InlineDropdown,onChange:h=>i.includes(h)?a({territoryScopes:i.filter(j=>j!=h)}):a({territoryScopes:[...i,h]}),selected:i}),r!==""&&e.jsxs(e.Fragment,{children:['In "',r,'"',e.jsx(ee,{buttonType:"reset",onClick:()=>a({territoryFilter:""}),style:{padding:"0.25em"},children:e.jsx(pe,{size:"1em",display:"block"})})]}),n!==""&&e.jsxs(e.Fragment,{children:[e.jsx(G,{options:Object.values(k),display:q.InlineDropdown,onChange:h=>a({searchBy:h}),selected:s})," ",'contains "',n,'"',e.jsx(ee,{buttonType:"reset",onClick:()=>a({searchString:""}),style:{padding:"0.25em"},children:e.jsx(pe,{size:"1em",display:"block"})})]})];return l===Y.Details?e.jsx(e.Fragment,{}):c.filter(h=>h).length===0?e.jsxs(e.Fragment,{children:[e.jsx(O,{size:"1em"}),e.jsx(y,{children:"No filters applied"})]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{size:"1em"}),c.filter(h=>h).map((h,j)=>e.jsxs(b.Fragment,{children:[j!==0&&e.jsx(O,{size:"1em"}),h]},j))]})};function le(t){const{objectID:s}=m(),{censuses:n,getObject:r}=W(),i=t??s;if(i!=null)return n[i]??r(i)}const f=({children:t,limit:s=4})=>{const n=F.Children.toArray(t),[r,i]=b.useState(!1),a=n.length-(s??0);return e.jsxs("span",{children:[n.slice(0,!r&&s?s:void 0).map((l,o)=>e.jsxs(F.Fragment,{children:[l,o<n.length-1&&", "]},o))," ",s!=null&&n.length>s&&e.jsx("button",{style:{padding:"0em 0.25em",fontWeight:"normal"},onClick:()=>i(l=>!l),children:r?"see less":"+"+a+" more"})]})},R=({object:t,highlightSearchMatches:s=!1})=>{var j;const{searchBy:n,searchString:r}=m(),i=Be(t),{codeDisplay:a,nameDisplay:l,nameEndonym:o}=t;if(!s)return e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:l}),o&&l!=o&&" "+o," [",a,"]",i!=null&&e.jsx("div",{className:"subtitle",children:i})]});let c=null;if(n===k.AllNames){const p=r.toLowerCase();!t.nameDisplay.toLowerCase().includes(p)&&!((j=t.nameEndonym)!=null&&j.toLowerCase().includes(p))&&(c=e.jsxs(e.Fragment,{children:["aka"," ",e.jsx(E,{object:t,field:k.AllNames})]}))}const h=[i,c].filter(Boolean);return e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:e.jsx(E,{object:t,field:k.EngName})})," ",l!=o&&e.jsx("div",{style:{display:"inline-block"},children:e.jsx(E,{object:t,field:k.Endonym})})," ","[",e.jsx(E,{object:t,field:k.Code}),"]",h.length>0&&e.jsx("div",{className:"subtitle",children:e.jsx(f,{limit:null,children:h})})]})},mt=({census:t})=>{const{ID:s,isoRegionCode:n,languageCount:r,territory:i}=t,{updatePageParams:a}=m();return e.jsxs("div",{children:[e.jsx("h3",{children:e.jsx("a",{onClick:()=>a({objectID:s}),role:"link",children:e.jsx(R,{object:t,highlightSearchMatches:!0})})}),e.jsxs("div",{children:[e.jsx("h4",{children:"Languages"}),r.toLocaleString()]}),e.jsxs("div",{children:[e.jsx("h4",{children:"Territory"}),i!=null?e.jsx(g,{object:i}):e.jsx("span",{children:n})]})]})},K=()=>e.jsx(A,{hoverContent:e.jsx(e.Fragment,{children:"Take this data with a grain of salt. Population data is still in review. Some of the data is estimates from adding up other sources (which may or may not disambiguate multilingual speakers). We are still working on making valid citations and normalizing the data so languages can be properly compared."}),style:{fontWeight:"lighter"},children:"â€ "});function z({href:t,children:s}){return e.jsx("a",{href:t,children:e.jsxs("button",{role:"link",style:{marginLeft:"0.5em",marginBottom:"0.25em",padding:s!==""?"0.25em":"0"},children:[s,e.jsx(it,{size:"1em",style:{marginLeft:"0.25em",verticalAlign:"middle",paddingBottom:"0.125em",paddingRight:"0.125em"}})]})})}var U=(t=>(t.Metascore="Metascore",t.ISO="ISO",t.Eth2013="Eth2013",t.Eth2025="Eth2025",t))(U||{});function oe(t){if(!t)return null;switch(t.toLowerCase()){case"national":return 9;case"provincial":case"regional":return 8;case"trade":case"wider communication":return 7;case"educational":return 6;case"written":case"developing":return 5;case"vigorous":case"threatened":return 4;case"shifting":return 3;case"moribund":case"nearly extinct":return 2;case"dormant":return 1;case"extinct":return 0;default:return null}}function ce(t){if(!t)return null;switch(t.toLowerCase()){case"1 institutional":return 9;case"2 stable":return 6;case"3 endangered":return 3;case"4 extinct":return 0;default:return null}}function Ce(t){if(!t)return null;switch(t.toLowerCase()){case"living":return 9;case"constructed":return 3;case"historical":return 1;case"extinct":return 0;default:return null}}function V(t,s,n){var r;switch(t){case"ISO":return e.jsxs("div",{children:[e.jsxs("div",{children:["ISO Vitality: ",s.vitalityISO]}),e.jsxs("div",{children:["Normalized to a score of ",n," out of 9."]})]});case"Eth2013":return e.jsxs("div",{children:[e.jsxs("div",{children:["Ethnologue 2013 Vitality: ",s.vitalityEth2013,e.jsx(z,{href:"https://www.ethnologue.com/methodology/#language-status",children:"methodology"})]}),e.jsxs("div",{children:["Normalized to a score of ",n," out of 9."]})]});case"Eth2025":return e.jsxs("div",{children:[e.jsxs("div",{children:["Ethnologue 2025 Vitality: ",s.vitalityEth2025]}),e.jsxs("div",{children:["Normalized to a score of ",n," out of 9."]})]});case"Metascore":{const i=oe(s.vitalityEth2013||""),a=ce(s.vitalityEth2025||"");if(i!==null&&a!==null){const l=(i+a)/2;return e.jsxs("div",{children:[e.jsxs("div",{children:["Ethnologue changed the methodology of its vitality scores. So we convert them to a normalized score and averaged the data from 2013 and 2025. Average:"," ",l.toFixed(1),"."]}),e.jsxs("div",{style:{marginLeft:"2em"},children:["2013: ",s.vitalityEth2013," (",i,")"," ",e.jsx(z,{href:"https://www.ethnologue.com/methodology/#language-status",children:"methodology"})]}),e.jsxs("div",{style:{marginLeft:"2em"},children:["2025: ",(r=s.vitalityEth2025)==null?void 0:r.split(" ")[1]," (",a,")"]})]})}return"No vitality data available"}default:return"Unknown vitality type"}}function yt(t){const s=oe(t.vitalityEth2013||""),n=ce(t.vitalityEth2025||""),r=Ce(t.vitalityISO||"");let i=null,a="No vitality data available";return s!==null&&n!==null?(i=(s+n)/2,a=V("Metascore",t,i)):s!==null?(i=s,a=V("Eth2013",t,i)):n!==null?(i=n,a=V("Eth2025",t,i)):r!==null&&(i=r,a=V("ISO",t,i)),{score:i,explanation:a}}function ft(t){const s=Ce(t.vitalityISO||""),n=oe(t.vitalityEth2013||""),r=ce(t.vitalityEth2025||""),i=yt(t);return{ISO:{score:s,explanation:V("ISO",t,s)},Eth2013:{score:n,explanation:V("Eth2013",t,n)},Eth2025:{score:r,explanation:V("Eth2025",t,r)},Metascore:i}}const Z=({lang:t,type:s})=>{const n=ft(t),{score:r,explanation:i}=n[s];return r===null?e.jsx(y,{children:"Data not available"}):e.jsx(A,{hoverContent:i,children:e.jsx("meter",{min:0,low:3,high:7,optimum:8,max:9,value:r,style:{width:"100%",minWidth:"8em"}})})},bt=({lang:t,includeRelations:s})=>{const{updatePageParams:n}=m(),r=D(),{ID:i,locales:a,modality:l,populationEstimate:o}=t,c=_e(a.filter(h=>{var j;return((j=h.territory)==null?void 0:j.scope)===B.Country}).sort(r),h=>h.territoryCode??"");return e.jsxs("div",{children:[e.jsx("h3",{children:e.jsx("a",{onClick:()=>n({objectID:i}),children:e.jsx(R,{object:t,highlightSearchMatches:!0})})}),o!=null&&e.jsxs("div",{children:[e.jsxs("h4",{children:["Population ",e.jsx(K,{})]}),o.toLocaleString()]}),l!=null&&e.jsxs("div",{children:[e.jsx("h4",{children:"Modality"}),l]}),e.jsxs("div",{children:[e.jsx("h4",{children:"Vitality"}),e.jsx(Z,{lang:t,type:U.Metascore})]}),s&&c.length>0&&e.jsxs("div",{children:[e.jsx("h4",{children:"Countries:"}),e.jsx(f,{children:c.map(h=>e.jsx(g,{labelSource:"territory",object:h},h.ID))})]})]})};function St(t){const s=Intl.NumberFormat(void 0,{notation:"compact",compactDisplay:"long"}).format(t);return Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:0}).format(10).replace(new RegExp("\\p{Decimal_Number}+","u"),s)}function vt(t,s){if(t===0)return 0;const n=Math.pow(10,s-Math.ceil(Math.log10(Math.abs(t))));return Math.round(t*n)/n}function T(t,s=2){return Math.abs(t)>10?t.toFixed(s-1):Math.abs(t)>1?t.toFixed(s):t.toPrecision(s)}const Le=({locale:t,size:s="full"})=>{var r,i;const{populationCensus:n}=t;if(n!=null){const{yearCollected:a,collectorName:l,collectorType:o}=n;if(o===$e.CLDR)return e.jsx(_,{object:n,children:l??o});let c=l;if(c==null||c===""||s==="short")switch(o){case"Government":c=((r=t.territory)==null?void 0:r.nameDisplay)??t.territoryCode;break;default:c=o}return e.jsxs(_,{object:n,children:[c," ",a]})}if(s==="short")switch(t.populationSource){case C.Census:case C.Study:case C.Ethnologue:break;case C.EDL:return"EDL";case C.NoSource:return e.jsx(y,{children:"no source"});case C.OtherCitation:case C.GeneralizedData:case C.Fallback:case C.Aggregated:return e.jsx(y,{children:"rough estimate"})}switch(t.populationSource){case C.Census:return(((i=t.territory)==null?void 0:i.nameDisplay)??t.territoryCode)+" census";case C.Study:return"Study";case C.Ethnologue:return"Ethnologue";case C.EDL:return"Endangered Languages Project";case C.OtherCitation:return"weak source, better citation needed";case C.GeneralizedData:return"added up from other cited estimates";case C.Fallback:return"upper bound based on language / country populations";case C.NoSource:return"no source";case C.Aggregated:return"aggregated from other sources"}},Ct=({locale:t})=>{const{ID:s,populationSpeaking:n,officialStatus:r,populationSpeakingPercent:i,territory:a}=t,{updatePageParams:l}=m();return e.jsxs("div",{children:[e.jsx("h3",{children:e.jsx("a",{onClick:()=>l({objectID:s}),children:e.jsx(R,{object:t,highlightSearchMatches:!0})})}),n!=null&&e.jsxs("div",{children:[e.jsx("h4",{children:"Speakers"}),n.toLocaleString()," [",e.jsx(Le,{locale:t,size:"short"}),"]",i!=null&&e.jsxs("div",{children:[T(i),"% of"," ",(a==null?void 0:a.scope)??"territory"]})]}),r&&e.jsxs("div",{children:[e.jsx("h4",{children:"Government status"}),Se(r)]})]})},Lt=({territory:t})=>{const{population:s,ID:n,sovereign:r,locales:i}=t,{updatePageParams:a}=m(),l=X();return e.jsxs("div",{children:[e.jsx("h3",{children:e.jsx("a",{onClick:()=>a({objectID:n}),children:e.jsx(R,{object:t,highlightSearchMatches:!0})})}),e.jsxs("div",{children:[e.jsx("h4",{children:"Population"}),s.toLocaleString()]}),i&&i.length>0&&e.jsxs("div",{children:[e.jsx("h4",{children:"Languages:"}),e.jsx(f,{children:Object.values(i).filter(l).map(o=>e.jsx(g,{labelSource:"language",object:o},o.ID))})]}),r!=null&&e.jsxs("div",{children:[e.jsx("h4",{children:"Part of:"}),e.jsx(g,{object:r})]})]})},kt=({data:t})=>{const{updatePageParams:s}=m(),{ID:n,nameDisplay:r,languages:i}=t;return e.jsxs("div",{children:[e.jsx("h3",{children:e.jsx("a",{onClick:()=>s({objectID:n}),role:"link",children:e.jsx(R,{object:t,highlightSearchMatches:!0})})}),e.jsxs("div",{children:[e.jsx("label",{children:"Name:"}),r]}),i&&Object.values(i).length>0&&e.jsxs("div",{children:[e.jsx("label",{children:"Languages:"}),e.jsx(f,{children:Object.values(i).map(a=>e.jsx(g,{object:a},a.ID))})]})]})},Dt=({writingSystem:t})=>{const{containsWritingSystems:s,ID:n,languages:r,parentWritingSystem:i,populationUpperBound:a,rightToLeft:l,sample:o,scope:c,unicodeVersion:h}=t,j=X(),{updatePageParams:p}=m();return e.jsxs("div",{children:[e.jsx("h3",{children:e.jsx("a",{onClick:()=>p({objectID:n}),children:e.jsx(R,{object:t,highlightSearchMatches:!0})})}),l===!0&&e.jsx("div",{children:"Right to Left"}),h===null&&e.jsx("div",{children:"Not supported by Unicode"}),o!=null&&e.jsxs("div",{children:[e.jsx("h4",{children:"Sample"}),o]}),r&&Object.values(r).length>0&&e.jsxs("div",{children:[e.jsx("label",{children:"Languages:"}),e.jsx(f,{children:Object.values(r).filter(j).map(S=>e.jsx(g,{object:S},S.ID))})]}),(a??0)>100&&e.jsxs("div",{children:[e.jsxs("label",{children:["Population (Upper bound",e.jsx(K,{}),"):"]}),a==null?void 0:a.toLocaleString()]}),c===xe.Variation&&i&&e.jsxs("div",{children:[e.jsx("label",{children:"Variant of:"}),e.jsx(g,{object:i})]}),c==xe.Group&&s&&s.length>0&&e.jsxs("div",{children:[e.jsx("label",{children:"Contains:"}),e.jsx(f,{children:s.map(S=>e.jsx(g,{object:S},S.ID))})]})]})},_=({object:t,children:s,style:n})=>{const{view:r,updatePageParams:i}=m();if(t==null)return e.jsx(e.Fragment,{children:s});const a=()=>{switch(t.type){case u.Census:return e.jsx(mt,{census:t});case u.Language:return e.jsx(bt,{lang:t});case u.Locale:return e.jsx(Ct,{locale:t});case u.Territory:return e.jsx(Lt,{territory:t});case u.WritingSystem:return e.jsx(Dt,{writingSystem:t});case u.VariantTag:return e.jsx(kt,{data:t})}};return e.jsx(A,{hoverContent:e.jsxs(e.Fragment,{children:["Click to"," ",r===Y.Details?"change page to see the details for:":"open modal with more information for:",e.jsx("div",{children:e.jsx("strong",{children:t.type})}),a()]}),onClick:()=>i({objectType:r===Y.Details?t.type:void 0,objectID:t.ID}),style:n,children:s})},g=({object:t,labelSource:s="name",format:n="text",style:r})=>{var a,l;if(!t)return null;let i=s=="code"?t.codeDisplay:t.nameDisplay;return t.type===u.Locale&&(s=="language"?i=((a=t.language)==null?void 0:a.nameDisplay)??t.languageCode:s=="territory"&&(i=((l=t.territory)==null?void 0:l.nameDisplay)??t.territoryCode??"[no territory]")),e.jsx(_,{object:t,children:e.jsx("span",{style:r,children:n==="text"?i:e.jsx("button",{children:i})})})};function te(t){if(t==null)return[];switch(t.type){case u.Census:return[t.territory];case u.Language:return[...te(t.parentLanguage),t.parentLanguage];case u.Locale:return[t.language,t.writingSystem,t.territory,...t.variantTags??[]];case u.Territory:return[...te(t.parentUNRegion),t.parentUNRegion];case u.WritingSystem:return[t.parentWritingSystem];case u.VariantTag:return[t.languages[0]]}}function wt(t){if(t==null)return[];switch(t.type){case u.Census:return[];case u.Language:return t.childLanguages;case u.Locale:return t.containedLocales??[];case u.Territory:return[...t.containsTerritories??[],...t.dependentTerritories??[]];case u.WritingSystem:return t.childWritingSystems??[];case u.VariantTag:return t.locales}}function It(t,s){switch(t.type){case u.Census:return"n/a";case u.Language:switch(t.scope){case M.Family:return s>1?"languages or subfamilies":"language or subfamily";case M.Macrolanguage:case M.SpecialCode:return"language"+(s>1?"s":"");case M.Language:case M.Dialect:return"dialect"+(s>1?"s":"")}return"dialect"+(s>1?"s":"");case u.Locale:return"variant"+(s>1?"s":"");case u.Territory:switch(t.scope){case B.World:return"continent"+(s>1?"s":"");case B.Continent:case B.Region:return"region"+(s>1?"s":"");case B.Subcontinent:return"territor"+(s>1?"ies":"y");case B.Country:case B.Dependency:return"subdivision"+(s>1?"s":"")}case u.WritingSystem:return"child writing system"+(s>1?"s":"");case u.VariantTag:return"locale"+(s>1?"s":"")}}const Nt=({object:t})=>{const{updatePageParams:s}=m(),n=D();if(!t)return null;const r=wt(t).filter(l=>l!=null).sort(n);if(r.length<1)return null;const i=r.map(l=>l.ID),a=It(t,r.length);return e.jsxs(e.Fragment,{children:[e.jsx(O,{size:"1em"}),e.jsx(G,{onChange:l=>s({objectID:l,objectType:t.type}),selected:r.length+" "+a,display:q.InlineDropdown,options:i,getOptionLabel:l=>{const o=r.find(c=>c.ID===l);return o?o.nameDisplay:l}})]})},Pt=({object:t})=>{if(!t)return null;const s=te(t).filter(n=>n!=null);return s.length>2?e.jsx(Ot,{parents:s}):s.map((n,r)=>e.jsxs(b.Fragment,{children:[e.jsx(O,{size:"1em"}),e.jsx(g,{object:n})]},r))},Ot=({parents:t})=>{const[s,n]=F.useState(!1),r=t.slice(1,-1).map((i,a)=>e.jsxs(F.Fragment,{children:[a!==0&&e.jsx(O,{size:"1em"}),e.jsx(g,{object:i})]},"ancestor"+a));return e.jsxs(e.Fragment,{children:[e.jsx(O,{size:"1em"}),e.jsx(g,{object:t[0]}),e.jsx(A,{onClick:()=>n(i=>!i),hoverContent:s?"Hide intermediate ancestors":`Show ${r.length} more ancestors`,children:e.jsxs("div",{style:{display:"flex",gap:".25em"},children:[e.jsx(O,{size:"1em",display:"block"}),e.jsx(nt,{size:"1em",display:"block"})]})}),s&&e.jsx(e.Fragment,{children:r}),e.jsx(O,{size:"1em"}),e.jsx(g,{object:t[t.length-1]})]})},Tt=()=>{const{objectID:t}=m(),s=le(t);return s?e.jsxs(e.Fragment,{children:[e.jsx(Pt,{object:s}),e.jsx(Ft,{object:s}),e.jsx(Nt,{object:s})]}):null},Ft=({object:t})=>t?e.jsxs(e.Fragment,{children:[t.type===u.Locale?e.jsx("span",{style:{fontWeight:"bold"},children:":"}):e.jsx(O,{size:"1em"}),e.jsx(g,{object:t,style:{fontWeight:"bold"}})]}):null,Ls=()=>e.jsxs(Wt,{children:[e.jsx(Et,{}),e.jsx(O,{size:"1em"}),e.jsx(At,{}),e.jsx(pt,{}),e.jsx(Tt,{})]}),Et=()=>{const{objectType:t,updatePageParams:s,view:n}=m(),r=b.useCallback(i=>{s({objectID:void 0,objectType:i,view:n,searchString:void 0,page:1})},[s,n]);return e.jsx(G,{display:q.InlineDropdown,options:Object.values(u),onChange:r,selected:t,getOptionDescription:i=>e.jsx(ze,{objectType:i})})},At=()=>{const{view:t,updatePageParams:s}=m();return e.jsx(G,{display:q.InlineDropdown,options:Object.values(Y),onChange:n=>s({view:n,objectID:void 0}),selected:t})},Wt=({children:t,style:s})=>e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5em",flexWrap:"wrap",...s},children:t}),Mt=({currentPage:t,totalPages:s})=>{const{updatePageParams:n}=m();if(s<=1)return e.jsx(e.Fragment,{});const r={lineHeight:"1.5",padding:"0em 0.25em",fontSize:"1em",fontWeight:"normal",margin:"0 -0.125em",borderRadius:"0"};return e.jsxs(e.Fragment,{children:["Page:",e.jsxs("div",{className:"selector",style:{marginBottom:0,marginLeft:"0.5em",marginRight:"0.5em",display:"inline-flex",verticalAlign:"middle",alignItems:"normal"},children:[e.jsx("button",{onClick:()=>n({page:1}),disabled:t===1,style:{...r,borderRadius:"1em 0 0 1em"},children:e.jsx(lt,{size:"1em",display:"block"})}),e.jsx("button",{onClick:()=>n({page:Math.max(1,t-1)}),disabled:t===1,style:r,children:e.jsx(ut,{size:"1em",display:"block"})}),e.jsx("input",{className:t===1?"empty":"",min:1,max:s,value:t,onChange:i=>n({page:parseInt(i.target.value)}),style:{...r,width:50,textAlign:"center"}}),e.jsx("button",{onClick:()=>n({page:Math.min(s,t+1)}),disabled:t>=s,style:r,children:e.jsx(xt,{size:"1em",display:"block"})}),e.jsx("button",{onClick:()=>n({page:s}),disabled:t===s,style:{...r,borderRadius:"0 1em 1em 0"},children:e.jsx(ct,{size:"1em",display:"block"})})]})]})},Bt=({objects:t,shouldFilterUsingSearchBar:s=!0})=>{const{page:n,limit:r,territoryFilter:i}=m(),a=s?re():()=>!0,l=ie(),o=X(),c=b.useMemo(()=>t.filter(o).length,[t,o]),h=b.useMemo(()=>t.filter(o).filter(l).length,[t,o,l]),j=b.useMemo(()=>t.filter(o).filter(l).filter(a).length,[t,o,l,a]),p=t.length,S=p-c,v=c-h,x=h-j,I=j,N=r<1?1:Math.ceil(I/r);if(p===0)return"Data is still loading. If you are waiting awhile there could be an error in the data.";let P=r;return(n>N||r<1)&&(P=0),n===N&&(P=I-(N-1)*r),e.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.25em",flexWrap:"wrap",justifyContent:"center"},children:[e.jsxs("div",{children:["Showing ",e.jsx("strong",{children:P.toLocaleString()}),I>P&&e.jsxs(e.Fragment,{children:[" of ",e.jsx("strong",{children:I.toLocaleString()})]})," results."]}),p>I&&e.jsx(A,{hoverContent:e.jsxs(e.Fragment,{children:[S>0&&e.jsxs("div",{children:["Out of scope: ",S.toLocaleString()]}),v>0&&e.jsxs("div",{children:["Not in territory (",i,"): ",v.toLocaleString()]}),x>0&&e.jsxs("div",{children:["Not matching substring: ",x.toLocaleString()]})]}),children:e.jsxs(y,{children:[(p-I).toLocaleString()," filtered out."]})}),N>1&&e.jsxs("div",{children:["On ",e.jsx(Mt,{currentPage:n,totalPages:N}),"of ",N.toLocaleString(),"."]})]})},d=({children:t,title:s})=>e.jsxs("div",{style:{minWidth:"200px"},children:[e.jsx("span",{style:{fontWeight:600,marginRight:4},children:s}),t]}),L=({children:t,title:s})=>e.jsxs("div",{style:{marginBottom:"1em"},children:[e.jsx("h3",{style:{marginBottom:"0.25em"},children:s}),t]}),ke=({percentNew:t,percentOld:s})=>{if(s==null)return e.jsx(y,{children:e.jsx("span",{style:{fontSize:"0.8em"},children:"n/a"})});const n=t-s,r=n*100/s;let i=T(n)+" pp",a="var(--color-text-secondary)",l="1em";return Math.abs(r)>10?n>0?(a="var(--color-text-blue)",i="+"+i):a="var(--color-text-orange)":(l="0.8em",Math.abs(r)>1?n>0&&(i="+"+i):n==0?i="=":i="â‰ˆ"),e.jsx(A,{style:{textDecoration:"none",cursor:"help"},hoverContent:e.jsxs(e.Fragment,{children:[e.jsx("label",{children:"Old value:"}),T(s),"%",e.jsx("br",{}),e.jsx("label",{children:"New value:"}),T(t),"%",e.jsx("br",{}),e.jsx("label",{children:"Relative difference:"}),r>0&&"+",T(r),"%",e.jsx("br",{}),e.jsx("label",{children:"Percentage point difference:"}),n>0&&"+",T(n)," pp",e.jsx("br",{})]}),children:e.jsx("span",{style:{color:a,fontSize:l},children:i})})},zt="20em",Rt={key:"ID",render:t=>e.jsx(E,{object:t,field:k.Code}),sortParam:H.Code},ks={key:"Name",render:t=>e.jsx(_,{object:t,style:{maxWidth:zt},children:e.jsx(E,{object:t,field:k.EngName})}),sortParam:H.Name},Ds={key:"Endonym",render:t=>e.jsx(E,{object:t,field:k.Endonym}),sortParam:H.Endonym,isInitiallyVisible:!1},Vt=()=>{const{censuses:t}=W();return e.jsx("div",{className:"separatedButtonList",children:["ca2021.1","ca2021.4","in2011c16.1","in2011c17.4"].map(s=>t[s]!=null&&e.jsx(g,{object:t[s],format:"button"},s))})},_t=()=>{const{getLanguage:t}=W();return e.jsx("div",{className:"separatedButtonList",children:["eng","spa","fra","rus","zho","ara"].map(s=>e.jsx(g,{object:t(s),format:"button"},s))})},$t=()=>{const{getLocale:t}=W();return e.jsx("div",{className:"separatedButtonList",children:["eng_US","spa_419","fra_FR","rus_RU","arb_001","zho_Hans_CN","cmn_CN"].map(s=>e.jsx(g,{object:t(s),format:"button"},s))})},Ut=()=>{const{getTerritory:t}=W();return e.jsx("div",{className:"separatedButtonList",children:["US","MX","FR","RU","EG","CN"].map(s=>e.jsx(g,{object:t(s),format:"button"},s))})},Ht=()=>{const{getVariantTag:t}=W();return e.jsx("div",{className:"separatedButtonList",children:["valencia","grclass","rumgr","pinyin"].map(s=>e.jsx(g,{object:t(s),format:"button"},s))})},Gt=()=>{const{getWritingSystem:t}=W();return e.jsx("div",{className:"separatedButtonList",children:["Latn","Cyrl","Arab","Hans","Hant"].map(s=>e.jsx(g,{object:t(s),format:"button"},s))})},ws=()=>{const{objectType:t}=m(),s=le();if(s==null){const n={[u.Census]:e.jsx(Vt,{}),[u.Language]:e.jsx(_t,{}),[u.Locale]:e.jsx($t,{}),[u.Territory]:e.jsx(Ut,{}),[u.WritingSystem]:e.jsx(Gt,{}),[u.VariantTag]:e.jsx(Ht,{})};return e.jsxs(se,{title:t+" Details",children:["This page shows details about a particular ",t," or other related entity. Use the search bar in the page or another view to find one. Here are some suggestions:",e.jsx("div",{style:{marginBottom:"2em"},children:n[t]}),"Or try another object type, for example:",Object.entries(n).filter(([r])=>r!==t).map(([r,i])=>e.jsxs("div",{style:{marginBottom:"1em"},children:[e.jsx("label",{children:r}),i]},r))]})}return e.jsx(se,{title:e.jsx(R,{object:s}),children:e.jsx(he,{object:s})})},se=({children:t,title:s})=>e.jsxs("div",{style:{maxWidth:"800px",marginLeft:"auto",marginRight:"auto",textAlign:"start"},children:[e.jsx("h2",{children:s}),t]}),qt=({columnSortBy:t,isNumeric:s=!1})=>{const{sortBy:n,updatePageParams:r,sortDirection:i}=m();if(!t)return e.jsx(e.Fragment,{});const a=b.useCallback(l=>{n!=l?r({sortBy:l,sortDirection:"normal"}):r({sortDirection:i==="normal"?"reverse":"normal"})},[n,r,i]);return e.jsx(ee,{className:n===t?"primary":"",style:{display:"inline-block",margin:0,marginLeft:"4px",padding:"2px",borderRadius:"2px"},hoverContent:"Click to sort by this column or to toggle the sort direction.",onClick:()=>a(t),children:e.jsx(Xt,{isNumeric:s,sortDirection:i})})};function Xt({isNumeric:t,sortDirection:s}){return t&&s==="reverse"?e.jsx(He,{size:"1em",display:"block"}):t&&s==="normal"?e.jsx(qe,{size:"1em",display:"block"}):!t&&s==="reverse"?e.jsx(Je,{size:"1em",display:"block"}):e.jsx(Ze,{size:"1em",display:"block"})}function Zt({objects:t,columns:s,shouldFilterUsingSearchBar:n=!0}){const{sortBy:r}=m(),i=D(),a=n?re():()=>!0,l=ie(),o=X(),[c,h]=b.useState(()=>Object.fromEntries(s.map(x=>[x.key,x.isInitiallyVisible??!0]))),j=b.useCallback(x=>{h(I=>({...I,[x]:!I[x]}))},[]),p=b.useMemo(()=>s.filter(x=>c[x.key]||x.sortParam===r),[s,c,r]),S=Re(),v=b.useMemo(()=>t.filter(o).filter(l).filter(a).sort(i),[i,t,a,l,o]);return e.jsxs("div",{className:"ObjectTableContainer",children:[e.jsx(Bt,{objects:t,shouldFilterUsingSearchBar:n}),e.jsxs("details",{style:{margin:".5em 0 1em 0",gap:".5em 1em"},children:[e.jsxs("summary",{style:{cursor:"pointer"},children:[p.length,"/",s.length," columns visible, click here to toggle."]}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:".5em"},children:s.map(x=>e.jsxs("label",{style:{cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:c[x.key]||!1,onChange:()=>j(x.key),style:{marginRight:"0.5rem"}}),x.label??x.key]},x.key))})]}),e.jsxs("table",{className:"ObjectTable",children:[e.jsx("thead",{children:e.jsx("tr",{children:p.map(x=>e.jsxs("th",{style:{textAlign:"start"},children:[x.label??x.key,e.jsx(qt,{columnSortBy:x.sortParam,isNumeric:x.isNumeric})]},x.key))})}),e.jsx("tbody",{children:S(v).map((x,I)=>e.jsx("tr",{children:p.map(N=>{let P=N.render(x);return typeof P=="number"&&(P=P.toLocaleString()),e.jsx("td",{className:N.isNumeric?"numeric":void 0,children:P},N.key)})},x.ID||I))})]}),v.length===1&&e.jsx("div",{style:{marginTop:"1em"},children:e.jsx(se,{title:e.jsx(R,{object:v[0]}),children:e.jsx(he,{object:v[0]})})})]})}const Yt=({census:t})=>{const{getLanguage:s,getLocale:n}=W(),{localeSeparator:r}=m(),i=[],a=Object.entries(t.languageEstimates).map(([c,h])=>{const j=s(c);return j==null?(i.push(c),null):{type:u.Locale,ID:c+"_"+t.isoRegionCode,codeDisplay:j.codeDisplay+r+t.isoRegionCode,languageCode:c,language:j,nameDisplay:j.nameDisplay,names:j.names,territory:t.territory,territoryCode:t.isoRegionCode,populationSource:t.nameDisplay,populationSpeaking:h,populationSpeakingPercent:h*100/(t.respondingPopulation||t.eligiblePopulation),populationCensus:t}}).filter(c=>c!=null),l=b.useCallback(c=>e.jsx(Jt,{actualLocale:n(c.ID)}),[n]),o=b.useCallback(c=>{var h;return e.jsx(ke,{percentNew:c.populationSpeakingPercent||0,percentOld:(h=n(c.ID))==null?void 0:h.populationSpeakingPercent})},[n]);return e.jsxs("div",{children:[i.length>0&&e.jsxs("div",{children:[e.jsx("label",{children:"Languages not found in the database:"}),i.join(", ")]}),e.jsx(Zt,{objects:a,shouldFilterUsingSearchBar:!1,columns:[Rt,{key:"Languages",render:c=>e.jsx(_,{object:c.language,children:e.jsx(E,{object:c,field:k.EngName})}),sortParam:H.Name},{key:"Population",render:c=>c.populationSpeaking,isNumeric:!0,sortParam:H.Population},{key:"Percent Within Territory",render:c=>c.populationSpeakingPercent!=null?T(c.populationSpeakingPercent)+"%":"N/A",isNumeric:!0,sortParam:H.RelativePopulation},{key:"Scope",render:c=>{var h;return(h=c.language)==null?void 0:h.scope},isInitiallyVisible:!1,isNumeric:!1},{key:"Locale Entry",label:e.jsx(A,{hoverContent:"The locale dataset has a canonical population estimate and may refer to estimates from multiple censuses. Hover for the canonical locale entry or click to see more details. The locale dataset does not contain every combination of language + territory so some may not be found.",children:"Locale Entry"}),render:l},{key:"Population Difference",label:e.jsx(A,{hoverContent:"The difference the population estimate in this census is compared to the canonical locale population estimate. This compares percentages, so 8.3% - 10.4% is -2.1 pp (percentage points). Values are colored if the difference is more than 10%.",children:"Population Difference"}),render:o,isNumeric:!0},{key:"Primary Territory",render:c=>{var j,p;const h=(p=(j=c.language)==null?void 0:j.locales.sort((S,v)=>(v.populationSpeaking??-1)-(S.populationSpeaking??-1))[0])==null?void 0:p.territory;return h?e.jsx(g,{object:h}):null},isInitiallyVisible:!0}]})]})},Jt=({actualLocale:t})=>t==null?e.jsx(y,{children:e.jsx("span",{style:{fontSize:"0.8em"},children:"not found"})}):e.jsx(_,{object:t,style:{verticalAlign:"middle"},children:e.jsx(ae,{size:"1em",display:"block"})}),Qt=({census:t})=>e.jsxs("div",{className:"Details",children:[e.jsx(Kt,{census:t}),e.jsx(es,{census:t}),e.jsx(ts,{census:t}),e.jsx(L,{title:"Languages",children:e.jsx(Yt,{census:t})})]});function Kt({census:t}){const{territory:s,isoRegionCode:n,domain:r,proficiency:i,acquisitionOrder:a,modality:l}=t;return e.jsxs(L,{title:"Primary Information",children:[e.jsx(d,{title:"Territory:",children:s!=null?e.jsx(g,{object:s}):e.jsx("span",{children:n})}),e.jsx(d,{title:"Year:",children:t.yearCollected}),l!=null&&e.jsx(d,{title:"Modality:",children:l}),i!=null&&e.jsx(d,{title:"Proficiency:",children:i}),a!=null&&e.jsx(d,{title:"Acquisition Order:",children:a}),r!=null&&e.jsx(d,{title:"Where language used:",children:r})]})}function es({census:t}){const{age:s,eligiblePopulation:n,geographicScope:r,languagesIncluded:i,notes:a,respondingPopulation:l,responsesPerIndividual:o,sampleRate:c}=t;return e.jsxs(L,{title:"Population Characteristics",children:[e.jsx(d,{title:"Eligible Population:",children:n.toLocaleString()}),l&&e.jsx(d,{title:"Responding Population:",children:l.toLocaleString()}),c&&e.jsxs(d,{title:"Sample rate:",children:[(c*100).toLocaleString(),"%"]}),i!=null&&e.jsx(d,{title:"Languages Included:",children:i}),r!=null&&e.jsx(d,{title:"Geographic Scope:",children:r}),s!=null&&e.jsx(d,{title:"Age:",children:s}),o!=null&&e.jsx(d,{title:"Responses per Individual:",children:o}),a!=null&&e.jsx(d,{title:"Notes:",children:a})]})}function ts({census:t}){const{citation:s,collectorName:n,collectorType:r,columnName:i,dateAccessed:a,datePublished:l,tableName:o,url:c}=t;return e.jsxs(L,{title:"Source",children:[e.jsx(d,{title:"Collected by:",children:n==null?r:`${n} (${r})`}),o&&e.jsx(d,{title:"Table Name:",children:o}),i&&e.jsx(d,{title:"Column Name:",children:i}),s&&e.jsx(d,{title:"Citation:",children:s}),c&&e.jsx(d,{title:"URL:",children:e.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:c})}),l&&e.jsx(d,{title:"Date Published:",children:new Date(l).toLocaleDateString()}),a&&e.jsx(d,{title:"Date Accessed:",children:new Date(a).toLocaleDateString()})]})}const De=F.createContext({allExpanded:!1,showInfoButton:!0,showPopulation:!1,showObjectIDs:!1,setAllExpanded:()=>{},setShowInfoButton:()=>{},setShowPopulation:()=>{},setShowObjectIDs:()=>{}}),ss=({children:t})=>{const[s,n]=F.useState(!1),[r,i]=F.useState(!0),[a,l]=F.useState(!1),[o,c]=F.useState(!1),h={allExpanded:s,showInfoButton:r,showPopulation:a,showObjectIDs:o,setAllExpanded:n,setShowInfoButton:i,setShowPopulation:l,setShowObjectIDs:c};return e.jsx(De.Provider,{value:h,children:t})};function we(){return F.useContext(De)}function ns(){const{allExpanded:t,showInfoButton:s,showPopulation:n,showObjectIDs:r,setAllExpanded:i,setShowInfoButton:a,setShowPopulation:l,setShowObjectIDs:o}=we();return e.jsxs("div",{className:"TreeListOptions",children:[e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:t,onChange:c=>i(c.target.checked)}),"Expand All"]}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:s,onChange:c=>a(c.target.checked)}),"Show Info Button"]}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:n,onChange:c=>l(c.target.checked)}),"Show Population"]}),e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:r,onChange:c=>o(c.target.checked)}),"Show Object IDs"]})]})}const Ie=({nodeData:t,isExpandedInitially:s=!1})=>{const{children:n,object:r,labelStyle:i,descendentsPassFilter:a}=t,{view:l,searchBy:o,searchString:c}=m(),[h,j]=b.useState(s||a),[p,S]=b.useState(!1),{limit:v}=m(),{allExpanded:x,showInfoButton:I,showObjectIDs:N,showPopulation:P}=we();let ue=N;c!=""&&l===Y.Hierarchy&&[k.Code,k.NameOrCode].includes(o)&&(ue=!0),b.useEffect(()=>j(s||a||x),[a,x]);const ge=Ve(r);return e.jsxs("li",{children:[n.length>0?e.jsx("button",{className:"TreeListExpandBranch",onClick:()=>{j($=>!$),S(!1)},children:h?"â–¼":"â–¶"}):e.jsx("div",{className:"TreeListExpandBranch empty"}),e.jsxs(e.Fragment,{children:[e.jsx("span",{style:i,children:e.jsx(E,{object:r,field:k.EngName})}),ue&&e.jsxs(e.Fragment,{children:[" ","[",e.jsx(E,{object:r,field:k.Code}),"]"]}),I&&e.jsx(_,{object:r,style:{marginLeft:"0.125em"},children:e.jsx(ae,{size:"1em"})}),P&&ge>0&&e.jsx("div",{className:"TreeListPopulation",children:ge.toLocaleString()})]}),h&&n.length>0&&e.jsxs("ul",{className:"TreeListBranch",children:[n.slice(0,v>0&&!p&&!x?v:void 0).map(($,We)=>e.jsx(Ie,{nodeData:$,isExpandedInitially:We===0},$.object.ID)),v>0&&n.length>v&&!p&&!x&&e.jsx("li",{children:e.jsxs("button",{className:"TreeListSeeAllDescendents",onClick:()=>S($=>!$),children:["See ",n.length-v," more descendents"]})})]})]})},ne=({rootNodes:t,suppressExpansion:s})=>e.jsx("ul",{className:"TreeListRoot",children:t.map((n,r)=>e.jsx(Ie,{nodeData:n,isExpandedInitially:!s&&r===0},n.object.ID))});function Ne(t,s){if(!s)return t.descendentsPassFilter=void 0,t;const n=t.children.map(r=>Ne(r,s)).filter(r=>r!=null);if(n.length>0?t.descendentsPassFilter=!0:t.descendentsPassFilter=!1,!s(t.object)){if(n.length===0)return;t.children=n}return t}const Pe=({rootNodes:t,description:s})=>{const{limit:n,searchString:r}=m(),i=re(),a=ie(),l=b.useCallback(o=>i(o)&&a(o),[i,a]);return e.jsx("div",{className:"TreeListView",children:e.jsxs(ss,{children:[e.jsxs("div",{style:{marginBottom:8},children:[s,n<t.length&&e.jsxs(e.Fragment,{children:[" ",n," of ",t.length," root nodes are shown. Update the item limit in the options panel to see more."]})]}),e.jsx(ne,{rootNodes:t.map(o=>Ne(o,r!==""?l:void 0)).filter(o=>o!=null).slice(0,n>0?n:void 0)}),e.jsx(ns,{})]})})},Is=()=>{const{languagesInSelectedSource:t}=W(),s=D(),n=X(),r=Oe(t,s,n);return e.jsx(Pe,{rootNodes:r,description:e.jsx(e.Fragment,{children:"Locales are grouped by the language/writing system/territory that is represented by the locale code. Most locale codes do not specify a writing system so they are grouped with the primary writing system for the language."})})};function Oe(t,s,n=()=>!0){return t.filter(n??(()=>!0)).filter(r=>r.locales.length>0).sort(s).map(r=>rs(r,s,n))}function rs(t,s,n){return{type:u.Locale,object:t,children:is(t,s,n)}}function is(t,s,n){const r=t.locales.filter(a=>a.scriptCode==null).sort(s).map(a=>Te(a)),i=Object.values(t.writingSystems).filter(a=>a.ID!=t.primaryScriptCode).sort(s).map(a=>ye(a,t.ID,s,n));if(t.primaryWritingSystem){const a=ye(t.primaryWritingSystem,t.ID,s,n);return a.children=[...r,...a.children].sort((l,o)=>s(l.object,o.object)),[a,...i]}return[...i,...r]}function ye(t,s,n,r){return{type:u.Locale,object:t,children:as(t,s,n,r)}}function as(t,s,n,r){return t.localesWhereExplicit?t.localesWhereExplicit.filter(i=>i.languageCode===s).filter(r).sort(n).map(i=>Te(i)):[]}function Te(t){return{type:u.Locale,object:t,children:[]}}const Fe=({object:t,parentNotes:s})=>{if(t.type!==u.Language)return null;const{cldrCoverage:n,cldrDataProvider:r,sourceSpecific:{CLDR:i}}=t;if(n==null)return r!=null?e.jsx(Fe,{object:r,parentNotes:[s,i.notes].filter(o=>o!=null)}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{warningNotes:s,infoNotes:i.notes}),e.jsx(y,{children:"Not supported by CLDR."})]});const a=n.actualCoverageLevel,l=a.charAt(0).toUpperCase()+a.slice(1);return e.jsxs(e.Fragment,{children:[e.jsx(fe,{warningNotes:s,infoNotes:i.notes})," ",e.jsx("span",{style:{color:ls(n.actualCoverageLevel)},children:l})," ","coverage by ",n.countOfCLDRLocales," locale",n.countOfCLDRLocales>1&&"s","."]})},Ee=({object:t})=>{if(t.type!==u.Language)return null;const{cldrCoverage:s,cldrDataProvider:n}=t;return s==null?n!=null?e.jsx(Ee,{object:n}):e.jsx(y,{children:"N/A"}):e.jsxs(e.Fragment,{children:[" ",s.inICU?e.jsx(Ke,{style:{color:"var(--color-text-green)",verticalAlign:"middle"},size:"1em"}):e.jsx(tt,{style:{color:"var(--color-text-red)",verticalAlign:"middle"},size:"1em"})]})},fe=({infoNotes:t,warningNotes:s})=>{if(!t&&!s)return null;let n=s??t;return Array.isArray(n)&&(n=e.jsx("div",{style:{display:"flex",gap:"0.5em",flexDirection:"column"},children:n.map((r,i)=>e.jsx("div",{children:r},i))})),e.jsx(A,{hoverContent:n,style:{textDecoration:"none"},children:s?e.jsx(ve,{style:{color:"var(--color-text-yellow)",verticalAlign:"sub"},size:"1em"}):e.jsx(ae,{style:{color:"var(--color-text-blue)",verticalAlign:"sub"},size:"1em"})})};function ls(t){switch(t){case J.Core:return"var(--color-text-secondary)";case J.Basic:return"var(--color-text-yellow)";case J.Moderate:return"var(--color-text-green)";case J.Modern:return"var(--color-text-blue)"}}const Ae=({object:t,size:s="normal"})=>{if(!(t.type===u.Language||t.type===u.Locale))return null;if(!t.wikipedia){if(t.type===u.Locale){const r=t.language;if(r!=null&&r.wikipedia)return e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{color:be(r.wikipedia.status)},children:r.wikipedia.status})," ","(see ",e.jsx(g,{object:r}),")"]})}return e.jsx(y,{children:"No Wikipedia"})}const n=t.wikipedia;return e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{color:be(n.status)},children:n.status}),n.status===Q.Active&&e.jsxs(e.Fragment,{children:[": ",n.articles.toLocaleString()," articles",s==="normal"&&`, ${n.activeUsers.toLocaleString()} active users`]}),e.jsx(z,{href:n.url,children:s==="normal"?n.url:""})]})};function be(t){switch(t){case Q.Active:return"var(--color-text-green)";case Q.Closed:return"var(--color-text-red)";case Q.Incubator:return"var(--color-text-yellow)"}}const os=({lang:t})=>{const{viabilityConfidence:s,viabilityExplanation:n}=t;return e.jsxs(L,{title:"Vitality & Viability",children:[e.jsx(d,{title:"Vitality Metascore:",children:e.jsx(Z,{lang:t,type:U.Metascore})}),e.jsx(d,{title:"ISO Vitality / Status:",children:e.jsx(Z,{lang:t,type:U.ISO})}),e.jsx(d,{title:"Ethnologue (2013):",children:e.jsx(Z,{lang:t,type:U.Eth2013})}),e.jsx(d,{title:"Ethnologue (2025):",children:e.jsx(Z,{lang:t,type:U.Eth2025})}),e.jsxs(d,{title:"Should use in World Atlas:",children:[s," ... ",n]}),e.jsx(d,{title:"CLDR Coverage:",children:e.jsx(Fe,{object:t})}),e.jsx(d,{title:"ICU Support:",children:e.jsx(Ee,{object:t})}),e.jsx(d,{title:"Wikipedia:",children:e.jsx(Ae,{object:t})})]})},Ns=()=>{const{languageSource:t}=m(),{languagesInSelectedSource:s}=W(),n=D(),r=X(),i=de(s.filter(a=>a.parentLanguage==null||!r(a.parentLanguage)),t,n,r);return e.jsx(Pe,{rootNodes:i,description:e.jsxs(e.Fragment,{children:["Showing ",e.jsx("strong",{children:"languages"}),", language families, and ",e.jsx("em",{children:"dialects"}),". Note that different people disagree on what it is a language/dialect/etc."]})})};function de(t,s,n,r=()=>!0){return t.filter(r).sort(n).map(i=>cs(i,s,n,r)).filter(i=>i!=null)}function cs(t,s,n,r){return{type:u.Language,object:t,children:de(t.sourceSpecific[s].childLanguages,s,n,r),labelStyle:{fontWeight:t.scope===M.Language||t.scope===M.Macrolanguage?"bold":"normal",fontStyle:t.scope===M.Dialect?"italic":"normal"}}}const ds=({lang:t})=>e.jsxs("div",{className:"Details",children:[e.jsx(hs,{lang:t}),e.jsx(us,{lang:t}),e.jsx(os,{lang:t}),e.jsx(gs,{lang:t})]}),hs=({lang:t})=>{const{codeISO6391:s,nameDisplay:n,nameEndonym:r,sourceSpecific:i}=t,{Glottolog:a,ISO:l,CLDR:o}=i,c=b.useMemo(()=>t.names.filter(h=>h!=n&&h!=r,[]),[n,t.names]);return e.jsxs(L,{title:"Identification",children:[c.length>0&&e.jsx(d,{title:"Other names:",children:c.join(", ")}),e.jsx(d,{title:"Language Code:",children:t.ID}),e.jsx(d,{title:"Glottocode:",children:a.code?e.jsxs(e.Fragment,{children:[a.code,e.jsx(z,{href:`https://glottolog.org/resource/languoid/id/${a.code}`,children:"Glottolog"})]}):e.jsx(y,{children:"Not in Glottolog"})}),e.jsx(d,{title:"ISO Code:",children:l.code?e.jsxs(e.Fragment,{children:[l.code,s?` | ${s}`:"",t.warnings&&t.warnings[je.isoCode]&&e.jsx(A,{hoverContent:t.warnings[je.isoCode],style:{marginLeft:"0.125em"},children:e.jsx(ve,{size:"1em",color:"var(--color-text-yellow)"})}),e.jsx(z,{href:`https://iso639-3.sil.org/code/${l.code}`,children:"ISO Catalog"})]}):e.jsx(y,{children:"Not in ISO catalog"})}),e.jsx(d,{title:"CLDR Code:",children:o.code?e.jsxs(e.Fragment,{children:[o.code,e.jsx(z,{href:`https://github.com/unicode-org/cldr/blob/main/common/main/${o.code}.xml`,children:"CLDR XML"})]}):e.jsx(y,{children:"Not in CLDR"})}),l.code&&e.jsxs(d,{title:"Other external links:",children:[e.jsx(z,{href:`https://www.ethnologue.com/language/${l.code}`,children:"Ethnologue"}),e.jsx(z,{href:`https://en.wikipedia.org/wiki/ISO_639:${l.code}`,children:"Wikipedia"})]})]})},us=({lang:t})=>{const{populationEstimate:s,modality:n,primaryWritingSystem:r,writingSystems:i}=t;return e.jsxs(L,{title:"Attributes",children:[s&&e.jsx(d,{title:e.jsxs(e.Fragment,{children:["Population",e.jsx(K,{}),":"]}),children:s.toLocaleString()}),n&&e.jsx(d,{title:"Modality:",children:n}),r&&e.jsx(d,{title:"Primary Writing System:",children:e.jsx(g,{object:r})}),Object.values(i).length>0&&e.jsx(d,{title:"Writing Systems:",children:e.jsx(f,{children:Object.values(i).sort(D()).map(a=>e.jsx(g,{object:a},a.ID))})})]})},gs=({lang:t})=>{const{languageSource:s}=m(),n=D(),{childLanguages:r,sourceSpecific:{ISO:i,Glottolog:a},variantTags:l}=t;return e.jsxs(L,{title:"Connections",children:[i.parentLanguage&&e.jsx(d,{title:"ISO group:",children:e.jsx(g,{object:i.parentLanguage})}),a.parentLanguage&&e.jsx(d,{title:"Glottolog group:",children:e.jsx(g,{object:a.parentLanguage})}),l&&l.length>0&&e.jsx(d,{title:"Variant Tags:",children:e.jsx(f,{children:l.map(o=>e.jsx(g,{object:o},o.ID))})}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[e.jsx(d,{title:"Descendent Languages:",children:r.length>0?e.jsx(ne,{rootNodes:de([t],s,n)}):e.jsx("div",{children:e.jsx(y,{children:"No languages come from this language."})})}),e.jsx(d,{title:"Locales:",children:t.locales.length>0?e.jsx(ne,{rootNodes:Oe([t],n)}):e.jsx("div",{children:e.jsx(y,{children:"There are no recorded locales for this language."})})})]})]})},xs=({locale:t})=>e.jsxs("div",{className:"Details",children:[e.jsx(js,{locale:t}),e.jsx(ps,{locale:t}),e.jsx(ms,{locale:t})]}),js=({locale:t})=>{const{scriptCode:s,language:n,languageCode:r,territory:i,territoryCode:a,variantTags:l,variantTagCodes:o,writingSystem:c}=t;return e.jsxs(L,{title:"Definition",children:[e.jsx(d,{title:"Language:",children:n?e.jsx(g,{object:n}):e.jsxs("span",{children:[r," ",e.jsx(y,{children:"[language not in database]"})]})}),(i||a)&&e.jsx(d,{title:"Territory:",children:i?e.jsx(g,{object:i}):e.jsxs("span",{children:[a," ",e.jsx(y,{children:"[territory not in database]"})]})}),s&&e.jsx(d,{title:"Writing System:",children:c?e.jsx(g,{object:c}):e.jsxs("span",{children:[s," ",e.jsx(y,{children:"[writing system not in database]"})]})}),o&&o.length>0&&e.jsx(d,{title:`Variant Tag${o.length>1?"s":""}:`,children:l?e.jsx(f,{children:l.map(h=>e.jsx(g,{object:h},h.ID))}):e.jsxs("span",{children:[o.join(", ")," ",e.jsx(y,{children:"[variant not in database]"})]})})]})},ps=({locale:t})=>{const{censusRecords:s,populationSpeaking:n,populationSpeakingPercent:r,populationWriting:i,populationWritingPercent:a,territory:l}=t;return e.jsxs(L,{title:"Population",children:[n==null&&e.jsx(y,{children:"No population data available."}),n!=null&&e.jsxs(d,{title:"Speakers:",children:[n.toLocaleString()," [",e.jsx(Le,{locale:t}),"]"]}),r!=null&&e.jsxs(d,{title:e.jsxs("span",{style:{marginLeft:"2em"},children:["% in ",(l==null?void 0:l.scope.toLowerCase())??"territory",":"]}),children:[T(r),"%"]}),i!=null&&l&&e.jsxs(d,{title:"Writers:",children:["~",vt(i,3).toLocaleString()," [previous estimate * literacy",l.literacyPercent!=null&&` (${l.literacyPercent}%)`,"]"]}),a!=null&&e.jsxs(d,{title:e.jsxs("span",{style:{marginLeft:"2em"},children:["% in ",(l==null?void 0:l.scope.toLowerCase())??"territory",":"]}),children:[T(a),"%"]}),s&&s.length>0&&e.jsx(d,{title:"Other Censuses:",children:e.jsxs("table",{style:{marginLeft:"2em",borderSpacing:"1em 0"},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Population"}),e.jsx("th",{children:"Percent"}),e.jsx("th",{children:"Census"}),e.jsx("th",{children:"Difference"})]})}),e.jsx("tbody",{children:s.sort((o,c)=>c.populationPercent-o.populationPercent).map(o=>e.jsxs("tr",{children:[e.jsx("td",{style:{textAlign:"right"},children:o.populationEstimate.toLocaleString()}),e.jsxs("td",{style:{textAlign:"right"},children:[T(o.populationPercent),"%"]}),e.jsx("td",{children:e.jsx(g,{object:o.census})}),e.jsx("td",{style:{textAlign:"right"},children:e.jsx(ke,{percentNew:o.populationPercent,percentOld:r})})]},o.census.ID))})]})})]})},ms=({locale:t})=>{const{officialStatus:s,wikipedia:n}=t;return e.jsxs(L,{title:"Other",children:[!s&&!n&&e.jsx(y,{children:"No additional data available."}),s&&e.jsx(d,{title:"Government Status:",children:Se(s)}),n&&e.jsx(d,{title:"Wikipedia:",children:e.jsx(Ae,{object:t})})]})},ys=({territory:t})=>{const{ID:s,censuses:n,dependentTerritories:r,gdp:i,literacyPercent:a,locales:l,parentUNRegion:o,population:c,containsTerritories:h,sovereign:j}=t;return e.jsxs("div",{className:"Details",children:[e.jsxs(L,{title:"Attributes",children:[e.jsx(d,{title:"Territory ID:",children:s}),!Number.isNaN(c)&&e.jsx(d,{title:"Population:",children:c.toLocaleString()}),a&&!Number.isNaN(a)&&e.jsxs(d,{title:"Literacy:",children:[a.toFixed(1),"%"]}),i&&!Number.isNaN(i)&&e.jsx(d,{title:"Gross Domestic Product:",children:St(i)})]}),e.jsxs(L,{title:"Connections",children:[l&&l.length>0&&e.jsx(d,{title:"Languages:",children:e.jsx(f,{children:Object.values(l).map(p=>e.jsx(g,{labelSource:"language",object:p},p.ID))})}),o!=null&&e.jsx(d,{title:"In UN region:",children:e.jsx(g,{object:o})}),h&&h.length>0&&e.jsx(d,{title:"Contains:",children:e.jsx(f,{children:h.sort(D()).map(p=>e.jsx(g,{object:p},p.ID))})}),j!=null&&e.jsx(d,{title:"Administered by:",children:e.jsx(g,{object:j})}),r&&r.length>0&&e.jsx(d,{title:"Administers:",children:e.jsx(f,{children:r.sort(D()).map(p=>e.jsx(g,{object:p},p.ID))})}),n&&n.length>0&&e.jsx(d,{title:"Census Tables:",children:e.jsx(f,{children:n.sort(D()).map(p=>e.jsx(g,{object:p},p.ID))})})]})]})},fs=({variantTag:t})=>{const{ID:s,dateAdded:n,prefixes:r,nameDisplay:i,description:a,languages:l,locales:o}=t;return e.jsxs("div",{className:"Details",children:[e.jsxs(L,{title:"Attributes",children:[e.jsx(d,{title:"IANA Code:",children:s}),e.jsx(d,{title:"Name:",children:i}),a&&e.jsx(d,{title:"Description:",children:a}),n&&e.jsx(d,{title:"Added:",children:n.toLocaleDateString()})]}),e.jsxs(L,{title:"Connections",children:[r.length>0&&e.jsx(d,{title:"Declared Prefixes:",children:e.jsx(f,{children:r})}),l.length>0&&e.jsx(d,{title:"Languages:",children:e.jsx(f,{children:Object.values(l).map(c=>e.jsx(g,{object:c},c.ID))})}),o.length>0&&e.jsx(d,{title:"Locales:",children:e.jsx(f,{children:Object.values(o).map(c=>e.jsx(g,{object:c},c.ID))})})]})]})},bs=({writingSystem:t})=>{const{childWritingSystems:s,containsWritingSystems:n,languages:r,localesWhereExplicit:i,parentWritingSystem:a,populationUpperBound:l,primaryLanguage:o,primaryLanguageCode:c,rightToLeft:h,sample:j,scope:p,territoryOfOrigin:S,unicodeVersion:v}=t;return e.jsxs("div",{className:"Details",children:[e.jsxs(L,{title:"Attributes",children:[e.jsx(d,{title:"Scope:",children:p}),h!=null&&e.jsx(d,{title:"Direction",children:h?"Right to Left":"Left to Right"}),j&&e.jsx(d,{title:"Sample",children:j}),e.jsx(d,{title:"Unicode Support:",children:v!=null?`since version ${v}`:e.jsx("em",{children:"Not supported by Unicode"})}),(l??0)>100&&e.jsx(d,{title:e.jsxs(e.Fragment,{children:["Population (Upper Bound",e.jsx(K,{}),"):"]}),children:l==null?void 0:l.toLocaleString()})]}),e.jsxs(L,{title:"Connections",children:[c!=null&&e.jsx(d,{title:"Primary language:",children:o!=null?e.jsx(g,{object:o}):c}),r&&Object.values(r).length>0&&e.jsx(d,{title:"Languages:",children:e.jsx(f,{children:Object.values(r).sort(D()).map(x=>e.jsx(g,{object:x},x.ID))})}),S&&e.jsx(d,{title:"Territory of Origin:",children:e.jsx(g,{object:S})}),i&&i.length>0&&e.jsx(d,{title:"Locales (where writing system is explicit):",children:e.jsx(f,{children:i.sort(D()).map(x=>e.jsx(g,{object:x},x.ID))})}),a&&e.jsx(d,{title:"Originated from:",children:e.jsx(g,{object:a})}),s&&s.length>0&&e.jsx(d,{title:"Inspired:",children:e.jsx(f,{children:s.sort(D()).map(x=>e.jsx(g,{object:x},x.ID))})}),n&&n.length>0&&e.jsx(d,{title:"Contains:",children:e.jsx(f,{children:n.sort(D()).map(x=>e.jsx(g,{object:x},x.ID))})})]})]})},he=({object:t,objectID:s})=>{if(t==null)return s!=null?e.jsx(he,{object:le(s)}):e.jsx(e.Fragment,{});switch(t.type){case u.Census:return e.jsx(Qt,{census:t});case u.Language:return e.jsx(ds,{lang:t});case u.Locale:return e.jsx(xs,{locale:t});case u.Territory:return e.jsx(ys,{territory:t});case u.WritingSystem:return e.jsx(bs,{writingSystem:t});case u.VariantTag:return e.jsx(fs,{variantTag:t})}};export{mt as C,se as D,Ds as E,g as H,Ee as I,bt as L,ks as N,he as O,K as P,Pe as T,Bt as V,Dt as W,R as a,y as b,Zt as c,Rt as d,ve as e,Fe as f,Ae as g,Ct as h,Le as i,f as j,Lt as k,kt as l,le as m,T as n,Mt as o,ne as p,de as q,Is as r,Ns as s,ws as t,Ls as u,Wt as v,Tt as w};
