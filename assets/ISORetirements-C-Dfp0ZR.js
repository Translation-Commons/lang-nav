import{n as r,L as u,e as S,f as h}from"./index-Cv3pMw4P.js";var v=(e=>(e.NonExistent="N",e.Duplicate="D",e.Split="S",e.Merged="M",e.NeverISO="Never ISO",e))(v||{});async function L(){return await fetch("data/iso/iso-639-3_Retirements.tab").then(e=>e.text()).then(e=>e.split(`
`).slice(1).map(i=>{var g;if(i.split("	").length<6)return null;const[t,n,c,s,o,p]=i.split("	"),d=c.trim();let l=[];return d==="S"&&(l=((g=o.match(/\[([a-z]{3})\]/g))==null?void 0:g.map(f=>f.slice(1,-1)))||[]),{id:t.trim(),languageName:n.trim(),reason:d,changeTo:s.trim(),remedy:o.trim(),effectiveDate:new Date(p.trim()),splitLanguages:l}}).filter(i=>i!==null)).catch(e=>console.error("Error loading TSV:",e))}function O(e,i){i.forEach(a=>{let t=e.ISO[a.id];const n=N(a);if(t)t.warnings[r.isoCode]=n,delete e.ISO[a.id],delete e.BCP[a.id],delete e.CLDR[a.id],delete e.UNESCO[a.id],a.changeTo&&(t.sourceSpecific.ISO.parentLanguageCode=a.changeTo,t.sourceSpecific.BCP.parentLanguageCode=a.changeTo);else{const c=a.splitLanguages.map(s=>e.All[s]).filter(s=>s!=null);t={...h(a.id,a.languageName),scope:u.SpecialCode,sourceSpecific:{...S(),All:{code:a.id,name:a.languageName,scope:u.SpecialCode,parentLanguageCode:a.changeTo||void 0,childLanguages:c},ISO:{code:a.id,childLanguages:[]}}},e.All[a.id]=t}t.retirementReason=a.reason,t.warnings[r.isoCode]=n,t.viabilityConfidence??(t.viabilityConfidence="No"),t.viabilityExplanation??(t.viabilityExplanation=n)})}function N(e){const i=`The language code [${e.id}] was retired on ISO: `,a=`Effective ${e.effectiveDate.toLocaleDateString()}.`;switch(e.reason){case"N":return i+"Non-existent -- this language may have never existed. It was added to ISO but later removed. "+a;case"D":return i+`Duplicate -- this language was determined to be a duplicate of \`${e.changeTo}\`. `+a;case"S":return i+`${e.remedy}. `+a;case"M":return i+`Merged -- this language was merged into \`${e.changeTo}\`. `+a;case"Never ISO":return"Never ISO -- this language was never officially part of any ISO 639 standard."}}function D(e){switch(e){case"N":return"Non-Existent";case"D":return"Duplicate";case"S":return"Split";case"M":return"Merged";case"Never ISO":return"Never ISO";default:return}}export{v as R,O as a,D as g,L as l};
