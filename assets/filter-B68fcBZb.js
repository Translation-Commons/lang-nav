import{r as y,O as s,j as i,g as P,H as B,d as x,S as g,u as f,a as o,T as D}from"./index-DpweZJ_m.js";import{d as S,a as W}from"./DataContext-BrrBXRtB.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),M=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,t)=>t?t.toUpperCase():n.toLowerCase()),T=e=>{const r=M(e);return r.charAt(0).toUpperCase()+r.slice(1)},R=(...e)=>e.filter((r,n,t)=>!!r&&r.trim()!==""&&t.indexOf(r)===n).join(" ").trim(),H=e=>{for(const r in e)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=y.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:t,className:a="",children:u,iconNode:l,...c},d)=>y.createElement("svg",{ref:d,...V,width:r,height:r,stroke:e,strokeWidth:t?Number(n)*24/Number(r):n,className:R("lucide",a),...!u&&!H(c)&&{"aria-hidden":"true"},...c},[...l.map(([m,h])=>y.createElement(m,h)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=(e,r)=>{const n=y.forwardRef(({className:t,...a},u)=>y.createElement(I,{ref:u,iconNode:r,className:R(`lucide-${j(T(e))}`,`lucide-${e}`,t),...a}));return n.displayName=T(e),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],U=k("info",$);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],le=k("x",_),ce=({objectType:e})=>{switch(e){case s.Census:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Census:"})," A count of people in a given area -- for this site this is typically the count of people that speak or understand a language."]});case s.Language:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Language (Languoid):"}),'A verbal communication system used by multiple people. Languages should be mutually intelligible, whereas a dialect is a subset of a language defined by differences in lexicon and pronunciation. Since languages families, contested languages, and dialects are included it is more precise to consider these "Languoids".']});case s.Locale:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Locale:"}),"The combination of a language and territory -- used to express how many people speak a language in a given area or if a language is officially supported. Some locales specify a particular writing system and/or variation information (dialect, orthography...)."]});case s.Territory:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Territory:"}),"A geographical unit. Some may not have universal recognition. Currently showing both countries as well as dependencies (eg. Hong Kong) that have separate ISO codes."]});case s.WritingSystem:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Writing System:"}),"A system for writing a language to a persistent visual media. For instance Latin alphabet, Han characters, cursive Arabic script. Some systems may contain other systems."]});case s.VariantTag:return i.jsxs(i.Fragment,{children:[i.jsx("label",{children:"Variant Tag:"}),'The Internet Assigned Numbers Authority (IANA) maintains an enumeration of language tags in common usage. The "variant" tags are used in composite locales in the form ',i.jsx("code",{children:"ca_valencia"})," or ",i.jsx("code",{children:"ca-u-va-valencia"}),". These are typically used to specify a particular orthography or dialect."]})}},q=({children:e,className:r,hoverContent:n,onClick:t,style:a})=>{const{showHoverCard:u,hideHoverCard:l}=P();if(n==null)return i.jsx("button",{className:r,onClick:t,style:{cursor:t?"pointer":"auto",...a},type:"button",children:e});const c=m=>{u(n,m.clientX,m.clientY)},d=m=>{u(n,m.clientX,m.clientY)};return i.jsx("button",{className:r,onMouseEnter:c,onMouseMove:d,onMouseLeave:l,onClick:()=>{l(),t!=null&&t()},style:{cursor:t?"pointer":"auto",...a},children:e})};var p=(e=>(e.Standalone="standalone",e.First="first",e.Middle="middle",e.Last="last",e.Only="only",e))(p||{});function G(e,r){return r===1?"only":e===0?"first":e===r-1?"last":"middle"}function X(e){const r=y.useRef(null);return y.useEffect(()=>{function n(t){r.current&&!r.current.contains(t.target)&&e()}return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e]),r}const Y=({children:e,containerRef:r})=>i.jsx("div",{style:{position:"relative"},ref:r,children:i.jsx("div",{className:"dropdown",style:{alignItems:"start",position:"absolute",display:"flex",left:"0px",flexDirection:"column",width:"fit-content",zIndex:100,marginTop:"1em",backgroundColor:"var(--color-background)",borderRadius:"1em",maxHeight:"20em",overflowY:"auto"},children:e})}),z=({label:e,description:r,optionsDisplay:n})=>e==null?null:i.jsxs("span",{style:K(n),children:[i.jsx("div",{children:e}),r&&i.jsx(B,{hoverContent:r,children:i.jsx(U,{size:"1em",display:"block"})})]});function K(e){const r={display:"flex",gap:"0.25em",lineHeight:"1em",alignItems:"center",fontWeight:"bold",padding:"0.5em",margin:"auto 0",whiteSpace:"nowrap",borderRadius:"1em"};switch(e){case C.ButtonGroup:r.borderRadius="1em 0 0 1em",r.marginLeft="-0.125em",r.marginRight="-0.125em";break;case C.ButtonList:r.borderRadius="1em 0 0 1em";break;case C.InlineDropdown:r.padding="0 0.5em";break;case C.Dropdown:break}return r}var C=(e=>(e.Dropdown="dropdown",e.InlineDropdown="inlineDropdown",e.ButtonGroup="buttonGroup",e.ButtonList="buttonList",e))(C||{});function ge({getOptionDescription:e=()=>{},getOptionLabel:r=m=>m,onChange:n,options:t,optionsDisplay:a="buttonList",selected:u,selectorDescription:l,selectorLabel:c,selectorStyle:d}){const[m,h]=y.useState(!1),N=X(()=>h(!1));return i.jsxs(Z,{optionsDisplay:a,manualStyle:d,children:[c&&i.jsx(z,{label:c,description:l,optionsDisplay:a}),i.jsx(Q,{isExpanded:m,containerRef:N,optionsDisplay:a,children:i.jsx(J,{getOptionDescription:e,getOptionLabel:r,onClick:L=>{h(!1),n(L)},options:t,optionsDisplay:a,selected:u})}),(a==="dropdown"||a==="inlineDropdown")&&i.jsx(F,{getOptionDescription:e,getOptionLabel:L=>`${r(L)} ${m?"▼":"▶"}`,onClick:()=>h(L=>!L),option:Array.isArray(u)?u[0]:u,optionsDisplay:a,isSelected:!0})]})}const Z=({children:e,optionsDisplay:r,manualStyle:n})=>{const t={display:"flex",flexDirection:"row",alignItems:"center",marginLeft:"0.125em",marginRight:"0.5em",marginBottom:"0.5em"};return r==="buttonList"?(t.flexDirection="column",t.alignItems="start"):r==="inlineDropdown"?(t.marginLeft="0",t.marginRight="0",t.marginBottom="0"):r==="buttonGroup"&&(t.gap="-0.125em"),i.jsx("div",{className:"selector "+r,style:{...t,...n},children:e})},Q=({children:e,containerRef:r,isExpanded:n,optionsDisplay:t})=>{switch(t){case"buttonList":return i.jsx("div",{ref:r,style:{display:"flex",flexWrap:"wrap",gap:"0.25em 0.25em",marginLeft:"1em"},children:e});case"buttonGroup":return i.jsx(i.Fragment,{children:e});case"dropdown":case"inlineDropdown":return n?i.jsx(Y,{containerRef:r,children:e}):null}};function J({getOptionDescription:e=()=>{},getOptionLabel:r=l=>l,onClick:n,options:t,optionsDisplay:a,selected:u}){return t.map((l,c)=>i.jsx(F,{getOptionDescription:e,getOptionLabel:r,onClick:n,option:l,optionsDisplay:a,isSelected:Array.isArray(u)?u.includes(l):u===l,position:G(c,t.length)},l))}function F({getOptionDescription:e=()=>{},getOptionLabel:r=c=>c,isSelected:n,onClick:t,option:a,optionsDisplay:u,position:l=p.Standalone}){let c="selectorOption";return n&&(c+=" selected"),n||(c+=" unselected"),u==="inlineDropdown"&&l===p.Standalone&&(c+=" hoverableText"),i.jsx(q,{className:c,hoverContent:e(a),onClick:()=>t(a),style:A(u,n,l),children:r(a)})}function A(e,r,n){const t={border:"0.125em solid var(--color-button-primary)",borderRadius:"0px",cursor:"pointer",lineHeight:"1em",padding:"0.5em",whiteSpace:"nowrap"};switch(e){case"buttonGroup":n===p.Last?(t.marginLeft="-0.125em",t.borderRadius="0 1em 1em 0"):n===p.First?t.borderRadius="1em 0 0 1em":n===p.Middle&&(t.marginLeft="-0.125em");break;case"buttonList":t.borderRadius="1em",r||(t.border="0.125em solid var(--color-button-secondary)");break;case"inlineDropdown":return n===p.Standalone?(t.margin="-0.25em",t.border="none",t.borderRadius=".5em",t.padding="0.25em",t):A("dropdown",r,n);case"dropdown":t.textAlign="left",t.width="100%",t.borderRadius=void 0,n===p.First?(t.borderRadius="1em 1em 0 0",t.margin="0 0 -0.125em 0",t.borderBottom="none"):n===p.Last?(t.borderRadius="0 0 1em 1em",t.margin="0",t.borderTop="none"):n===p.Middle?(t.margin="0 0 -0.125em 0",t.borderRadius="0",t.borderTop="none",t.borderBottom="none"):n===p.Only?t.borderRadius="1em":n===p.Standalone&&(t.borderRadius="1em",t.width="fit-content");break}return t}function de(e){switch(e.type){case s.Census:return[e.modality,e.proficiency,e.acquisitionOrder,e.domain&&e.domain!="Any"?"@"+e.domain:null].filter(r=>r!=null&&r!="Any").join(", ");case s.Language:return ee(e);case s.Locale:return;case s.Territory:return e.scope;case s.WritingSystem:return e.nameDisplay!=e.nameFull?e.nameFull:void 0}}function ee(e){let r=e.nameSubtitle,n=e.scope;r==="macrolanguage"&&(r=void 0),n==x.Language&&(n=void 0);const t=[n,r].filter(Boolean).join(", ");return t!==""?t:void 0}function me(e){switch(e){case s.Census:return"censuses";case s.Language:return"languages";case s.Locale:return"locales";case s.Territory:return"territories";case s.WritingSystem:return"writing systems";case s.VariantTag:return"variant tags"}}function re(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const te=({text:e,searchPattern:r})=>{if(r==="")return e;const n=re(r),t=e.match(new RegExp(`(^|.*\\P{L})(${n})(?:(.*\\P{L})(${n}))*?(.*)`,"iu"));return t?i.jsx(i.Fragment,{children:t.slice(1).map((a,u)=>u%2===0?a:i.jsx("span",{className:"highlighted",children:a},u))}):e},pe=({object:e,field:r})=>{const{searchBy:n,searchString:t}=f(),a=t.toLowerCase();return n===r?i.jsx(w,{object:e,query:t,field:r}):n===g.AllNames&&[g.EngName,g.Endonym].includes(r)?i.jsx(w,{object:e,query:t,field:r}):n===g.NameOrCode&&[g.EngName,g.Code].includes(r)?i.jsx(w,{object:e,query:t,field:r}):v(e,r,a)},w=({object:e,field:r,query:n})=>i.jsx(te,{text:v(e,r,n),searchPattern:n.toLowerCase()});function v(e,r,n){switch(r){case g.AllNames:return e.names.filter(t=>S(t,(n==null?void 0:n.toLowerCase())??""))[0]??"";case g.Code:return e.codeDisplay;case g.Endonym:return e.nameEndonym??"";case g.EngName:return e.nameDisplay;case g.NameOrCode:return e.nameDisplay+" ["+e.codeDisplay+"]"}}function O(e,r,n){switch(e.type){case s.Language:return(e.populationCited??0)+(r&&n?e.sourceSpecific[n].populationOfDescendents??0:0);case s.Locale:return e.populationSpeaking;case s.Census:return e.eligiblePopulation;case s.WritingSystem:return e.populationUpperBound+(r?e.populationOfDescendents:0);case s.Territory:return e.population;case s.VariantTag:return e.languages.reduce((t,a)=>t+(a.populationCited||0),0)}}function ye(e,r){const{sortBy:n,languageSource:t,sortDirection:a}=f(),l=ne(n,t,e??!1);return a==="reverse"?(c,d)=>-l(c,d):l}function ne(e,r,n){switch(e){case o.Code:return(t,a)=>t.codeDisplay>a.codeDisplay?1:a.codeDisplay>t.codeDisplay?-1:0;case o.Name:return(t,a)=>t.nameDisplay>a.nameDisplay?1:a.nameDisplay>t.nameDisplay?-1:0;case o.Endonym:return(t,a)=>t.nameEndonym==null?a.nameEndonym==null?0:1:a.nameEndonym==null?-1:t.nameEndonym>a.nameEndonym?1:a.nameEndonym>t.nameEndonym?-1:0;case o.CountOfTerritories:return(t,a)=>{switch(t.type){case s.Language:return a.type===s.Language?b(a).length-b(t).length:-1;case s.Locale:return 0;case s.Census:return 0;case s.WritingSystem:return 0;case s.Territory:return a.type===s.Territory?a.containsTerritories.length-t.containsTerritories.length:-1;case s.VariantTag:return 0}};case o.CountOfLanguages:return(t,a)=>{var u,l,c,d;switch(t.type){case s.Language:return a.type===s.Language?a.childLanguages.length-t.childLanguages.length:-1;case s.Locale:return a.type===s.Locale?(((u=a.containedLocales)==null?void 0:u.length)||0)-(((l=t.containedLocales)==null?void 0:l.length)||0):-1;case s.Census:return a.type===s.Census?a.languageCount-t.languageCount:-1;case s.WritingSystem:return a.type===s.WritingSystem?Object.values(a.languages).length-Object.values(t.languages).length:-1;case s.Territory:return a.type===s.Territory?a.locales.length-t.locales.length:-1;case s.VariantTag:return a.type===s.VariantTag?(((c=a.languageCodes)==null?void 0:c.length)||0)-(((d=t.languageCodes)==null?void 0:d.length)||0):-1}};case o.Population:return(t,a)=>O(a,n,r)-O(t,n,r);case o.RelativePopulation:return(t,a)=>{var u,l;switch(t.type){case s.Census:case s.Language:case s.WritingSystem:case s.VariantTag:return 0;case s.Locale:return a.type===s.Locale?(a.populationSpeakingPercent??0)-(t.populationSpeakingPercent??0):-1;case s.Territory:return a.type===s.Territory?a.population/(((u=a.parentUNRegion)==null?void 0:u.population)??1)-t.population/(((l=t.parentUNRegion)==null?void 0:l.population)??1):-1}};case o.Literacy:return(t,a)=>{switch(t.type){case s.Census:case s.Language:case s.WritingSystem:case s.VariantTag:return 0;case s.Locale:return a.type===s.Locale?(a.literacyPercent??0)-(t.literacyPercent??0):-1;case s.Territory:return a.type===s.Territory?(a.literacyPercent??0)-(t.literacyPercent??0):-1}};case o.Date:return(t,a)=>E(a)-E(t)}}function fe(e){switch(e){case s.Locale:return[o.Code,o.Name,o.Endonym,o.Population,o.Literacy,o.RelativePopulation,o.CountOfLanguages];case s.Territory:return[o.Code,o.Name,o.Population,o.Literacy,o.CountOfLanguages,o.CountOfTerritories];case s.Language:return[o.Code,o.Name,o.Endonym,o.Population,o.CountOfTerritories,o.CountOfLanguages];case s.Census:return[o.Date,o.Code,o.Name,o.Population,o.CountOfLanguages];case s.WritingSystem:return[o.Code,o.Name,o.Endonym,o.Population,o.CountOfLanguages];case s.VariantTag:return[o.Date,o.Code,o.Name,o.Population,o.CountOfLanguages]}}function b(e){return W(e.locales.sort((r,n)=>(n.populationSpeaking??0)-(r.populationSpeaking??0)).map(r=>{var n;return((n=r.territory)==null?void 0:n.nameDisplay)??r.territoryCode}).filter(r=>r!=null&&r!==""),r=>r)}function E(e){var r;switch(e.type){case s.Census:return e.yearCollected;case s.VariantTag:return((r=e.dateAdded)==null?void 0:r.getTime())??0;default:return 0}}function he(){const{searchBy:e,searchString:r}=f();return r==""?()=>!0:ae(r.toLowerCase(),e)}function ae(e,r){const n=e.toLowerCase();switch(r){case g.Code:case g.Endonym:case g.EngName:case g.NameOrCode:return t=>S(v(t,r),n);case g.AllNames:return t=>t.names.map(a=>S(a,n)).reduce((a,u)=>a||u,!1)}}function Le(){var a,u;const{territoryFilter:e}=f(),r=e.split("["),n=(a=r[0])==null?void 0:a.toLowerCase().trim();let t="";return e.length===2?t=e.toUpperCase():e.length===3&&e.match(/^[0-9]{3}$/)?t=e:r.length>1&&(t=(u=r[1].split("]")[0])==null?void 0:u.toUpperCase()),y.useCallback(l=>{if(e=="")return!0;const c=se(l);return t!==""?c.some(d=>d.ID===t):c.some(d=>d.nameDisplay.toLowerCase().startsWith(n))},[e,t,n])}function se(e){switch(e.type){case s.Territory:return[e,e.parentUNRegion,e.sovereign].filter(r=>r!=null);case s.Locale:return[e.territory].filter(r=>r!=null);case s.Census:return[e.territory].filter(r=>r!=null);case s.Language:return e.locales.map(r=>r.territory).filter(r=>r!=null);case s.WritingSystem:return[e.territoryOfOrigin].filter(r=>r!=null);case s.VariantTag:return[]}}function Ce(){const{languageScopes:e,territoryScopes:r}=f();function n(t){switch(t.type){case s.Language:return e.length===0||e.includes(t.scope??x.SpecialCode);case s.Territory:return r.length===0||r.includes(t.scope);case s.Locale:return ie(t,e,r);case s.Census:case s.WritingSystem:case s.VariantTag:return!0}}return n}function ie(e,r,n){var u,l;const t=r.includes(((u=e.language)==null?void 0:u.scope)??x.SpecialCode),a=n.includes(((l=e.territory)==null?void 0:l.scope)??D.Country);return(r.length==0||t)&&(n.length==0||a)}function we(){const{page:e,limit:r}=f();return n=>r<1||n.length<r?n:n.slice(r*(e-1),r*e)}export{w as H,U as I,C as O,p as P,ge as S,le as X,ae as a,v as b,k as c,ye as d,he as e,Le as f,Ce as g,we as h,b as i,O as j,z as k,ce as l,me as m,fe as n,q as o,Y as p,G as q,A as r,de as s,pe as t,X as u};
