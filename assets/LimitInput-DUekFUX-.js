import{j as r,H as F,r as m,u as S,V as p}from"./index-DHQW5XnN.js";import{c as N,u as T,H as w,X as E,E as A}from"./getObjectName-BfSAdmyU.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],H=N("funnel",D);var c=(t=>(t.Standalone="standalone",t.First="first",t.Middle="middle",t.Last="last",t.Only="only",t))(c||{});function R(t,n){return n===1?"only":t===0?"first":t===n-1?"last":"middle"}const k=({label:t,description:n,optionsDisplay:s,style:e})=>t==null?null:r.jsx("span",{style:{...W(s),...e},children:r.jsx(F,{hoverContent:n,style:{textDecoration:"none"},children:t})});function W(t){const n={lineHeight:"1em",fontWeight:"bold",padding:"0.5em",whiteSpace:"nowrap",borderRadius:"1em"};switch(t){case f.ButtonGroup:n.borderRadius="1em 0 0 1em",n.marginLeft="-0.125em",n.marginRight="-0.125em";break;case f.ButtonList:n.borderRadius="1em 0 0 1em";break;case f.InlineDropdown:n.padding="0 0.5em";break;case f.Dropdown:break}return n}var f=(t=>(t.Dropdown="dropdown",t.InlineDropdown="inlineDropdown",t.ButtonGroup="buttonGroup",t.ButtonList="buttonList",t))(f||{});function q({getOptionDescription:t=()=>{},getOptionLabel:n=u=>u,onChange:s,options:e,optionsDisplay:i="buttonList",selected:d,selectorDescription:o,selectorLabel:a}){const[u,g]=m.useState(!1),h=T(()=>g(!1));return r.jsxs(O,{optionsDisplay:i,children:[a&&r.jsx(k,{label:a,description:o,optionsDisplay:i}),r.jsx(z,{isExpanded:u,containerRef:h,optionsDisplay:i,children:r.jsx(G,{getOptionDescription:t,getOptionLabel:n,onClick:l=>{g(!1),s(l)},options:e,optionsDisplay:i,selected:d})}),(i==="dropdown"||i==="inlineDropdown")&&r.jsx(C,{getOptionDescription:t,getOptionLabel:l=>`${n(l)} ${u?"▼":"▶"}`,onClick:()=>g(l=>!l),option:Array.isArray(d)?d[0]:d,optionsDisplay:i,isSelected:!0})]})}const O=({children:t,optionsDisplay:n})=>{const s={display:"flex",flexDirection:"row",alignItems:"end",marginLeft:"0.125em",marginRight:"0.5em",marginBottom:"0.5em"};return n==="buttonList"?(s.flexDirection="column",s.alignItems="start"):n==="inlineDropdown"?(s.marginLeft="0",s.marginRight="0",s.marginBottom="0"):n==="buttonGroup"&&(s.gap="-0.125em"),r.jsx("div",{className:"selector "+n,style:s,children:t})},z=({children:t,containerRef:n,isExpanded:s,optionsDisplay:e})=>{switch(e){case"buttonList":return r.jsx("div",{ref:n,style:{display:"flex",flexWrap:"wrap",gap:"0.25em 0.25em",marginLeft:"1em"},children:t});case"buttonGroup":return r.jsx(r.Fragment,{children:t});case"dropdown":case"inlineDropdown":return s?r.jsx("div",{style:{position:"relative"},ref:n,children:r.jsx("div",{className:"dropdown",style:{alignItems:"start",position:"absolute",display:"flex",left:"0px",flexDirection:"column",width:"fit-content",zIndex:100,marginTop:e==="inlineDropdown"?"0.25em":"0"},children:t})}):null}};function G({getOptionDescription:t=()=>{},getOptionLabel:n=o=>o,onClick:s,options:e,optionsDisplay:i,selected:d}){return e.map((o,a)=>r.jsx(C,{getOptionDescription:t,getOptionLabel:n,onClick:s,option:o,optionsDisplay:i,isSelected:Array.isArray(d)?d.includes(o):d===o,position:R(a,e.length)},o))}function C({getOptionDescription:t=()=>{},getOptionLabel:n=a=>a,isSelected:s,onClick:e,option:i,optionsDisplay:d,position:o=c.Standalone}){return r.jsx(w,{className:"selectorOption "+(s?"selected":"notselected"),hoverContent:t(i),onClick:()=>e(i),style:L(d,s,o),children:n(i)})}function L(t,n,s){const e={border:"0.125em solid var(--color-button-primary)",borderRadius:"0px",cursor:"pointer",lineHeight:"1em",padding:"0.5em",whiteSpace:"nowrap"};switch(t){case"buttonGroup":s===c.Last?(e.marginLeft="-0.125em",e.borderRadius="0 1em 1em 0"):s===c.First?e.borderRadius="1em 0 0 1em":s===c.Middle&&(e.marginLeft="-0.125em");break;case"buttonList":e.borderRadius="1em",n||(e.border="0.125em solid var(--color-button-secondary)");break;case"inlineDropdown":return s===c.Standalone?(e.backgroundColor="transparent",e.color="var(--color-text)",e.border="none",e.padding="0",e):L("dropdown",n,s);case"dropdown":e.textAlign="left",e.width="100%",e.borderRadius=void 0,s===c.First?(e.borderRadius="1em 1em 0 0",e.margin="0 0 -0.125em 0",e.borderBottom="none"):s===c.Last?(e.borderRadius="0 0 1em 1em",e.margin="0",e.borderTop="none"):s===c.Middle?(e.margin="0 0 -0.125em 0",e.borderTop="none",e.borderBottom="none"):s===c.Only?e.borderRadius="1em":s===c.Standalone&&(e.borderRadius="1em",e.width="fit-content");break}return e}const M=({getSuggestions:t=()=>[],inputStyle:n,onChange:s,optionsDisplay:e,placeholder:i,showGoToDetailsButton:d=!1,showTextInputButton:o=!0,value:a})=>{const u=m.useRef(null),[g,h]=m.useState(50);m.useEffect(()=>{u.current&&h(u.current.offsetWidth+10)},[a]);const[l,x]=m.useState(a);m.useEffect(()=>{x(a)},[a,x]),m.useEffect(()=>{const b=setTimeout(()=>s(l),300);return()=>clearTimeout(b)},[l]);const[v,I]=m.useState([]),[B,j]=m.useState(!1);return m.useEffect(()=>{let b=!0;return(async()=>{const y=await t(l);b&&I(y.slice(0,10))})(),()=>{b=!1}},[t,l]),r.jsxs(r.Fragment,{children:[B&&v.length>0&&r.jsx("div",{style:{position:"relative"},children:r.jsx("div",{className:"SelectorPopup",style:{background:"var(--color-background)",border:"none",alignItems:"start",position:"absolute",display:"flex",left:"0px",flexDirection:"column",width:"fit-content",zIndex:100},children:v.map((b,y)=>r.jsx(P,{position:R(y,v.length),setImmediateValue:x,showTextInputButton:o,showGoToDetailsButton:d,suggestion:b},y))})}),r.jsx("input",{type:"text",className:l===""?"empty":"",value:l,onChange:b=>{x(b.target.value),j(!0)},onBlur:()=>setTimeout(()=>j(!1),500),onFocus:()=>j(!0),placeholder:i,style:{...e===f.ButtonList?{borderRadius:"0.5em"}:{},...n,width:g+5}}),r.jsx("span",{ref:u,style:{position:"absolute",visibility:"hidden",whiteSpace:"pre",font:"inherit"},children:a||" "}),r.jsx(w,{hoverContent:"Clear the input",style:e===f.ButtonList?{padding:".5em",borderRadius:"0.5em",border:"none",marginLeft:"0.5em"}:{marginRight:"0em",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px",borderLeft:"none"},onClick:()=>{x(""),j(!1)},children:r.jsx(E,{size:"1em",display:"block"})})]})},P=({position:t=c.Standalone,setImmediateValue:n,showGoToDetailsButton:s,showTextInputButton:e,suggestion:i})=>{const{objectID:d,searchString:o,label:a}=i,{updatePageParams:u}=S(),g=()=>{n(o)},h=()=>{u({objectID:d,view:p.Details,searchString:o})},l=L(f.Dropdown,!1,t);return s?e?r.jsxs("div",{className:"SuggestionRowWithMultipleInteractions",style:{...l,display:"flex",flexDirection:"row",alignItems:"center",padding:"0.125em",justifyContent:"end",backgroundColor:"var(--color-background)"},children:[r.jsx("div",{style:{whiteSpace:"nowrap",maxWidth:"12em",overflow:"hidden",textOverflow:"ellipsis",paddingLeft:"1em",margin:"none"},children:a}),r.jsx(w,{hoverContent:r.jsxs(r.Fragment,{children:['Filter by "',o,'"']}),onClick:g,style:{width:"fit-content"},children:r.jsx(H,{size:"1em",display:"block"})}),r.jsx(w,{hoverContent:r.jsxs(r.Fragment,{children:["Go to the details page for ",o]}),onClick:h,style:{width:"fit-content"},children:r.jsx(A,{size:"1em",display:"block"})})]}):r.jsx(w,{hoverContent:r.jsxs(r.Fragment,{children:["Go to the details page for ",o]}),onClick:h,style:l,children:a}):e?r.jsx("button",{onClick:g,style:l,children:a}):a},X=()=>{const{limit:t,objectType:n,updatePageParams:s,view:e}=S();return r.jsxs("div",{className:"selector",style:{display:"flex",alignItems:"center"},children:[r.jsx(k,{description:`Limit how many ${n.toLowerCase()} ${V(e)} are shown.`,label:"Item Limit",optionsDisplay:f.ButtonList}),r.jsx(M,{inputStyle:{minWidth:"3em"},getSuggestions:async()=>[{searchString:"8",label:"8"},{searchString:"20",label:"20"},{searchString:"100",label:"100"},{searchString:"200",label:"200"}],onChange:i=>s({limit:parseInt(i)}),optionsDisplay:f.ButtonList,placeholder:"∞",value:t<1||Number.isNaN(t)?"":t.toString()})]})};function V(t){switch(t){case p.CardList:return"cards";case p.Hierarchy:return"root nodes";case p.Details:return"not applicable";case p.Table:return"rows";case p.Reports:return"reports"}}export{X as L,f as O,q as S,M as T,k as a};
