import{l as R,k as c,r as w,m,j as e,P as D,O as h,e as j,V as p,T as V,n as N,S as v,L as z,q as M,s as X,R as C,t as H}from"./index-TNqF_S3z.js";import{g as W,x as T,c as f,H as O,d as P,l as E,T as G,S as u,y as K,z as Q,A as Y,B as _,C as U,a as x,D as $,j as J,E as Z,L as q,n as k}from"./BaseColorBar-C76FJPSL.js";import{T as F,L as ee,C as te,a as se}from"./LimitInput-DeSye172.js";import{d as I,e as A,c as ae}from"./useDataContext-CdrZaZI_.js";import{L as re,a as ie,V as oe}from"./VitalityTypes-CbVUEUAD.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],le=R("chevron-right",ne),ce=()=>{const{page:s,updatePageParams:a}=c();w.useEffect(()=>{const t=i=>{const r=i.target;r!==null&&r instanceof HTMLElement&&(r.tagName==="INPUT"||r.tagName==="TEXTAREA"||r.isContentEditable)||(i.key==="ArrowRight"?a({page:s+1}):i.key==="ArrowLeft"&&s>1&&a({page:s-1}))};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[s,a])},de=({display:s})=>{const{languageFilter:a,updatePageParams:t}=c(),{languagesInSelectedSource:i}=I(),r=W(),{display:n}=T(),g=s??n,y=w.useCallback(async l=>{const S=l.toLowerCase();return i.filter(o=>f(o,m.NameOrCode).toLowerCase().split(/\W/g).some(d=>d.startsWith(S))).sort((o,d)=>(r(o)?-1:1)-(r(d)?-1:1)).map(o=>{const d=e.jsx(O,{object:o,field:m.NameOrCode,query:l}),b=f(o,m.NameOrCode);return{objectID:o.ID,searchString:b,label:d}})},[i,r]);return e.jsx(P,{display:g,children:e.jsxs("div",{className:"selector",style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[e.jsx(E,{label:"Language",description:e.jsxs(e.Fragment,{children:['Filter results to those relevant to a specific language, language family, or dialect. You can enter either the language name or its code. For example, entering "Spanish" or ',e.jsx("code",{children:"spa"})," will filter to objects relevant to Spanish."," ",e.jsx(ge,{})]})}),e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx(F,{inputStyle:{minWidth:"8em"},getSuggestions:y,onChange:l=>t({languageFilter:l}),pageParameter:D.languageFilter,placeholder:"Name or code",value:a})})]})})},ge=()=>{const{objectType:s}=c();switch(s){case h.Language:return e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Language view only:"})," Selecting a language family will show the languages in the family. Dialects will also appear if they are enabled."]});case h.Territory:return e.jsx(e.Fragment,{children:"This will filter territories to ones where the selected language is used."});case h.WritingSystem:return e.jsx(e.Fragment,{children:"This will filter writing systems to ones used for the selected language."});case h.VariantTag:return e.jsx(e.Fragment,{children:"This will filter variant tags for ones that are intended for this language."});case h.Locale:return e.jsx(e.Fragment,{children:"This will filter locales with the selected language."});case h.Census:return e.jsxs(e.Fragment,{children:[e.jsx(G,{size:"1em",style:{color:"var(--color-text-yellow)"}})," Censuses are not currently supported by this filter."]})}},pe=()=>{const{languageScopes:s,updatePageParams:a}=c();function t(r){return A(ue(r))}return e.jsx(u,{selectorLabel:"Languoid Type",labelWhenEmpty:"Any",selectorDescription:"Filter what level of language-type objects are shown, such as families, macrolanguages, languages, dialects, and special codes.",options:Object.values(j),onChange:r=>s.includes(r)?a({languageScopes:s.filter(n=>n!=r)}):a({languageScopes:[...s,r]}),selected:s,getOptionLabel:t})};function ue(s){switch(s){case j.Family:return"language families";case j.Macrolanguage:return"macrolanguages";case j.Language:return"languages";case j.Dialect:return"dialects";case j.SpecialCode:return"special codes"}}const he=({display:s})=>{const{territoryFilter:a,updatePageParams:t}=c(),{territories:i}=I(),r=W(),{display:n}=T(),g=s??n,y=w.useCallback(async l=>{const S=l.toLowerCase();return i.filter(o=>f(o,m.NameOrCode).toLowerCase().split(/\W/g).some(d=>d.startsWith(S))).sort((o,d)=>(r(o)?-1:1)-(r(d)?-1:1)).map(o=>{const d=e.jsx(O,{object:o,field:m.NameOrCode,query:l}),b=f(o,m.NameOrCode);return{objectID:o.ID,searchString:b,label:d}})},[i,r]);return e.jsx(P,{display:g,children:e.jsxs("div",{className:"selector",style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[e.jsx(E,{label:"In Territory",description:"Filter results by ones relevant in a territory."}),e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx(F,{inputStyle:{minWidth:"8em"},getSuggestions:y,onChange:l=>t({territoryFilter:l}),pageParameter:D.territoryFilter,placeholder:"Name or code",value:a})})]})})},ye=()=>{const{territoryScopes:s,updatePageParams:a,objectType:t,view:i}=c();return![h.Territory,h.Locale].includes(t)&&!(i===p.Reports&&t===h.Census)?null:e.jsx(u,{selectorLabel:"Territory Type",labelWhenEmpty:"Any",selectorDescription:"Filter what level of territories are shown, such as countries, regions, and dependencies.",options:Object.values(V),onChange:n=>s.includes(n)?a({territoryScopes:s.filter(g=>g!=n)}):a({territoryScopes:[...s,n]}),selected:s})},me=()=>{const{isoStatus:s,updatePageParams:a}=c();return e.jsx(u,{selectorLabel:"ISO Language Status",selectorDescription:"Filter languages by their ISO status (Living, Extinct, etc.)",labelWhenEmpty:"Any",options:Object.values(re).filter(t=>typeof t=="number"),onChange:t=>s.includes(t)?a({isoStatus:s.filter(i=>i!==t)}):a({isoStatus:[...s,t]}),selected:s,getOptionLabel:K})},xe=()=>{const{vitalityEth2013:s,updatePageParams:a}=c();return e.jsx(u,{selectorLabel:"Vitality Eth 2013",selectorDescription:"Filter languages by their Ethnologue 2013 vitality classification",labelWhenEmpty:"Any",options:Object.values(ie).filter(t=>typeof t=="number"),onChange:t=>s.includes(t)?a({vitalityEth2013:s.filter(i=>i!==t)}):a({vitalityEth2013:[...s,t]}),selected:s,getOptionLabel:Q})},je=()=>{const{vitalityEth2025:s,updatePageParams:a}=c();return e.jsx(u,{selectorLabel:"Vitality Eth 2025",selectorDescription:"Filter languages by their Ethnologue 2025 vitality classification",labelWhenEmpty:"Any",options:Object.values(oe).filter(t=>typeof t=="number"),onChange:t=>s.includes(t)?a({vitalityEth2025:s.filter(i=>i!==t)}):a({vitalityEth2025:[...s,t]}),selected:s,getOptionLabel:Y})},fe=({display:s})=>{const{writingSystemFilter:a,updatePageParams:t}=c(),{writingSystems:i}=I(),r=_(N.Population),{display:n}=T(),g=s??n,y=w.useCallback(async l=>{const S=l.toLowerCase();return i.filter(o=>f(o,m.NameOrCode).toLowerCase().split(/\W/g).some(d=>d.startsWith(S))).sort(r).map(o=>{const d=e.jsx(O,{object:o,field:m.NameOrCode,query:l}),b=f(o,m.NameOrCode);return{objectID:o.ID,searchString:b,label:d}})},[i,r]);return e.jsx(P,{display:g,children:e.jsxs("div",{className:"selector",style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[e.jsx(E,{label:"Written in",description:"Filter results by ones written in this script."}),e.jsx("div",{style:{display:"flex",alignItems:"center"},children:e.jsx(F,{inputStyle:{minWidth:"8em"},getSuggestions:y,onChange:l=>t({writingSystemFilter:l}),pageParameter:D.writingSystemFilter,placeholder:"Name or code",value:a})})]})})},Se=()=>{const{sortBy:s,updatePageParams:a,objectType:t}=c(),i=U(t);return e.jsx(u,{selectorLabel:"Sort By",selectorDescription:"Choose the order of items in the view.",options:Object.values(N).filter(r=>i.includes(r)),onChange:r=>a({sortBy:r}),selected:s,display:x.Dropdown})},be=()=>{const{sortBehavior:s,updatePageParams:a}=c();return e.jsx(u,{selectorLabel:"Sort Direction",options:[v.Normal,v.Reverse],getOptionLabel:t=>v[t],getOptionDescription:t=>t===v.Normal?"Sort with high numbers first / first letter in alphabet first.":"Sort with low numbers first / last letter in alphabet first.",onChange:t=>a({sortBehavior:t}),selected:s})},we=()=>{const{localeSeparator:s,updatePageParams:a}=c();return e.jsx(u,{selectorLabel:"Locale Separator",selectorDescription:"Choose the separator in locale codes, eg. 'ar-EG' or 'ar_EG'",options:Object.values(z),onChange:t=>a({localeSeparator:t}),selected:s})},ve=()=>{const{objectType:s,updatePageParams:a,view:t}=c(),i=w.useCallback(r=>{a({objectID:void 0,objectType:r,view:t===p.Details?p.CardList:t,searchString:void 0,page:1})},[a,t]);return e.jsx(u,{selectorLabel:"Entity",options:Object.values(h),onChange:i,selected:s,display:x.ButtonList,getOptionLabel:r=>ae(J(r)),getOptionDescription:r=>e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:8},children:"Click here to change the kind of entity viewed."}),e.jsx($,{objectType:r})]})})},Le=()=>{const{preference:s,setPreference:a}=M();return e.jsx(u,{selectorLabel:"Page Brightness",selectorDescription:"Choose how bright the page should be. This parameter is stored on your device.",options:["light","dark","follow device"],onChange:t=>a(t),selected:s,getOptionLabel:A})},Ce=()=>{const{profile:s,updatePageParams:a}=c();return e.jsx(u,{selectorLabel:"Preset",selectorDescription:"Indicate the profile best describing what you are looking for. This will change the presets.",options:Object.values(X),onChange:t=>a({profile:t}),selected:s})},Pe=()=>{const{view:s,updatePageParams:a}=c();return e.jsx(u,{selectorLabel:"Display",getOptionDescription:t=>e.jsx("img",{src:De(t),width:180}),options:Object.values(p),onChange:t=>a({view:t,objectID:void 0}),display:x.ButtonList,getOptionLabel:t=>[p.Map,p.Reports].includes(t)?e.jsxs(e.Fragment,{children:[t," ",e.jsx("em",{children:"β"})]}):t,selected:s})};function De(s){switch(s){case p.CardList:return"/lang-nav/cardlist.png";case p.Details:return"/lang-nav/details.png";case p.Hierarchy:return"/lang-nav/hierarchy.png";case p.Map:return"/lang-nav/map.png";case p.Table:return"/lang-nav/table.png";case p.Reports:return"/lang-nav/reports.png"}}const ke=()=>{const[s,a]=C.useState(!0),[t,i]=C.useState(300),r=Z(()=>{});return ce(),e.jsx(Te,{isOpen:s,panelWidth:t,setPanelWidth:i,panelRef:r,children:e.jsxs(P,{display:x.Dropdown,children:[e.jsxs(L,{panelWidth:t,title:"Common Actions",optionsName:"common actions",children:[e.jsx("div",{}),e.jsx(H,{})]}),e.jsxs(L,{panelWidth:t,title:"Data",optionsName:"data options",children:[e.jsx(ve,{}),e.jsx(q,{display:x.ButtonList}),e.jsx(Ce,{})]}),e.jsxs(L,{panelWidth:t,title:"Filter",optionsName:"filters",children:[e.jsx(he,{display:x.ButtonList}),e.jsx(fe,{display:x.ButtonList}),e.jsx(de,{display:x.ButtonList}),e.jsx(pe,{}),e.jsx(ye,{}),e.jsx(me,{}),e.jsx(xe,{}),e.jsx(je,{})]}),e.jsxs(L,{panelWidth:t,title:"View",optionsName:"view options",children:[e.jsx(Pe,{}),e.jsx(ee,{}),e.jsx(Se,{}),e.jsx(be,{}),e.jsx(te,{}),e.jsx(se,{}),e.jsx(we,{}),e.jsx(Le,{})]}),e.jsx(Oe,{isOpen:s,onClick:()=>a(n=>!n),panelWidth:t})]})})},Te=({children:s,isOpen:a,panelWidth:t,setPanelWidth:i,panelRef:r})=>e.jsxs("aside",{ref:r,style:{width:t,maxWidth:a?t:"0",overflowY:"scroll",overflowX:"hidden",borderRight:"2px solid var(--color-button-primary)",transition:"max-width 0.3s ease-in-out",position:"relative"},children:[a&&e.jsx(Ee,{panelWidth:t,onResize:i}),s]}),Oe=({isOpen:s,onClick:a,panelWidth:t})=>e.jsx(k,{hoverContent:s?"Close side panel":"Open side panel to customize view",className:s?"selected primary":"primary",onClick:a,style:{borderRadius:"1em",padding:".5em",position:"fixed",top:"50%",left:s?t:"1.5em",transform:"translateX(-50%) translateY(-50%)",zIndex:1e3,transition:"left 0.3s ease-in-out"},"aria-label":s?"Close side panel":"Open side panel to customize view",children:e.jsx(le,{size:"1em",display:"block",style:{transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease-in-out"}})}),L=({children:s,panelWidth:a,title:t,optionsName:i})=>{const[r,n]=C.useState(!1),g=C.Children.toArray(s);return e.jsxs("div",{style:{borderTop:"0.125em solid var(--color-button-primary)",width:a,marginBottom:"0.5em"},children:[e.jsx("div",{style:{fontSize:"1.2em",fontWeight:"lighter",borderRadius:"0",width:"100%",textAlign:"left",backgroundColor:"var(--color-button-secondary)",padding:"0.5em"},children:t}),e.jsxs("div",{style:{display:"flex",padding:"0.25em 0.5em",gap:"0.5em",flexDirection:"column"},children:[g[0],r&&g.slice(1),e.jsx(k,{style:{padding:"0em 0.25em"},onClick:()=>n(y=>!y),children:r?`close extra ${i} ▲`:`see all ${i} ▶`})]})]})},Ee=({panelWidth:s,onResize:a})=>e.jsx("div",{style:{position:"absolute",top:0,right:0,width:"0.5em",height:"100%",cursor:"ew-resize",zIndex:10},onMouseDown:t=>{t.preventDefault();const i=t.clientX,r=s,n=y=>{const l=y.clientX-i;a(r+l)},g=()=>{window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",g)};window.addEventListener("mousemove",n),window.addEventListener("mouseup",g)}});export{ke as default};
